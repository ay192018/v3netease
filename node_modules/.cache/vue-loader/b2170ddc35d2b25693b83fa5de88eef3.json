{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\components\\itemDynamic.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\components\\itemDynamic.vue","mtime":1648733598906},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1646661867650},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646661868754}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBkYXRhIH0gZnJvbSAnQC9VdGlsL2RheWpzLmpzJzsNCmltcG9ydCB7IHBsYXlDb3VudCB9IGZyb20gJ0AvVXRpbC9mbHR0ZXIuanMnOw0KaW1wb3J0IEl0ZW0gZnJvbSAnLi9pdGVtLnZ1ZSc7DQppbXBvcnQgeyByZWYsIHdhdGNoRWZmZWN0IH0gZnJvbSAndnVlJzsNCmltcG9ydCB7IGdldHVzZXJjb21taXQgfSBmcm9tICdAL2FwaS91c2VyLmpzJzsNCmltcG9ydCB7IHNlbmRjb21tZW50IH0gZnJvbSAnQC9hcGkvY29tbW50cy5qcyc7DQppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJzsNCmltcG9ydCB7IFRvYXN0IH0gZnJvbSAndmFudCc7DQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsgSXRlbSB9LA0KICBuYW1lOiAnaXRlbUR5bmFtaWMnLA0KICBzZXR1cChwcm9wcywgeyBlbWl0LCBhdHRycyB9KSB7DQogICAgY29uc3QgY29tbWVudHMgPSByZWYoW10pOw0KICAgIGNvbnN0IGFjdGl2ZSA9IHJlZigwKTsNCiAgICBjb25zdCBwbGFjZWhvbGRlciA9IHJlZign5Y+R6KGo6K+E6K66ficpOw0KICAgIGNvbnN0IGNoYW5nZXBsc2hvdyA9IHJlZihmYWxzZSk7DQogICAgY29uc3QgdmFsdWUgPSByZWYoJycpOw0KICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOw0KDQogICAgd2F0Y2hFZmZlY3QoYXN5bmMgKCkgPT4gew0KICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBnZXR1c2VyY29tbWl0KHsNCiAgICAgICAgdGhyZWFkSWQ6IGF0dHJzLml0ZW0uaW5mby50aHJlYWRJZCwNCiAgICAgIH0pOw0KICAgICAgY29tbWVudHMudmFsdWUgPSBkYXRhLmNvbW1lbnRzOw0KICAgIH0pOw0KICAgIGNvbnN0IGFocGxheSA9IChuYW1lKSA9PiB7DQogICAgICBjaGFuZ2VwbHNob3cudmFsdWUgPSAhY2hhbmdlcGxzaG93LnZhbHVlOw0KICAgICAgcGxhY2Vob2xkZXIudmFsdWUgPSBg5Zue5aSNOiR7bmFtZX1gOw0KICAgIH07DQogICAgY29uc3Qgb3BlbnBsID0gKCkgPT4gew0KICAgICAgY2hhbmdlcGxzaG93LnZhbHVlID0gIWNoYW5nZXBsc2hvdy52YWx1ZTsNCiAgICAgIHBsYWNlaG9sZGVyLnZhbHVlID0gYOWPkeihqOivhOiuun5gOw0KICAgIH07DQogICAgY29uc3Qgc2VuZCA9IGFzeW5jICgpID0+IHsNCiAgICAgIGlmICghSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY29va2llJykpKSB7DQogICAgICAgIHJldHVybiByb3V0ZXIucHVzaCgnL2xvZ2luJyk7DQogICAgICB9DQogICAgICBpZiAodmFsdWUudmFsdWUgPT09ICcnKSByZXR1cm4gVG9hc3QoJ+S4jeiDveS4uuepuu+8gScpOw0KICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzZW5kY29tbWVudCh7DQogICAgICAgIHQ6IDEsDQogICAgICAgIHR5cGU6IDYsDQogICAgICAgIHRocmVhZElkOiBhdHRycy5pdGVtLmluZm8udGhyZWFkSWQsDQogICAgICAgIGNvbnRlbnQ6IHZhbHVlLnZhbHVlLA0KICAgICAgfSk7DQoNCiAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICBUb2FzdC5zdWNjZXNzKCfor4TorrrmiJDlip8nKTsNCiAgICAgICAgdmFsdWUudmFsdWUgPSAnJzsNCiAgICAgICAgY2hhbmdlcGxzaG93LnZhbHVlID0gIWNoYW5nZXBsc2hvdy52YWx1ZTsNCiAgICAgICAgY29tbWVudHMudmFsdWUudW5zaGlmdChkYXRhLmNvbW1lbnQpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgVG9hc3QuZmFpbCgn6K+E6K665aSx6LSlJyk7DQogICAgICB9DQogICAgfTsNCiAgICByZXR1cm4gew0KICAgICAgZW1pdCwNCiAgICAgIGF0dHJzLA0KICAgICAgYWN0aXZlLA0KICAgICAgY29tbWVudHMsDQogICAgICBkYXRhLA0KICAgICAgcGxheUNvdW50LA0KICAgICAgY2hhbmdlcGxzaG93LA0KICAgICAgdmFsdWUsDQogICAgICBzZW5kLA0KICAgICAgc2VuZGNvbW1lbnQsDQogICAgICBhaHBsYXksDQogICAgICBwbGFjZWhvbGRlciwNCiAgICAgIG9wZW5wbCwNCiAgICB9Ow0KICB9LA0KfTsNCg=="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\components\\itemDynamic.vue"],"names":[],"mappings":";AAyFA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACtC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EA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","file":"D:/HTML工程/项目/v3netease-main/src/views/follow/components/itemDynamic.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"dynamic\">\r\n    <van-nav-bar :border=\"false\" @click-left=\"emit('changeshow')\">\r\n      <template #left>\r\n        <van-icon name=\"arrow-left\" color=\"#233233\" size=\"25\" />\r\n      </template>\r\n      <template #title>\r\n        <van-image width=\"30\" height=\"30\" fit=\"cover\" round class=\"img\" :src=\"attrs.item.user.avatarUrl\" />{{\r\n          attrs.item.user.nickname\r\n        }}\r\n      </template>\r\n    </van-nav-bar>\r\n    <div class=\"center\">\r\n      <Item :item=\"attrs.item\" />\r\n      <van-tabs v-model:active=\"active\" animated>\r\n        <van-tab>\r\n          <template #title>\r\n            <div>评论 {{ attrs.item.info.commentCount }}</div>\r\n          </template>\r\n          <div class=\"itemCenter\">\r\n            <div class=\"title\">最新评论 {{ attrs.item.info.commentCount }}</div>\r\n            <div class=\"itemComments\" v-for=\"(item, index) in comments\" :key=\"index\">\r\n              <div>\r\n                <van-image width=\"30px\" height=\"30px\" round fit=\"cover\" :src=\"item.user.avatarUrl\">\r\n                  <template v-slot:loading> <van-loading type=\"spinner\" size=\"10\" color=\"#000\" /> </template\r\n                ></van-image>\r\n              </div>\r\n              <div class=\"content\">\r\n                <div class=\"top\">\r\n                  <div class=\"left\">\r\n                    <div class=\"name\">\r\n                      {{ item.user.nickname }}\r\n                    </div>\r\n                    <div class=\"time\">{{ data(item.time) }}</div>\r\n                  </div>\r\n                  <div class=\"right\">\r\n                    {{ playCount(item.likedCount) }}\r\n                    <van-icon :name=\"item.liked ? 'good-job' : 'good-job-o'\" size=\"25\" @click=\"islike(item)\" />\r\n                  </div>\r\n                </div>\r\n                <div class=\"bottom\" @click=\"ahplay(item.user.nickname)\">\r\n                  {{ item.content }}\r\n                </div>\r\n              </div>\r\n              <div class=\"van-hairline--bottom\"></div>\r\n            </div></div\r\n        ></van-tab>\r\n\r\n        <van-tab title=\"转发\">\r\n          <template #title>\r\n            <div>转发 {{ attrs.item.info.shareCount }}</div>\r\n          </template>\r\n        </van-tab>\r\n        <van-tab title=\"赞\">\r\n          <template #title>\r\n            <div>赞 {{ attrs.item.info.likedCount }}</div>\r\n          </template>\r\n        </van-tab>\r\n      </van-tabs>\r\n    </div>\r\n    <div class=\"commit\">\r\n      <div class=\"info\">\r\n        <van-button\r\n          type=\"primary\"\r\n          size=\"mini\"\r\n          round\r\n          text=\"发表评论\"\r\n          color=\"#b0b0b0\"\r\n          class=\"btn\"\r\n          @click=\"openpl\"\r\n        ></van-button\r\n        ><van-icon name=\"good-job-o\" size=\"25\" />\r\n        <van-icon name=\"revoke\" size=\"25\" />\r\n      </div>\r\n      <div class=\"viod\"></div>\r\n    </div>\r\n    <van-popup v-model:show=\"changeplshow\" position=\"bottom\" :style=\"{ height: '8%' }\"\r\n      ><van-cell-group inset clickable autofocus>\r\n        <van-field v-model=\"value\" :placeholder=\"placeholder\">\r\n          <template #button>\r\n            <van-button size=\"small\" type=\"primary\" round @click=\"send\">发 送</van-button>\r\n          </template></van-field\r\n        >\r\n      </van-cell-group></van-popup\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { data } from '@/Util/dayjs.js';\r\nimport { playCount } from '@/Util/fltter.js';\r\nimport Item from './item.vue';\r\nimport { ref, watchEffect } from 'vue';\r\nimport { getusercommit } from '@/api/user.js';\r\nimport { sendcomment } from '@/api/commnts.js';\r\nimport { useRouter } from 'vue-router';\r\nimport { Toast } from 'vant';\r\nexport default {\r\n  components: { Item },\r\n  name: 'itemDynamic',\r\n  setup(props, { emit, attrs }) {\r\n    const comments = ref([]);\r\n    const active = ref(0);\r\n    const placeholder = ref('发表评论~');\r\n    const changeplshow = ref(false);\r\n    const value = ref('');\r\n    const router = useRouter();\r\n\r\n    watchEffect(async () => {\r\n      const { data } = await getusercommit({\r\n        threadId: attrs.item.info.threadId,\r\n      });\r\n      comments.value = data.comments;\r\n    });\r\n    const ahplay = (name) => {\r\n      changeplshow.value = !changeplshow.value;\r\n      placeholder.value = `回复:${name}`;\r\n    };\r\n    const openpl = () => {\r\n      changeplshow.value = !changeplshow.value;\r\n      placeholder.value = `发表评论~`;\r\n    };\r\n    const send = async () => {\r\n      if (!JSON.parse(localStorage.getItem('cookie'))) {\r\n        return router.push('/login');\r\n      }\r\n      if (value.value === '') return Toast('不能为空！');\r\n      const { data } = await sendcomment({\r\n        t: 1,\r\n        type: 6,\r\n        threadId: attrs.item.info.threadId,\r\n        content: value.value,\r\n      });\r\n\r\n      if (data.code === 200) {\r\n        Toast.success('评论成功');\r\n        value.value = '';\r\n        changeplshow.value = !changeplshow.value;\r\n        comments.value.unshift(data.comment);\r\n      } else {\r\n        Toast.fail('评论失败');\r\n      }\r\n    };\r\n    return {\r\n      emit,\r\n      attrs,\r\n      active,\r\n      comments,\r\n      data,\r\n      playCount,\r\n      changeplshow,\r\n      value,\r\n      send,\r\n      sendcomment,\r\n      ahplay,\r\n      placeholder,\r\n      openpl,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.dynamic {\r\n  position: relative;\r\n  .center {\r\n    padding: 10px;\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 50px;\r\n    overflow-y: auto;\r\n    height: 80vh;\r\n\r\n    .itemCenter {\r\n      padding: 5px;\r\n      width: 100;\r\n      margin-bottom: 500px;\r\n      .itemComments {\r\n        margin: 5px 0;\r\n        display: flex;\r\n        .content {\r\n          margin-left: 8px;\r\n          width: 95vw-10px;\r\n          .top {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            .name {\r\n              padding-bottom: 5px;\r\n              font-size: 13px;\r\n            }\r\n            .time {\r\n              font-size: 10px;\r\n              color: #dedede;\r\n            }\r\n          }\r\n          .bottom {\r\n            margin: 8px 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .img {\r\n    vertical-align: middle;\r\n    margin-right: 5px;\r\n  }\r\n  .commit {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 10vh;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n\r\n    .info {\r\n      height: 80%;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      align-items: center;\r\n      .btn {\r\n        width: 70vw;\r\n      }\r\n    }\r\n    .viod {\r\n      height: auto;\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}