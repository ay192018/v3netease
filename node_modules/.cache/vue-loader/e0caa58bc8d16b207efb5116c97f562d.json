{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\components\\comments\\components\\commnets.vue?vue&type=style&index=0&id=4b55fc60&lang=less&scoped=true","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\components\\comments\\components\\commnets.vue","mtime":1644139956908},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\css-loader\\dist\\cjs.js","mtime":1636397467718},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1643212638233},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\postcss-loader\\src\\index.js","mtime":1636397468036},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\less-loader\\dist\\cjs.js","mtime":1636397475650},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouY29tbWVudHMgew0KICBvdmVyZmxvdy15OiBhdXRvOw0KICB3aWR0aDogMTAwdnc7DQogIGhlaWdodDogMTAwdmg7DQogIGJhY2tncm91bmQ6ICNmZmY7DQogIHotaW5kZXg6IDMwMDA7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgLmZpZXhkIHsNCiAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgbGVmdDogMDsNCiAgICByaWdodDogMDsNCiAgICB0b3A6IDA7DQogICAgei1pbmRleDogMzAwMDsNCiAgfQ0KICAvZGVlcC8gLnZhbi1uYXYtYmFyX190aXRsZSB7DQogICAgY29sb3I6ICMwMDA7DQogICAgZm9udC1zaXplOiAxM3B4Ow0KICB9DQoNCiAgLnRpdGxlLA0KICAuaXRlbSB7DQogICAgcGFkZGluZzogMTBweCAwOw0KICAgIHdpZHRoOiA5NXZ3Ow0KICAgIG1hcmdpbjogMCBhdXRvOw0KICB9DQogIC5jb25haW0gew0KICAgIHdpZHRoOiA5NXZ3Ow0KICAgIGhlaWdodDogYXV0bzsNCiAgICBtYXJnaW46IDEwMHB4IGF1dG8gMDsNCg0KICAgIHBhZGRpbmctYm90dG9tOiA1MHB4Ow0KICAgIC5pdGVtIHsNCiAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAuY29udGVudCB7DQogICAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7DQogICAgICAgIHdpZHRoOiA5NXZ3LTEwcHg7DQogICAgICAgIC50b3Agew0KICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgLm5hbWUgew0KICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDVweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsNCiAgICAgICAgICB9DQogICAgICAgICAgLnRpbWUgew0KICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4Ow0KICAgICAgICAgICAgY29sb3I6ICNkZWRlZGU7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC5ib3R0b20gew0KICAgICAgICAgIG1hcmdpbjogOHB4IDA7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCiAgLmJ0biB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiA4JTsNCiAgICBiYWNrZ3JvdW5kOiAjZmZmOw0KICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICBsZWZ0OiAwOw0KICAgIHJpZ2h0OiAwOw0KICAgIGJvdHRvbTogMDsNCiAgICB6LWluZGV4OiAxOw0KICB9DQp9DQo="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\components\\comments\\components\\commnets.vue"],"names":[],"mappings":";AAwKA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACR,CAAC,CAAC,CAAC,EAAE,CAAC;IACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACf;EACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACjB;;EAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACN,CAAC,CAAC,CAAC,CAAC,EAAE;IACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;EAChB;EACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACN,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;;IAEpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,CAAC,CAAC,CAAC,EAAE;MACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC,EAAE;UACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;UACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACnB,CAAC,CAAC,CAAC,CAAC,EAAE;YACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;UACjB;UACA,CAAC,CAAC,CAAC,CAAC,EAAE;YACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChB;QACF;QACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;QACf;MACF;IACF;EACF;EACA,CAAC,CAAC,CAAC,EAAE;IACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EACZ;AACF","file":"D:/HTML工程/项目/v3netease-main/src/components/comments/components/commnets.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"comments\">\r\n    <div class=\"fiexd\">\r\n      <van-nav-bar\r\n        :title=\"`评论(${comments.total})`\"\r\n        @click-left=\"onClickLeft\"\r\n        :border=\"false\"\r\n      >\r\n        <template #left>\r\n          <van-icon name=\"arrow-left\" color=\"#ccc\" size=\"25\" />\r\n        </template>\r\n        <template #right>\r\n          <van-icon\r\n            name=\"share-o\"\r\n            color=\"#ccc\"\r\n            size=\"25\"\r\n            @click=\"onClickright\"\r\n          />\r\n        </template>\r\n      </van-nav-bar>\r\n\r\n      <div class=\"void\"></div>\r\n      <div class=\"title\">评论区</div>\r\n    </div>\r\n    <div class=\"conaim\">\r\n      <van-list\r\n        v-model:loading=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"onLoad\"\r\n      >\r\n        <div\r\n          class=\"item\"\r\n          v-for=\"(item, index) in comments.comment\"\r\n          :key=\"index\"\r\n        >\r\n          <van-image\r\n            width=\"30px\"\r\n            height=\"30px\"\r\n            round\r\n            fit=\"cover\"\r\n            :src=\"item.user.avatarUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"10\" color=\"#000\" /> </template\r\n          ></van-image>\r\n          <div class=\"content\">\r\n            <div class=\"top\">\r\n              <div class=\"left\">\r\n                <div class=\"name\">{{ item.user.nickname }}</div>\r\n                <div class=\"time\">{{ data(item.time) }}</div>\r\n              </div>\r\n              <div class=\"right\">\r\n                {{ playCount(item.likedCount) }}\r\n                <van-icon\r\n                  :name=\"item.liked === false ? 'good-job-o' : 'good-job'\"\r\n                  size=\"25\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"bottom\" @click=\"show = !show\">\r\n              {{ item.content }}\r\n            </div>\r\n          </div>\r\n          <div class=\"van-hairline--bottom\"></div>\r\n        </div>\r\n      </van-list>\r\n    </div>\r\n    <van-popup v-model:show=\"show\" position=\"bottom\" :style=\"{ height: '10%' }\"\r\n      ><van-cell-group inset>\r\n        <van-field\r\n          v-model=\"message\"\r\n          rows=\"1\"\r\n          autosize\r\n          clickable\r\n          type=\"textarea\"\r\n          @click-right-icon=\"sendcommit\"\r\n          placeholder=\"听说爱评论的粉丝很多\"\r\n          ><template #right-icon>\r\n            <van-button size=\"small\" type=\"primary\" round>评论</van-button>\r\n          </template></van-field\r\n        >\r\n      </van-cell-group></van-popup\r\n    >\r\n    <div class=\"btn\">\r\n      <van-button type=\"primary\" size=\"large\" round @click=\"show = !show\"\r\n        >听说爱评论的粉丝很多</van-button\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { comment, sendcomment } from \"@/api/commnts.js\";\r\nimport { data } from \"@/Util/dayjs.js\";\r\nimport { Toast } from \"vant\";\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { reactive } from \"@vue/runtime-core\";\r\nimport { useStore } from \"vuex\";\r\nimport { playCount } from \"@/Util/fltter.js\";\r\nexport default {\r\n  setup(props, { attrs }) {\r\n    const router = useRouter();\r\n    const loading = ref(false);\r\n    const finished = ref(false);\r\n    const message = ref(\"\");\r\n    const store = useStore();\r\n    const show = ref(false);\r\n    const comments = reactive({\r\n      comment: [],\r\n      total: 0,\r\n      offset: 1,\r\n    });\r\n\r\n    const onClickLeft = () => {\r\n      router.back();\r\n    };\r\n    const sendcommit = async () => {\r\n      const { data } = await sendcomment({\r\n        t: 1,\r\n        type: store.state.flag,\r\n        id: attrs.id,\r\n        content: message.value,\r\n      });\r\n      console.log(data);\r\n    };\r\n    const onClickright = () => {\r\n      Toast(\"分享事件\");\r\n    };\r\n\r\n    const onLoad = async () => {\r\n      const { data } = await comment({\r\n        limit: 10,\r\n        id: attrs.id,\r\n        offset: (comments.offset - 1) * 20,\r\n      });\r\n\r\n      comments.total = data.total;\r\n      comments.comment.push(...data.comments);\r\n\r\n      loading.value = false;\r\n\r\n      if (data.comments.length) {\r\n        comments.offset++;\r\n      } else {\r\n        finished.value = true;\r\n      }\r\n    };\r\n    return {\r\n      comments,\r\n      onClickLeft,\r\n      onClickright,\r\n      data,\r\n      onLoad,\r\n      loading,\r\n      finished,\r\n      playCount,\r\n      show,\r\n      store,\r\n      message,\r\n      sendcommit,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comments {\r\n  overflow-y: auto;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: #fff;\r\n  z-index: 3000;\r\n  position: absolute;\r\n  .fiexd {\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    z-index: 3000;\r\n  }\r\n  /deep/ .van-nav-bar__title {\r\n    color: #000;\r\n    font-size: 13px;\r\n  }\r\n\r\n  .title,\r\n  .item {\r\n    padding: 10px 0;\r\n    width: 95vw;\r\n    margin: 0 auto;\r\n  }\r\n  .conaim {\r\n    width: 95vw;\r\n    height: auto;\r\n    margin: 100px auto 0;\r\n\r\n    padding-bottom: 50px;\r\n    .item {\r\n      display: flex;\r\n      .content {\r\n        margin-left: 8px;\r\n        width: 95vw-10px;\r\n        .top {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          .name {\r\n            padding-bottom: 5px;\r\n            font-size: 13px;\r\n          }\r\n          .time {\r\n            font-size: 10px;\r\n            color: #dedede;\r\n          }\r\n        }\r\n        .bottom {\r\n          margin: 8px 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .btn {\r\n    width: 100%;\r\n    height: 8%;\r\n    background: #fff;\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: 1;\r\n  }\r\n}\r\n</style>\r\n"]}]}