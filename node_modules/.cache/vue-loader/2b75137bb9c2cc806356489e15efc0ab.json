{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\components\\itemDynamic.vue?vue&type=style&index=0&id=5eaff4b6&lang=less&scoped=true","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\components\\itemDynamic.vue","mtime":1648150171653},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":1636397467718},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1643212638233},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-service\\node_modules\\postcss-loader\\src\\index.js","mtime":1636397468036},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\less-loader\\dist\\cjs.js","mtime":1636397475650},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouZHluYW1pYyB7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgLmNlbnRlciB7DQogICAgcGFkZGluZzogMTBweDsNCiAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgbGVmdDogMDsNCiAgICByaWdodDogMDsNCiAgICB0b3A6IDUwcHg7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICBoZWlnaHQ6IDgwdmg7DQoNCiAgICAuaXRlbUNlbnRlciB7DQogICAgICBwYWRkaW5nOiA1cHg7DQogICAgICB3aWR0aDogMTAwOw0KICAgICAgbWFyZ2luLWJvdHRvbTogNTAwcHg7DQogICAgICAuaXRlbUNvbW1lbnRzIHsNCiAgICAgICAgbWFyZ2luOiA1cHggMDsNCiAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgLmNvbnRlbnQgew0KICAgICAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7DQogICAgICAgICAgd2lkdGg6IDk1dnctMTBweDsNCiAgICAgICAgICAudG9wIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgLm5hbWUgew0KICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogNXB4Ow0KICAgICAgICAgICAgICBmb250LXNpemU6IDEzcHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAudGltZSB7DQogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDsNCiAgICAgICAgICAgICAgY29sb3I6ICNkZWRlZGU7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIC5ib3R0b20gew0KICAgICAgICAgICAgbWFyZ2luOiA4cHggMDsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCiAgLmltZyB7DQogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCiAgICBtYXJnaW4tcmlnaHQ6IDVweDsNCiAgfQ0KICAuY29tbWl0IHsNCiAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxMHZoOw0KICAgIGxlZnQ6IDA7DQogICAgcmlnaHQ6IDA7DQogICAgYm90dG9tOiAwOw0KDQogICAgLmluZm8gew0KICAgICAgaGVpZ2h0OiA4MCU7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7DQogICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgLmJ0biB7DQogICAgICAgIHdpZHRoOiA3MHZ3Ow0KICAgICAgfQ0KICAgIH0NCiAgICAudmlvZCB7DQogICAgICBoZWlnaHQ6IGF1dG87DQogICAgICB3aWR0aDogMTAwJTsNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\components\\itemDynamic.vue"],"names":[],"mappings":";AAoKA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACR,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;IAEZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;UAChB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChB,CAAC,CAAC,CAAC,EAAE;YACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC,CAAC,EAAE;cACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;cACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACjB;YACA,CAAC,CAAC,CAAC,CAAC,EAAE;cACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;cACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChB;UACF;UACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;UACf;QACF;MACF;IACF;EACF;EACA,CAAC,CAAC,CAAC,EAAE;IACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACnB;EACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;;IAET,CAAC,CAAC,CAAC,CAAC,EAAE;MACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACnB,CAAC,CAAC,CAAC,EAAE;QACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACb;IACF;IACA,CAAC,CAAC,CAAC,CAAC,EAAE;MACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACb;EACF;AACF","file":"D:/HTML工程/项目/v3netease-main/src/views/follow/components/itemDynamic.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"dynamic\">\r\n    <van-nav-bar :border=\"false\" @click-left=\"emit('changeshow')\">\r\n      <template #left>\r\n        <van-icon name=\"arrow-left\" color=\"#233233\" size=\"25\" />\r\n      </template>\r\n      <template #title>\r\n        <van-image width=\"30\" height=\"30\" fit=\"cover\" round class=\"img\" :src=\"attrs.item.user.avatarUrl\" />{{\r\n          attrs.item.user.nickname\r\n        }}\r\n      </template>\r\n    </van-nav-bar>\r\n    <div class=\"center\">\r\n      <Item :item=\"attrs.item\" />\r\n      <van-tabs v-model:active=\"active\" animated>\r\n        <van-tab>\r\n          <template #title>\r\n            <div>评论 {{ attrs.item.info.commentCount }}</div>\r\n          </template>\r\n          <div class=\"itemCenter\">\r\n            <div class=\"title\">最新评论 {{ attrs.item.info.commentCount }}</div>\r\n            <div class=\"itemComments\" v-for=\"(item, index) in comments\" :key=\"index\">\r\n              <div>\r\n                <van-image width=\"30px\" height=\"30px\" round fit=\"cover\" :src=\"item.user.avatarUrl\">\r\n                  <template v-slot:loading> <van-loading type=\"spinner\" size=\"10\" color=\"#000\" /> </template\r\n                ></van-image>\r\n              </div>\r\n              <div class=\"content\">\r\n                <div class=\"top\">\r\n                  <div class=\"left\">\r\n                    <div class=\"name\">\r\n                      {{ item.user.nickname }}\r\n                    </div>\r\n                    <div class=\"time\">{{ data(item.time) }}</div>\r\n                  </div>\r\n                  <div class=\"right\">\r\n                    {{ playCount(item.likedCount) }}\r\n                    <van-icon :name=\"item.liked ? 'good-job' : 'good-job-o'\" size=\"25\" @click=\"islike(item)\" />\r\n                  </div>\r\n                </div>\r\n                <div class=\"bottom\" @click=\"ahplay(item.user.nickname)\">\r\n                  {{ item.content }}\r\n                </div>\r\n              </div>\r\n              <div class=\"van-hairline--bottom\"></div>\r\n            </div></div\r\n        ></van-tab>\r\n\r\n        <van-tab title=\"转发\">\r\n          <template #title>\r\n            <div>转发 {{ attrs.item.info.shareCount }}</div>\r\n          </template>\r\n        </van-tab>\r\n        <van-tab title=\"赞\">\r\n          <template #title>\r\n            <div>赞 {{ attrs.item.info.likedCount }}</div>\r\n          </template>\r\n        </van-tab>\r\n      </van-tabs>\r\n    </div>\r\n    <div class=\"commit\">\r\n      <div class=\"info\">\r\n        <van-button\r\n          type=\"primary\"\r\n          size=\"mini\"\r\n          round\r\n          text=\"发表评论\"\r\n          color=\"#b0b0b0\"\r\n          class=\"btn\"\r\n          @click=\"openpl\"\r\n        ></van-button\r\n        ><van-icon name=\"good-job-o\" size=\"25\" />\r\n        <van-icon name=\"revoke\" size=\"25\" />\r\n      </div>\r\n      <div class=\"viod\"></div>\r\n    </div>\r\n    <van-popup v-model:show=\"changeplshow\" position=\"bottom\" :style=\"{ height: '8%' }\"\r\n      ><van-cell-group inset clickable autofocus>\r\n        <van-field v-model=\"value\" :placeholder=\"placeholder\">\r\n          <template #button>\r\n            <van-button size=\"small\" type=\"primary\" round @click=\"send\">发 送</van-button>\r\n          </template></van-field\r\n        >\r\n      </van-cell-group></van-popup\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { data } from '@/Util/dayjs.js';\r\nimport { playCount } from '@/Util/fltter.js';\r\n\r\nimport Item from './item.vue';\r\nimport { ref, watchEffect } from 'vue';\r\nimport { getusercommit } from '@/api/user.js';\r\nimport { sendcomment } from '@/api/commnts.js';\r\nimport { useRouter } from 'vue-router';\r\nimport { Toast } from 'vant';\r\nexport default {\r\n  components: { Item },\r\n  setup(props, { emit, attrs }) {\r\n    const comments = ref([]);\r\n    const active = ref(0);\r\n    const placeholder = ref('发表评论~');\r\n    const changeplshow = ref(false);\r\n    const value = ref('');\r\n    const router = useRouter();\r\n  \r\n    watchEffect(async () => {\r\n      const { data } = await getusercommit({\r\n        threadId: attrs.item.info.threadId,\r\n      });\r\n      comments.value = data.comments;\r\n     \r\n    });\r\n    const ahplay = (name) => {\r\n      changeplshow.value = !changeplshow.value;\r\n      placeholder.value = `回复:${name}`;\r\n    };\r\n    const openpl = () => {\r\n      changeplshow.value = !changeplshow.value;\r\n      placeholder.value = `发表评论~`;\r\n    };\r\n    const send = async () => {\r\n      if (!JSON.parse(localStorage.getItem('cookie'))) {\r\n        return router.push('/login');\r\n      }\r\n      if (value.value === '') return Toast('不能为空！');\r\n      const { data } = await sendcomment({\r\n        t: 1,\r\n        type: 6,\r\n        threadId: attrs.item.info.threadId,\r\n        content: value.value,\r\n      });\r\n\r\n      if (data.code === 200) {\r\n        Toast.success('评论成功');\r\n        value.value = '';\r\n        changeplshow.value = !changeplshow.value;\r\n        comments.value.unshift(data.comment);\r\n      } else {\r\n        Toast.fail('评论失败');\r\n      }\r\n    };\r\n    return {\r\n      emit,\r\n      attrs,\r\n      active,\r\n      comments,\r\n      data,\r\n      playCount,\r\n      changeplshow,\r\n      value,\r\n      send,\r\n      sendcomment,\r\n      ahplay,\r\n      placeholder,\r\n      openpl,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.dynamic {\r\n  position: relative;\r\n  .center {\r\n    padding: 10px;\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 50px;\r\n    overflow-y: auto;\r\n    height: 80vh;\r\n\r\n    .itemCenter {\r\n      padding: 5px;\r\n      width: 100;\r\n      margin-bottom: 500px;\r\n      .itemComments {\r\n        margin: 5px 0;\r\n        display: flex;\r\n        .content {\r\n          margin-left: 8px;\r\n          width: 95vw-10px;\r\n          .top {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            .name {\r\n              padding-bottom: 5px;\r\n              font-size: 13px;\r\n            }\r\n            .time {\r\n              font-size: 10px;\r\n              color: #dedede;\r\n            }\r\n          }\r\n          .bottom {\r\n            margin: 8px 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .img {\r\n    vertical-align: middle;\r\n    margin-right: 5px;\r\n  }\r\n  .commit {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 10vh;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n\r\n    .info {\r\n      height: 80%;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      align-items: center;\r\n      .btn {\r\n        width: 70vw;\r\n      }\r\n    }\r\n    .viod {\r\n      height: auto;\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}