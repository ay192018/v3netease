{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\index.vue","mtime":1647208113303},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1636614324825},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGdldGV2ZW50IH0gZnJvbSAiQC9hcGkvdXNlci5qcyI7CmltcG9ydCB7IER5bmFtaWNsaXN0cyB9IGZyb20gIkAvVXRpbC9kYXlqcy5qcyI7CmltcG9ydCB7IHN3aXRjaHR5cGUgfSBmcm9tICJAL1V0aWwvZmx0dGVyLmpzIjsKaW1wb3J0IHsgb25Nb3VudGVkIH0gZnJvbSAiQHZ1ZS9ydW50aW1lLWNvcmUiOwppbXBvcnQgeyBJbWFnZVByZXZpZXcgfSBmcm9tICJ2YW50IjsKaW1wb3J0IHsgcmVmIH0gZnJvbSAidnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJmb2xsb3ciLAogIHNldHVwKCkgewogICAgY29uc3QgbG9hZGluZyA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBmaW5pc2hlZCA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBEeW5hbWljbGlzdCA9IHJlZihbXSk7CiAgICBjb25zdCBzaG93U2hhcmUgPSByZWYoZmFsc2UpOwogICAgY29uc3QgbGFzdHRpbWUgPSByZWYoLTEpOwoKICAgIGNvbnN0IG9wdGlvbnMgPSBbCiAgICAgIHsgbmFtZTogIuW+ruS/oSIsIGljb246ICJ3ZWNoYXQiIH0sCiAgICAgIHsgbmFtZTogIuW+ruWNmiIsIGljb246ICJ3ZWlibyIgfSwKICAgICAgeyBuYW1lOiAi5aSN5Yi26ZO+5o6lIiwgaWNvbjogImxpbmsiIH0sCiAgICAgIHsgbmFtZTogIuWIhuS6q+a1t+aKpSIsIGljb246ICJwb3N0ZXIiIH0sCiAgICAgIHsgbmFtZTogIuS6jOe7tOeggSIsIGljb246ICJxcmNvZGUiIH0sCiAgICBdOwogICAgY29uc3Qgb25Mb2FkID0gYXN5bmMgKCkgPT4gewogICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGdldGV2ZW50KHsKICAgICAgICBwYWdlc2l6ZTogNTAsCiAgICAgICAgbGFzdHRpbWU6IGxhc3R0aW1lLnZhbHVlLAogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgIER5bmFtaWNsaXN0LnZhbHVlLnB1c2goLi4uZGF0YS5ldmVudCk7CiAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKCiAgICAgIGlmIChkYXRhLmV2ZW50Lmxlbmd0aCkgewogICAgICAgIGxhc3R0aW1lLnZhbHVlID0gZGF0YS5sYXN0dGltZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmaW5pc2hlZC52YWx1ZSA9IHRydWU7CiAgICAgIH0KICAgIH07CiAgICBjb25zdCBQcmV2aWV3ID0gKGl0ZW0pID0+IHsKICAgICAgSW1hZ2VQcmV2aWV3KHsKICAgICAgICBpbWFnZXM6IFtpdGVtLm9yaWdpblVybF0sCiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBnZXRldmVudCwKICAgICAgRHluYW1pY2xpc3QsCiAgICAgIER5bmFtaWNsaXN0cywKICAgICAgc3dpdGNodHlwZSwKICAgICAgUHJldmlldywKICAgICAgb3B0aW9ucywKICAgICAgc2hvd1NoYXJlLAoKICAgICAgb25Mb2FkLAogICAgICBsb2FkaW5nLAogICAgICBmaW5pc2hlZCwKICAgICAgbGFzdHRpbWUsCiAgICB9OwogIH0sCn07Cg=="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\index.vue"],"names":[],"mappings":";AAoGA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACb,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CA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","file":"D:/HTML工程/项目/v3netease-main/src/views/follow/index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"follow animate__fadeIn animate__animated\">\n    <van-nav-bar title=\"动态\" />\n    <div class=\"content\">\n      <van-list\n        v-model:loading=\"loading\"\n        :finished=\"finished\"\n        finished-text=\"没有更多了\"\n        @load=\"onLoad\"\n      >\n        <div class=\"items \" v-for=\"(item, index) in Dynamiclist\" :key=\"index\">\n          <van-image\n            width=\"40\"\n            height=\"40\"\n            round\n            fit=\"cover\"\n            :src=\"item.user.avatarUrl\"\n            class=\"img\"\n          />\n          <div class=\"content\">\n            <div class=\"data\">\n              <span>{{ item.user.nickname }}</span>\n              <span class=\"type\">{{ switchtype(item.type) }}</span\n              ><br />\n              <span class=\"time\">{{ Dynamiclists(item.eventTime) }} </span>\n            </div>\n            <div class=\"text\">\n              {{ JSON.parse(item.json).msg }}\n            </div>\n\n            <div class=\"imgcollection\">\n              <van-grid :column-num=\"3\" :gutter=\"1\" square :border=\"false\">\n                <van-grid-item\n                  v-for=\"(item, index) in item.pics\"\n                  :key=\"index\"\n                  class=\"item\"\n                >\n                  <van-image\n                    @click=\"Preview(item)\"\n                    width=\"100\"\n                    height=\"100\"\n                    fit=\"cover\"\n                    :src=\"item.originUrl\"\n                /></van-grid-item>\n              </van-grid>\n            </div>\n            <div class=\"song\">\n              <van-image\n                width=\"40\"\n                height=\"40\"\n                radius=\"15\"\n                fit=\"cover\"\n                :src=\"JSON.parse(item.json).song.album.picUrl\"\n                class=\"img\"\n              />\n\n              <div class=\"data\">\n                <span class=\"van-ellipsis name\">{{\n                  JSON.parse(item.json).song.name\n                }}</span\n                ><br />\n                <span style=\"color:#bfbfbf\" class=\"van-ellipsis\">{{\n                  JSON.parse(item.json).song.artists[0].name\n                }}</span>\n              </div>\n            </div>\n            <div class=\"ziliao\">\n              <div class=\"bottomitem\">\n                <van-icon size=\"15\" class=\"icon\" name=\"revoke\" />转发\n              </div>\n              <div class=\"bottomitem\">\n                <van-icon size=\"18\" class=\"icon\" name=\"chat-o\" />{{\n                  item.info.commentCount\n                }}\n              </div>\n              <div class=\"bottomitem\">\n                <van-icon size=\"18\" class=\"icon\" name=\"good-job-o\" />{{\n                  item.info.likedCount\n                }}\n              </div>\n              <van-icon\n                name=\"ellipsis\"\n                size=\"20\"\n                @click.stop=\"showShare = !showShare\"\n              />\n            </div>\n          </div>\n        </div>\n      </van-list>\n    </div>\n    <van-share-sheet\n      v-model:show=\"showShare\"\n      title=\"立即分享给好友\"\n      :options=\"options\"\n      teleport=\"body\"\n    />\n  </div>\n</template>\n\n<script>\nimport { getevent } from \"@/api/user.js\";\nimport { Dynamiclists } from \"@/Util/dayjs.js\";\nimport { switchtype } from \"@/Util/fltter.js\";\nimport { onMounted } from \"@vue/runtime-core\";\nimport { ImagePreview } from \"vant\";\nimport { ref } from \"vue\";\nexport default {\n  name: \"follow\",\n  setup() {\n    const loading = ref(false);\n    const finished = ref(false);\n    const Dynamiclist = ref([]);\n    const showShare = ref(false);\n    const lasttime = ref(-1);\n\n    const options = [\n      { name: \"微信\", icon: \"wechat\" },\n      { name: \"微博\", icon: \"weibo\" },\n      { name: \"复制链接\", icon: \"link\" },\n      { name: \"分享海报\", icon: \"poster\" },\n      { name: \"二维码\", icon: \"qrcode\" },\n    ];\n    const onLoad = async () => {\n      const { data } = await getevent({\n        pagesize: 50,\n        lasttime: lasttime.value,\n      });\n      console.log(data);\n      Dynamiclist.value.push(...data.event);\n      loading.value = false;\n\n      if (data.event.length) {\n        lasttime.value = data.lasttime;\n      } else {\n        finished.value = true;\n      }\n    };\n    const Preview = (item) => {\n      ImagePreview({\n        images: [item.originUrl],\n      });\n    };\n\n    return {\n      getevent,\n      Dynamiclist,\n      Dynamiclists,\n      switchtype,\n      Preview,\n      options,\n      showShare,\n\n      onLoad,\n      loading,\n      finished,\n      lasttime,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.follow {\n  background: #fff;\n  .content {\n    width: 100%;\n    padding: 5px;\n    height: 80vh;\n    box-sizing: border-box;\n    overflow-y: auto;\n    .items {\n      margin-top: 15px;\n      width: 100%;\n      display: flex;\n      .img {\n        vertical-align: top;\n        margin-right: 5px;\n      }\n      .content {\n        width: 86vw;\n        height: auto;\n        display: inline-block;\n        .text {\n          margin: 5px 0;\n        }\n        .data {\n          margin: 5px 0;\n          .type {\n            font-size: 12px;\n            color: #bfbfbf;\n          }\n          .time {\n            margin-top: 5px;\n            color: #bfbfbf;\n          }\n        }\n        .title {\n          margin: 5px 0;\n        }\n        .imgcollection {\n          border-radius: 15px !important;\n          ::v-deep(.van-grid-item__content) {\n            padding: 0;\n          }\n          .item {\n            box-sizing: border-box;\n          }\n        }\n        .song {\n          border-radius: 8px;\n          background: rgba(rgb(121, 116, 116), green, blue, alpha);\n          display: flex;\n          justify-content: space-around;\n          align-items: center;\n\n          .data {\n            display: flex;\n            flex-direction: column;\n            justify-content: space-around;\n            width: 80%;\n            overflow: hidden;\n            & span {\n              overflow: hidden;\n            }\n          }\n        }\n        .ziliao {\n          margin: 5px 0;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          .bottomitem {\n            color: #bfbfbf;\n            font-size: 13px;\n            .icon {\n              margin-right: 5px;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}