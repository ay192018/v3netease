{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\index.vue?vue&type=style&index=0&id=f195951a&lang=less&scoped=true","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\index.vue","mtime":1648591076771},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":1646661868435},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1646661868754},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-service\\node_modules\\postcss-loader\\src\\index.js","mtime":1646661868635},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\less-loader\\dist\\cjs.js","mtime":1646661833593},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646661868754}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5mb2xsb3cgewogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgLmJvdHRvbS1idXR0b24gewogICAgd2lkdGg6IDE2MHB4OwogICAgaGVpZ2h0OiA0MHB4OwogIH0KfQoucmVsZWFzZSB7CiAgd2lkdGg6IDQ1cHg7CiAgaGVpZ2h0OiAyNXB4Owp9Ci5SZWxlYXNlLWJvdHRvbSB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxNXZoOwoKICBwb3NpdGlvbjogZml4ZWQ7CiAgbGVmdDogMDsKICByaWdodDogMDsKICBib3R0b206IDA7CiAgLnRvcCB7CiAgICBoZWlnaHQ6IDUwJTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsKICAgIC50b3BpYyB7CiAgICAgIGhlaWdodDogMjVweDsKICAgICAgY29sb3I6ICM3NTkxYjk7CiAgICAgIGJvcmRlcjogIzc1OTFiOSAxcHggc29saWQ7CiAgICB9CiAgfQogIC5ib3R0b20gewogICAgLmljb25zIHsKICAgICAgd2lkdGg6IDUwJTsKCiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOwogICAgfQogIH0KICA6OnYtZGVlcCgudmFuLWNlbGxfX3RpdGxlKSA+IHNwYW4gewogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgfQp9Ci5SZWNlbnRseWl0ZW0gewogIHBhZGRpbmc6IDVweDsKICBtYXJnaW4tdG9wOiAzcHg7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9Cg=="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\index.vue"],"names":[],"mappings":"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","file":"D:/HTML工程/项目/v3netease-main/src/views/follow/index.vue","sourceRoot":"","sourcesContent":["<script>\nimport Reuse from './components/reuse.vue';\nimport { computed, nextTick, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport { Toast } from 'vant';\nimport { Dynamiclist } from '@/hooks/container.js';\nimport { checked } from '@/hooks/status.js';\nimport { getresource } from '@/api/dynamic.js';\nimport { getrecord } from '@/api/user.js';\nimport Recentplay from '@/components/Recentplay/';\nexport default {\n  name: 'follow',\n  components: {\n    Reuse,\n    Recentplay,\n  },\n  setup(props, { attrs }) {\n    const router = useRouter();\n    const showPopover = ref(false);\n    const show = ref(false);\n    const ChooseMusic = ref(false);\n    const message = ref('');\n    const value = ref('');\n    const onload = ref(null);\n    const store = useStore();\n    const list = ref([]);\n    const song = ref([]);\n    // 通过 actions 属性来定义菜单选项\n    const actions = [\n      { text: '发图文', icon: 'newspaper-o' },\n      { text: '发视频', icon: 'play-circle-o' },\n      { text: '录声音', icon: 'bullhorn-o' },\n    ];\n    const onClickLeft = () => (show.value = !show.value);\n    const onClickRight = async () => {\n      if (message.value === '' || song.value.length === 0) {\n        return Toast('歌曲或内容不能为空哦');\n      }\n      const { data } = await getresource({\n        id: song.value[0].song.id,\n        msg: message.value,\n      });\n      data.event;\n      Dynamiclist.value.unshift(data.event);\n      Dynamiclist.value;\n\n      Toast.success('发布成功');\n\n      /*    onload.value.onload();\n       */\n      show.value = !show.value;\n      message.value = '';\n      song.value = [];\n    };\n    const onSelect = (action) => {\n      if (action.text === '发图文') {\n        show.value = !show.value;\n      }\n    };\n    const openMusic = async () => {\n      ChooseMusic.value = !ChooseMusic.value;\n      const { data } = await getrecord({\n        uid: store.state.profile.userId,\n        type: 0,\n      });\n\n      if (data.code === 200) {\n        list.value = data.allData;\n      }\n    };\n    const cancel = () => {\n      ChooseMusic.value = !ChooseMusic.value;\n    };\n    const cookie = computed(() => {\n      return JSON.parse(localStorage.getItem('cookie'));\n    });\n    const push = (item) => {\n      song.value.push(item);\n    };\n    const close = () => {\n      ChooseMusic.value = !ChooseMusic.value;\n    };\n    return {\n      cookie,\n      router,\n      actions,\n      onSelect,\n      showPopover,\n      checked,\n      show,\n      onClickLeft,\n      onClickRight,\n      message,\n      ChooseMusic,\n      openMusic,\n      cancel,\n      value,\n      list,\n      song,\n      push,\n      close,\n      onload,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.follow {\n  box-sizing: border-box;\n  .bottom-button {\n    width: 160px;\n    height: 40px;\n  }\n}\n.release {\n  width: 45px;\n  height: 25px;\n}\n.Release-bottom {\n  width: 100%;\n  height: 15vh;\n\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  .top {\n    height: 50%;\n    display: flex;\n    justify-content: space-around;\n    .topic {\n      height: 25px;\n      color: #7591b9;\n      border: #7591b9 1px solid;\n    }\n  }\n  .bottom {\n    .icons {\n      width: 50%;\n\n      display: flex;\n      justify-content: space-around;\n    }\n  }\n  ::v-deep(.van-cell__title) > span {\n    overflow: hidden;\n    white-space: nowrap;\n  }\n}\n.Recentlyitem {\n  padding: 5px;\n  margin-top: 3px;\n  display: flex;\n  align-items: center;\n}\n</style>\n\n<template>\n  <div class=\"follow animate__fadeIn animate__animated\">\n    <van-nav-bar title=\"动态\" :border=\"false\">\n      <template #right>\n        <van-popover\n          v-model:show=\"showPopover\"\n          :theme=\"checked ? 'dark' : 'light'\"\n          :offset=\"[-40, 0]\"\n          :actions=\"actions\"\n          @select=\"onSelect\"\n        >\n          <template #reference><van-icon name=\"add\" color=\"red\" size=\"30\" /> </template>\n        </van-popover>\n      </template>\n    </van-nav-bar>\n    <Reuse v-if=\"cookie\" ref=\"onload\" />\n    <van-empty description=\"请登录\" v-else>\n      <van-button round type=\"danger\" class=\"bottom-button\" @click=\"router.push('/login')\">登录</van-button>\n    </van-empty>\n  </div>\n  <van-popup v-model:show=\"show\" position=\"bottom\" :style=\"{ height: '100%' }\">\n    <van-nav-bar\n      title=\"发图文\"\n      left-text=\"取消\"\n      right-text=\"按钮\"\n      @click-left=\"onClickLeft\"\n      @click-right=\"onClickRight\"\n      :border=\"false\"\n    >\n      <template #right>\n        <van-button round type=\"primary\" class=\"release\" size=\"20\" color=\"red\">发布</van-button>\n      </template>\n    </van-nav-bar>\n    <van-cell-group inset>\n      <van-field v-model=\"message\" rows=\"1\" autosize type=\"textarea\" placeholder=\"和村民们分享你的生活把\" />\n    </van-cell-group>\n    <div class=\"Recentlyitem\" v-for=\"(item, index) in song\" :key=\"index\">\n      <div>\n        <van-image width=\"50\" height=\"50\" fit=\"cover\" radius=\"15\" :src=\"item.song.al.picUrl\" />\n      </div>\n      <van-cell :title=\"item.song.name\" :label=\"item.song.ar[0].name\" />\n    </div>\n    <div class=\"Release-bottom\">\n      <div class=\"top\">\n        <van-button plain hairline round type=\"primary\" class=\"topic\" size=\"mini\">\n          <template #icon> 话题 <van-icon name=\"arrow\" size=\"15\" /> </template>\n        </van-button>\n        <van-button plain hairline round type=\"primary\" class=\"topic\" size=\"mini\">\n          <template #icon> 话题 <van-icon name=\"arrow\" size=\"15\" /> </template>\n        </van-button>\n        <van-button plain hairline round type=\"primary\" class=\"topic\" size=\"mini\">\n          <template #icon> 话题 <van-icon name=\"arrow\" size=\"15\" /> </template>\n        </van-button>\n        <van-button plain hairline round type=\"primary\" class=\"topic\" size=\"mini\">\n          <template #icon> 话题 <van-icon name=\"arrow\" size=\"15\" /> </template>\n        </van-button>\n      </div>\n      <div class=\"van-hairline--top\"></div>\n      <div class=\"bottom\">\n        <div class=\"icons\">\n          <van-icon size=\"25\" name=\"music-o\" @click=\"openMusic\" />\n          <van-icon size=\"25\" name=\"photo-o\" />\n          <van-icon size=\"25\" name=\"bullhorn-o\" />\n          <van-icon size=\"25\" name=\"question-o\" />\n        </div>\n      </div>\n    </div>\n  </van-popup>\n  <van-popup v-model:show=\"ChooseMusic\" position=\"bottom\" :style=\"{ height: '100%' }\">\n    <van-nav-bar title=\"选择音乐\" left-text=\"取消\" @click-left=\"cancel\" :border=\"false\"> </van-nav-bar>\n    <van-search v-model=\"value\" placeholder=\"搜索用户\" />\n    <Recentplay :list=\"list\" @push=\"push\" @close=\"close\" />\n  </van-popup>\n</template>\n"]}]}