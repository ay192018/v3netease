{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\components\\reuse.vue?vue&type=template&id=e60039a2&scoped=true","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\components\\reuse.vue","mtime":1650199188310},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1646661867650},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1646661868754},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646661868754}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9ImNvbnRlbnQiPg0KICAgIDx2YW4tbGlzdCB2LW1vZGVsOmxvYWRpbmc9ImxvYWRpbmciIDpmaW5pc2hlZD0iZmluaXNoZWQiIGZpbmlzaGVkLXRleHQ9IuayoeacieabtOWkmuS6hiIgQGxvYWQ9Im9uTG9hZCINCiAgICAgID48ZGl2IHYtZm9yPSIoaXRlbSwgaW5kZXgpIGluIER5bmFtaWNsaXN0IiA6a2V5PSJpbmRleCIgY2xhc3M9Iml0ZW1tYXJnaW4iPg0KICAgICAgICA8SXRlbSA6aXRlbT0iaXRlbSIgLz4NCg0KICAgICAgICA8IS0tICAgIDxkaXYgY2xhc3M9IiI+e3sgaXRlbS5qc29uLnNvbmcgfX08L2Rpdj4gLS0+DQogICAgICAgIDxkaXYgY2xhc3M9InppbGlhbyI+DQogICAgICAgICAgPGRpdiBjbGFzcz0iYm90dG9taXRlbSI+PHZhbi1pY29uIHNpemU9IjE1IiBjbGFzcz0iaWNvbiIgbmFtZT0icmV2b2tlIiAvPui9rOWPkTwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9ImJvdHRvbWl0ZW0iPg0KICAgICAgICAgICAgPHZhbi1pY29uIHNpemU9IjE4IiBjbGFzcz0iaWNvbiIgbmFtZT0iY2hhdC1vIiBAY2xpY2s9ImFjdGl2ZUl0ZW0oaXRlbSkiIC8+e3sgaXRlbS5pbmZvLmNvbW1lbnRDb3VudCB9fQ0KICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9ImJvdHRvbWl0ZW0iPjx2YW4taWNvbiBzaXplPSIxOCIgY2xhc3M9Imljb24iIG5hbWU9Imdvb2Qtam9iLW8iIC8+e3sgaXRlbS5pbmZvLmxpa2VkQ291bnQgfX08L2Rpdj4NCiAgICAgICAgICA8dmFuLWljb24gbmFtZT0iZWxsaXBzaXMiIHNpemU9IjIwIiBAY2xpY2suc3RvcD0iZGVsZXRlcyhpdGVtLCBpbmRleCkiIC8+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8ZGl2IGNsYXNzPSJ2YW4taGFpcmxpbmUtLWJvdHRvbSI+PC9kaXY+DQogICAgICA8L2Rpdj4NCiAgICAgIDx2YW4tc2hhcmUtc2hlZXQNCiAgICAgICAgdi1tb2RlbDpzaG93PSJzaG93U2hhcmUiDQogICAgICAgIHRpdGxlPSLnq4vljbPliIbkuqvnu5nlpb3lj4siDQogICAgICAgIEBzZWxlY3Q9InNlbGVjdCINCiAgICAgICAgOm9wdGlvbnM9Im9wdGlvbnMiDQogICAgICAgIHRlbGVwb3J0PSJib2R5Ig0KICAgICAgLz4NCiAgICAgIDx2YW4tcG9wdXANCiAgICAgICAgdi1tb2RlbDpzaG93PSJzaG93Ig0KICAgICAgICBwb3NpdGlvbj0icmlnaHQiDQogICAgICAgIHNhZmUtYXJlYS1pbnNldC10b3ANCiAgICAgICAgOnN0eWxlPSJ7IGhlaWdodDogJzEwMCUnLCB3aWR0aDogJzEwMCUnIH0iDQogICAgICAgIHRlbGVwb3J0PSJib2R5Ig0KICAgICAgICA+PEl0ZW1EeW5hbWljIEBjaGFuZ2VzaG93PSJjaGFuZ2VzaG93IiA6aXRlbT0iaXRlbUFjdGl2ZSINCiAgICAgIC8+PC92YW4tcG9wdXA+DQogICAgPC92YW4tbGlzdD4NCiAgPC9kaXY+DQo="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\components\\reuse.vue"],"names":[],"mappings":";EAuJE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1F,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;;QAEpB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACjB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;UACxG,CAAC,CAAC,CAAC,CAAC,CAAC;UACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC5G,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC1E,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzC,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC","file":"D:/HTML工程/项目/v3netease-main/src/views/follow/components/reuse.vue","sourceRoot":"","sourcesContent":["<script>\r\nimport { getevent, gettopic, gettopics } from '@/api/user.js';\r\nimport Item from './item.vue';\r\nimport { Dynamiclist } from '@/hooks/container.js';\r\nimport { onMounted } from '@vue/runtime-core';\r\nimport ItemDynamic from './itemDynamic.vue';\r\nimport { getdelates } from '@/api/dynamic.js';\r\nimport { ref, provide } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { Toast } from 'vant';\r\nexport default {\r\n  components: { Item, ItemDynamic },\r\n  name: 'reuse',\r\n  setup(props, { expose }) {\r\n    const loading = ref(false);\r\n    const finished = ref(false);\r\n    const store = useStore();\r\n    const showShare = ref(false);\r\n    const show = ref(false);\r\n    const itemActive = ref(null);\r\n    const lasttime = ref(-1);\r\n    const options = ref([\r\n      [\r\n        { name: '微信', icon: 'wechat' },\r\n        { name: '朋友圈', icon: 'wechat-moments' },\r\n        { name: '微博', icon: 'weibo' },\r\n        { name: 'QQ', icon: 'qq' },\r\n      ],\r\n      [\r\n        { name: '复制链接', icon: 'link' },\r\n        { name: '分享海报', icon: 'poster', index: null, id: null },\r\n        { name: '二维码', icon: 'qrcode' },\r\n        { name: '小程序码', icon: 'weapp-qrcode' },\r\n      ],\r\n    ]);\r\n\r\n    onMounted(async () => {\r\n      const { data } = await gettopic();\r\n      const res = await gettopics();\r\n    });\r\n    const onLoad = async () => {\r\n      const { data } = await getevent({\r\n        pagesize: 5,\r\n        lasttime: lasttime.value,\r\n      });\r\n      for (let i in data.event) {\r\n        Object.defineProperties(data.event[i], {\r\n          json: {\r\n            value: JSON.parse(data.event[i].json),\r\n          },\r\n        });\r\n      }\r\n\r\n      Dynamiclist.value.push(...data.event);\r\n\r\n      loading.value = false;\r\n\r\n      if (data.event.length) {\r\n        lasttime.value = data.lasttime;\r\n      } else {\r\n        finished.value = true;\r\n      }\r\n    };\r\n    expose({\r\n      onLoad,\r\n    });\r\n    const changeshow = () => (show.value = !show.value);\r\n    const activeItem = (item) => {\r\n      itemActive.value = item;\r\n      show.value = !show.value;\r\n    };\r\n    const deletes = (item, index) => {\r\n      if (item.user.userId === store.state.profile.userId) {\r\n        options.value.flat()[5].name = '删除';\r\n        options.value.flat()[5].index = index;\r\n        options.value.flat()[5].id = item.id;\r\n        options.value.flat()[5].icon =\r\n          'https://img1.baidu.com/it/u=2198873381,3249768272&fm=253&fmt=auto&app=138&f=JPG?w=500&h=500';\r\n      } else {\r\n        options.value.flat()[5].name = '分享海报';\r\n        options.value.flat()[5].icon = 'poster';\r\n        options.value.flat()[5].index = null;\r\n      }\r\n\r\n      showShare.value = !showShare.value;\r\n    };\r\n    const select = async (name) => {\r\n      if (name.name === '删除') {\r\n        const { data } = await getdelates({\r\n          evId: name.id,\r\n        });\r\n        if (data.code === 200) {\r\n          Toast('删除成功');\r\n        }\r\n        Dynamiclist.value.splice(name.index, 1);\r\n        showShare.value = !showShare.value;\r\n      }\r\n    };\r\n\r\n    return {\r\n      getevent,\r\n      Dynamiclist,\r\n      options,\r\n      showShare,\r\n      onLoad,\r\n      loading,\r\n      finished,\r\n      lasttime,\r\n      show,\r\n      changeshow,\r\n      itemActive,\r\n      activeItem,\r\n      Dynamiclist,\r\n      deletes,\r\n      select,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.content {\r\n  width: 100%;\r\n  padding: 5px;\r\n  height: 83vh;\r\n  box-sizing: border-box;\r\n  overflow-y: auto;\r\n  .itemmargin {\r\n    margin: 35px 0;\r\n    .ziliao {\r\n      width: 86vw;\r\n      float: right;\r\n      margin: 5px 0;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      .bottomitem {\r\n        color: #bfbfbf;\r\n        font-size: 13px;\r\n\r\n        .icon {\r\n          margin-right: 5px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"content\">\r\n    <van-list v-model:loading=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\"\r\n      ><div v-for=\"(item, index) in Dynamiclist\" :key=\"index\" class=\"itemmargin\">\r\n        <Item :item=\"item\" />\r\n\r\n        <!--    <div class=\"\">{{ item.json.song }}</div> -->\r\n        <div class=\"ziliao\">\r\n          <div class=\"bottomitem\"><van-icon size=\"15\" class=\"icon\" name=\"revoke\" />转发</div>\r\n          <div class=\"bottomitem\">\r\n            <van-icon size=\"18\" class=\"icon\" name=\"chat-o\" @click=\"activeItem(item)\" />{{ item.info.commentCount }}\r\n          </div>\r\n          <div class=\"bottomitem\"><van-icon size=\"18\" class=\"icon\" name=\"good-job-o\" />{{ item.info.likedCount }}</div>\r\n          <van-icon name=\"ellipsis\" size=\"20\" @click.stop=\"deletes(item, index)\" />\r\n        </div>\r\n        <div class=\"van-hairline--bottom\"></div>\r\n      </div>\r\n      <van-share-sheet\r\n        v-model:show=\"showShare\"\r\n        title=\"立即分享给好友\"\r\n        @select=\"select\"\r\n        :options=\"options\"\r\n        teleport=\"body\"\r\n      />\r\n      <van-popup\r\n        v-model:show=\"show\"\r\n        position=\"right\"\r\n        safe-area-inset-top\r\n        :style=\"{ height: '100%', width: '100%' }\"\r\n        teleport=\"body\"\r\n        ><ItemDynamic @changeshow=\"changeshow\" :item=\"itemActive\"\r\n      /></van-popup>\r\n    </van-list>\r\n  </div>\r\n</template>\r\n"]}]}