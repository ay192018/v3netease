{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\views\\my\\index.vue?vue&type=style&index=0&id=bf7cfbb8&lang=less&scped=true","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\views\\my\\index.vue","mtime":1647194759039},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":1636397467718},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1643212638233},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-service\\node_modules\\postcss-loader\\src\\index.js","mtime":1636397468036},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\less-loader\\dist\\cjs.js","mtime":1636397475650},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5teSB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiA4N3ZoOwogIGJhY2tncm91bmQ6ICNmMGYwZjA7CgogIC51c2VyZGF0YSB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICB3aWR0aDogOTV2dzsKICAgIGhlaWdodDogMTV2aDsKICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICBiYWNrZ3JvdW5kOiAjZmVmZWZlOwogICAgbWFyZ2luOiA1MHB4IGF1dG8gMCBhdXRvOwogICAgei1pbmRleDogMTsKICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAuaW1nIHsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICB0b3A6IC0yNiU7CiAgICAgIGxlZnQ6IDUwJTsKICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSk7CiAgICB9CiAgICAubmFtZSB7CiAgICAgIG1hcmdpbjogMjBweCA1cHg7CiAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICB9CiAgICAudGl0bGUgewogICAgICBtYXJnaW46IDIwcHggMTBweDsKICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICBjb2xvcjogI2JmYmZiZjsKICAgIH0KICB9CiAgL2RlZXAvLnZhbi1jZWxsLAogIC52YW4tY2VsbC0tYm9yZGVybGVzcyB7CiAgICBiYWNrZ3JvdW5kOiAjZjBmMGYwICFpbXBvcnRhbnQ7CiAgfQogIC50ZW1wIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGxlZnQ6IDQwJTsKICB9Cn0KL2RlZXAvIC52YW4tbmF2LWJhcl9fY29udGVudCB7CiAgYmFja2dyb3VuZDogI2YwZjBmMCAhaW1wb3J0YW50Owp9Cg=="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\views\\my\\index.vue"],"names":[],"mappings":"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","file":"D:/HTML工程/项目/v3netease-main/src/views/my/index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"my animate__fadeIn animate__animated\">\n    <van-nav-bar :border=\"false\" fixed>\n      <template #left>\n        <van-icon name=\"bars\" size=\"25\" color=\"#646566\" />\n      </template>\n      <template #right>\n        <van-icon\n          name=\"search\"\n          size=\"25\"\n          color=\"#646566\"\n          @click=\"router.push('/search')\"\n        />\n      </template>\n    </van-nav-bar>\n    <van-pull-refresh loosing-text=\" \" loading-text=\" \" @refresh=\"onRefresh\">\n      <div class=\"userdata\">\n        <van-image\n          width=\"60\"\n          height=\"60\"\n          round\n          fit=\"cover\"\n          class=\"img animate__animated animate__zoomInUp\"\n          @click=\"!cookie ? router.push('/login') : (show = true)\"\n          :src=\"\n            cookie\n              ? users.avatarUrl\n              : 'http://p3.music.126.net/tBTNafgjNnTL1KlZMt7lVA==/18885211718935735.jpg'\n          \"\n        />\n        <br />\n        <span\n          class=\"name\"\n          style=\"font-size: 16px; font-weight: bold; font-size: 16px\"\n          :class=\"!cookie ? 'temp' : ''\"\n          >{{ cookie ? users.nickname : \"立即登录\" }}</span\n        ><van-icon\n          class=\"name\"\n          name=\"vip-card-o\"\n          v-if=\"cookie\"\n          :color=\"users.vipType === 0 ? '#c0c0c0' : 'red'\"\n          size=\"25\"\n          ><span style=\"font-size: 13px; vertical-align: top\">\n            {{ users.vipType }}\n          </span></van-icon\n        ><br />\n\n        <div v-if=\"cookie\">\n          <span class=\"title\">{{ user.profile.followeds }} 关注</span>\n          <span class=\"title\">{{ user.profile.follows }} 粉丝</span>\n          <span class=\"title\">{{ user.level }} Lv</span>\n        </div>\n      </div>\n\n      <Grid />\n      <Userplaylist />\n    </van-pull-refresh>\n    <van-action-sheet\n      v-model:show=\"show\"\n      :actions=\"actions\"\n      cancel-text=\"取消\"\n      close-on-click-action\n      @cancel=\"show = false\"\n      @select=\"select\"\n      teleport=\"body\"\n    />\n  </div>\n</template>\n\n<script>\nimport Grid from \"./grid.vue\";\nimport { useStore } from \"vuex\";\nimport { ref } from \"vue\";\nimport { getuserdata } from \"@/api/user.js\";\nimport { onMounted } from \"@vue/runtime-core\";\nimport { reactive, computed } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport Userplaylist from \"./Userplaylist.vue\";\nimport { Toast } from \"vant\";\nexport default {\n  components: {\n    Grid,\n    Userplaylist,\n  },\n  name: \"my\",\n  setup() {\n    const store = useStore();\n\n    const router = useRouter();\n    const user = reactive({\n      profile: {},\n      level: null,\n    });\n    const show = ref(false);\n    const actions = [\n      { name: \"个人资料\" },\n      { name: \"查看好友\" },\n      { name: \"退出登录\", color: \"#ee0a24\" },\n    ];\n    const select = (index) => {\n      if (index.name === \"个人资料\") {\n        router.push({\n          name: \"user\",\n          params: {\n            id: store.state.profile.userId,\n          },\n        });\n      } else if (index.name === \"查看好友\") {\n        return;\n      } else {\n        localStorage.clear();\n        store.dispatch(\"setprofile\", {});\n        router.push(\"/\");\n        Toast.success(\"退出成功\");\n      }\n    };\n    const cookie = JSON.parse(localStorage.getItem(\"cookie\"));\n    const loading = ref(false);\n    const onRefresh = () => {\n      cookie !== null\n        ? router.push({\n            name: \"user\",\n            params: {\n              id: store.state.profile.userId,\n            },\n          })\n        : router.push(\"/login\");\n    };\n    const users = computed(() => {\n      return JSON.parse(localStorage.getItem(\"profile\"));\n    });\n    onMounted(async () => {\n      const { data } = await getuserdata({\n        uid: store.state.profile.userId,\n      });\n      if (data.code === 200) {\n        user.profile = data.profile;\n        user.level = data.level;\n\n        store.dispatch(\"setprofile\", data.profile);\n        // console.log(data);\n      }\n    });\n    return {\n      cookie,\n      store,\n      user,\n      router,\n      users,\n      loading,\n      onRefresh,\n      show,\n      actions,\n      select,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scped>\n.my {\n  width: 100%;\n  height: 87vh;\n  background: #f0f0f0;\n\n  .userdata {\n    position: relative;\n    width: 95vw;\n    height: 15vh;\n    border-radius: 15px;\n    background: #fefefe;\n    margin: 50px auto 0 auto;\n    z-index: 1;\n    border-radius: 15px;\n    text-align: center;\n    .img {\n      position: absolute;\n      top: -26%;\n      left: 50%;\n      transform: translate(-50%);\n    }\n    .name {\n      margin: 20px 5px;\n      vertical-align: middle;\n    }\n    .title {\n      margin: 20px 10px;\n      font-size: 12px;\n      color: #bfbfbf;\n    }\n  }\n  /deep/.van-cell,\n  .van-cell--borderless {\n    background: #f0f0f0 !important;\n  }\n  .temp {\n    position: absolute;\n    left: 40%;\n  }\n}\n/deep/ .van-nav-bar__content {\n  background: #f0f0f0 !important;\n}\n</style>\n"]}]}