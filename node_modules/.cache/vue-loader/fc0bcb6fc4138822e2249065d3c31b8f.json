{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\components\\userData.vue?vue&type=style&index=0&id=d5bb588c&lang=less&scoped=true","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\components\\userData.vue","mtime":1648639819463},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":1646661868435},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1646661868754},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-service\\node_modules\\postcss-loader\\src\\index.js","mtime":1646661868635},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\less-loader\\dist\\cjs.js","mtime":1646661833593},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646661868754}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoudXNlckRhdGEgew0KICAuZGF0YSB7DQogICAgbWFyZ2luOiA1cHggYXV0bzsNCiAgfQ0KICA6OnYtZGVlcCgudmFuLW5hdi1iYXJfX3RleHQpIHsNCiAgICBjb2xvcjogI2JmYmZiZjsNCiAgfQ0KfQ0K"},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\components\\userData.vue"],"names":[],"mappings":";AA6HA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACR,CAAC,CAAC,CAAC,CAAC,EAAE;IACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAClB;EACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAChB;AACF","file":"D:/HTML工程/项目/v3netease-main/src/components/user/components/userData.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"userData\">\r\n    <van-nav-bar title=\"我的资料\" left-arrow @click-left=\"onClickLeft\" />\r\n    <div class=\"data\">\r\n      <van-cell title=\"头像\" is-link value=\"内容\">\r\n        <template #value>\r\n          <van-uploader :after-read=\"afterRead\">\r\n            <van-image width=\"40\" height=\"40\" fit=\"cover\" round :src=\"store.state.profile.avatarUrl\" />\r\n          </van-uploader>\r\n        </template>\r\n      </van-cell>\r\n\r\n      <van-cell title=\"昵称\" is-link value=\"宇over\" @click=\"changename = !changename\" />\r\n      <van-cell title=\"性别\" is-link :value=\"gender\" @click=\"changeshow = !changeshow\" />\r\n      <van-cell title=\"生日\" is-link value=\"内容\" />\r\n      <van-cell title=\"地区\" is-link value=\"内容\" />\r\n    </div>\r\n    <van-popup v-model:show=\"changeshow\" position=\"bottom\" :style=\"{ height: '50%', width: '100%' }\"\r\n      ><van-picker\r\n        :columns=\"columns\"\r\n        @confirm=\"onConfirm\"\r\n        @cancel=\"onCancel\"\r\n        :default-index=\"store.state.profile.gender\"\r\n      />\r\n    </van-popup>\r\n    <van-popup v-model:show=\"changename\" position=\"bottom\" :style=\"{ height: '100%', width: '100%' }\">\r\n      <van-nav-bar\r\n        title=\"修改昵称\"\r\n        left-text=\"取消\"\r\n        right-text=\"完成\"\r\n        left-arrow\r\n        @click-right=\"onClickRight\"\r\n        @click-left=\"close\"\r\n        :border=\"false\"\r\n      />\r\n      <van-cell-group inset>\r\n        <van-field v-model=\"value\" placeholder=\"请输入昵称 \" clearable />\r\n      </van-cell-group>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from 'vue-router';\r\nimport { ref, computed } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { getuserupdate } from '@/api/user.js';\r\nexport default {\r\n  name: 'userid',\r\n  setup(props, { emit }) {\r\n    const router = useRouter();\r\n    const value = ref('');\r\n\r\n    const store = useStore();\r\n    const columns = ['保密', '男', '女'];\r\n    const onConfirm = async (value, index) => {\r\n      userupdate.value.gender = index;\r\n      const { data } = await getuserupdate();\r\n      data;\r\n      changeshow.value = !changeshow.value;\r\n    };\r\n    const gender = computed(() => {\r\n      if (store.state.profile.gender === 0) {\r\n        return '保密';\r\n      } else if (store.state.profile.gender === 1) {\r\n        return '男';\r\n      } else {\r\n        return '女';\r\n      }\r\n    });\r\n    const userupdate = computed(() => {\r\n      return {\r\n        gender: store.state.profile.gender,\r\n        birthday: store.state.profile.birthday,\r\n        nickname: store.state.profile.birthday,\r\n        province: store.state.profile.province,\r\n        city: store.state.profile.city,\r\n        signature: store.state.profile.signature,\r\n      };\r\n    });\r\n\r\n    const onCancel = () => {\r\n      changeshow.value = !changeshow.value;\r\n    };\r\n    const changeshow = ref(false);\r\n    const changename = ref(false);\r\n    const close = () => {\r\n      changename.value = !changename.value;\r\n    };\r\n    const onClickLeft = () => {\r\n      emit('changeShow');\r\n    };\r\n\r\n    const onClickRight = () => {\r\n      ('提交');\r\n    };\r\n\r\n    const afterRead = (file) => {\r\n      // 此时可以自行将文件上传至服务器\r\n      file;\r\n    };\r\n\r\n    return {\r\n      onClickLeft,\r\n      router,\r\n      afterRead,\r\n      changeshow,\r\n      columns,\r\n\r\n      onCancel,\r\n      onConfirm,\r\n      changename,\r\n      close,\r\n      value,\r\n      onClickRight,\r\n      userupdate,\r\n      store,\r\n      gender,\r\n      getuserupdate,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.userData {\r\n  .data {\r\n    margin: 5px auto;\r\n  }\r\n  ::v-deep(.van-nav-bar__text) {\r\n    color: #bfbfbf;\r\n  }\r\n}\r\n</style>\r\n"]}]}