{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\components\\video\\index.vue?vue&type=template&id=ba53c7e8&scoped=true","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\components\\video\\index.vue","mtime":1644083216298},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1636397451359},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1636614324825},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1643212638233},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9InZpZGVvIj4NCiAgICA8dmFuLW5hdi1iYXIgOmJvcmRlcj0iZmFsc2UiIEBjbGljay1sZWZ0PSJyb3V0ZXIuYmFjaygpIj4NCiAgICAgIDx0ZW1wbGF0ZSAjbGVmdA0KICAgICAgICA+PHZhbi1pY29uIG5hbWU9ImFycm93LWxlZnQiIGNvbG9yPSIjZmZmIiBzaXplPSIyNCIgLz4gPC90ZW1wbGF0ZQ0KICAgID48L3Zhbi1uYXYtYmFyPg0KDQogICAgPFZ1ZURhbm1ha3UNCiAgICAgIDpkYW5tdXM9ImRhbm11cyINCiAgICAgIHJlZj0iZGFubWFrdSINCiAgICAgIGF1dG9wbGF5DQogICAgICA6bG9vcD0idHJ1ZSINCiAgICAgIGNsYXNzPSJEYW5tYWt1Ig0KICAgICAgOnJpZ2h0PSI0Ig0KICAgICAgOnNwZWVkcz0iMTAwIg0KICAgICAgOmRlYm91bmNlPSIxMDAwIg0KICAgIC8+DQoNCiAgICA8dmlkZW8gOnNyYz0idXJsIiBjbGFzcz0iY29udHJvbHMiIGNvbnRyb2xzIHJlZj0idmlkZW8iPjwvdmlkZW8+DQogIDwvZGl2Pg0K"},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\components\\video\\index.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC;;IAED,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACjE,CAAC,CAAC,CAAC,CAAC,CAAC","file":"D:/HTML工程/项目/v3netease-main/src/components/video/index.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"video\">\r\n    <van-nav-bar :border=\"false\" @click-left=\"router.back()\">\r\n      <template #left\r\n        ><van-icon name=\"arrow-left\" color=\"#fff\" size=\"24\" /> </template\r\n    ></van-nav-bar>\r\n\r\n    <VueDanmaku\r\n      :danmus=\"danmus\"\r\n      ref=\"danmaku\"\r\n      autoplay\r\n      :loop=\"true\"\r\n      class=\"Danmaku\"\r\n      :right=\"4\"\r\n      :speeds=\"100\"\r\n      :debounce=\"1000\"\r\n    />\r\n\r\n    <video :src=\"url\" class=\"controls\" controls ref=\"video\"></video>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getvideodetail, getvideourl, getvideocomment } from \"@/api/video.js\";\r\nimport { nextTick, onMounted } from \"@vue/runtime-core\";\r\nimport { useRouter } from \"vue-router\";\r\nimport VueDanmaku from \"vue3-danmaku\";\r\nimport { ref } from \"vue\";\r\nexport default {\r\n  components: { VueDanmaku },\r\n  setup(props, { attrs }) {\r\n    const data = ref({});\r\n    const url = ref(\"\");\r\n    const video = ref(null);\r\n    const danmaku = ref(null);\r\n    const router = useRouter();\r\n\r\n    const danmus = ref([]);\r\n\r\n    onMounted(async () => {\r\n      const { data } = await getvideodetail({\r\n        id: attrs.id,\r\n      });\r\n      const res = await getvideourl({\r\n        id: attrs.id,\r\n      });\r\n      const comment = await getvideocomment({\r\n        id: attrs.id,\r\n        limit: 100,\r\n      });\r\n\r\n      let arr = [];\r\n      comment.data.comments.forEach((item) => {\r\n        arr.push(item.content);\r\n      });\r\n      danmus.value = arr;\r\n\r\n      data.value = data.data;\r\n\r\n      url.value = res.data.urls[0].url;\r\n    });\r\n    return {\r\n      data,\r\n      url,\r\n      video,\r\n      router,\r\n      danmus,\r\n      danmaku,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.video {\r\n  background: #fff;\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: 3000;\r\n  width: 100%;\r\n  height: 100%;\r\n  .controls {\r\n    z-index: -1;\r\n    background: #000;\r\n    object-fit: contain;\r\n    position: fixed !important;\r\n    top: 0px !important;\r\n    right: 0px !important;\r\n    bottom: 0px !important;\r\n    left: 0px !important;\r\n    box-sizing: border-box !important;\r\n    min-width: 0px !important;\r\n    max-width: none !important;\r\n    min-height: 0px !important;\r\n    max-height: none !important;\r\n    width: 100% !important;\r\n    height: 100% !important;\r\n    transform: none !important;\r\n    margin: 0px !important;\r\n  }\r\n  /deep/ .van-nav-bar {\r\n    background: transparent;\r\n  }\r\n  .Danmaku {\r\n    width: 100%;\r\n    height: 20vh;\r\n    position: fixed;\r\n    left: 0;\r\n    top: 10vh;\r\n    right: 0;\r\n  }\r\n}\r\n</style>\r\n"]}]}