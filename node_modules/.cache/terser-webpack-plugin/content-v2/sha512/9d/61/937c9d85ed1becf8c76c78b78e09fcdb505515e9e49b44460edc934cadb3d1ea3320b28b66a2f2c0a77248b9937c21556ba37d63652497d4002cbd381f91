{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-571c063c\"],{\"1e44\":function(t,e,n){},3910:function(t,e,n){\"use strict\";n(\"1e44\")},\"5e04\":function(t,e,n){\"use strict\";n(\"b0c0\"),n(\"99af\");var c=n(\"7a23\"),s={class:\"playall\"},a={key:1,class:\"songslist auto\"},r=[\"onClick\"],o={class:\"left\"},i={class:\"index\"},l={class:\"data\"},u={class:\"songname van-ellipsis\"},b={class:\"songtitle van-ellipsis\"},d={class:\"icons\"};function j(t,e,n,j,O,g){var p=Object(c[\"Q\"])(\"van-loading\"),f=Object(c[\"Q\"])(\"van-icon\"),m=Object(c[\"Q\"])(\"nut-backtop\");return Object(c[\"G\"])(),Object(c[\"i\"])(\"div\",s,[!1===j.load?(Object(c[\"G\"])(),Object(c[\"g\"])(p,{key:0,type:\"spinner\",size:\"80px\",class:\"loading\"})):(Object(c[\"G\"])(),Object(c[\"i\"])(\"div\",a,[(Object(c[\"G\"])(!0),Object(c[\"i\"])(c[\"a\"],null,Object(c[\"O\"])(j.allsongs,(function(t,e){return Object(c[\"G\"])(),Object(c[\"i\"])(\"div\",{class:\"item\",key:e,onClick:function(t){return j.play(e)}},[Object(c[\"j\"])(\"div\",o,[Object(c[\"j\"])(\"div\",i,Object(c[\"V\"])(e+1),1),Object(c[\"j\"])(\"div\",l,[Object(c[\"j\"])(\"div\",u,Object(c[\"V\"])(t.name),1),Object(c[\"j\"])(\"div\",b,Object(c[\"V\"])(\"\".concat(t.ar[0].name,\"--\").concat(t.name)),1)])]),Object(c[\"j\"])(\"div\",d,[t.mv?(Object(c[\"G\"])(),Object(c[\"g\"])(f,{key:0,name:\"tv-o\",size:\"20\",onClick:Object(c[\"fb\"])((function(e){return j.router.push({name:\"video\",params:{id:t.mv}})}),[\"stop\"]),class:\"tv\"},null,8,[\"onClick\"])):Object(c[\"h\"])(\"\",!0),Object(c[\"m\"])(f,{name:\"ellipsis\",size:\"20\"})])],8,r)})),128)),Object(c[\"m\"])(m,{bottom:150,right:50,duration:3e3})]))])}var O=n(\"c964\"),g=(n(\"96cf\"),n(\"d3b7\"),n(\"159b\"),n(\"a15b\"),{}),p=n(\"7e29\"),f=n(\"23e3\"),m=n(\"6c02\"),v=n(\"5502\"),h=n(\"626a\"),y={mixins:[g],setup:function(t,e){var n=e.attrs,s=e.emit,a=Object(c[\"M\"])([]),r=Object(c[\"M\"])([]),o=Object(m[\"d\"])(),i=Object(v[\"b\"])(),l=Object(c[\"M\"])(!1);Object(c[\"cb\"])(Object(O[\"a\"])(regeneratorRuntime.mark((function t(){var e,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.songsdata.trackIds.forEach((function(t){a.value.push(t.id)})),!b){t.next=7;break}return t.next=4,Object(f[\"c\"])({ids:b.value.join()});case 4:e=t.sent,c=e.data,200===c.code?(l.value=!0,r.value=c.songs,s(\"length\",r.value.length)):h[\"a\"].fail(\"加载失败,也许歌曲太多了\");case 7:case\"end\":return t.stop()}}),t)}))));var u=function(t){i.state.songlist.length&&i.state.audio.played&&t===i.state.curret||(h[\"a\"].loading({message:\"加载中...\",forbidClick:!0,loadingType:\"spinner\"}),i.state.audio.paused?(i.dispatch(\"setsonglist\",r.value),i.dispatch(\"setsetcurret\",t),Object(c[\"v\"])((function(){i.state.audio.play(),i.dispatch(\"setisplay\"),i.state.isplay&&4==i.state.audio.readyState&&h[\"a\"].clear({clearAll:!0})}))):(Object(c[\"v\"])((function(){i.dispatch(\"setisplay\"),i.state.audio.pause()})),i.dispatch(\"setsonglist\",r.value),i.dispatch(\"setsetcurret\",t),Object(c[\"v\"])((function(){i.state.audio.play(),i.state.audio.played&&(i.dispatch(\"setisplay\"),h[\"a\"].clear({clearAll:!0}))}))))},b=Object(c[\"e\"])((function(){return a.value}));return{allsongs:r,playCount:p[\"f\"],play:u,myMixin:g,load:l,router:o}}},k=(n(\"3910\"),n(\"6b0d\")),w=n.n(k);const x=w()(y,[[\"render\",j],[\"__scopeId\",\"data-v-0184d9d4\"]]);e[\"a\"]=x},\"7f3f\":function(t,e,n){\"use strict\";n(\"98c9\")},\"98c9\":function(t,e,n){},a15b:function(t,e,n){\"use strict\";var c=n(\"23e7\"),s=n(\"e330\"),a=n(\"44ad\"),r=n(\"fc6a\"),o=n(\"a640\"),i=s([].join),l=a!=Object,u=o(\"join\",\",\");c({target:\"Array\",proto:!0,forced:l||!u},{join:function(t){return i(r(this),void 0===t?\",\":t)}})},a1da:function(t,e,n){\"use strict\";n.r(e);n(\"b0c0\"),n(\"a4d3\"),n(\"e01a\");var c=n(\"7a23\"),s=function(t){return Object(c[\"J\"])(\"data-v-493a7632\"),t=t(),Object(c[\"H\"])(),t},a={class:\"content\"},r={class:\"left\"},o={class:\"count\"},i={class:\"right info\"},l={class:\"userdata\"},u=Object(c[\"l\"])(\"关注\"),b={class:\"item\"},d={class:\"title\"},j=s((function(){return Object(c[\"j\"])(\"div\",null,\"播放全部\",-1)})),O={class:\"wrapper\"},g={class:\"block\"},p={style:{\"text-align\":\"center\"}},f=s((function(){return Object(c[\"j\"])(\"br\",null,null,-1)})),m={class:\"titless\"},v=s((function(){return Object(c[\"j\"])(\"br\",null,null,-1)})),h=s((function(){return Object(c[\"j\"])(\"div\",{class:\"van-hairline--bottom\",style:{width:\"95vw\",margin:\"0 auto\",\"margin-top\":\"30px\",\"margin-bottom\":\"20px\"}},null,-1)})),y={style:{width:\"95vw\",height:\"auto\",margin:\"0 auto\",\"margin-top\":\"50px\",\"margin-bottom\":\"20px\",color:\"#dfdfdf\"}},k=Object(c[\"l\"])(\" 标签: \");function w(t,e,n,s,w,x){var C=Object(c[\"Q\"])(\"van-icon\"),I=Object(c[\"Q\"])(\"van-nav-bar\"),z=Object(c[\"Q\"])(\"van-loading\"),V=Object(c[\"Q\"])(\"van-image\"),G=Object(c[\"Q\"])(\"van-button\"),_=Object(c[\"Q\"])(\"van-overlay\"),Q=Object(c[\"Q\"])(\"Playall\");return Object(c[\"G\"])(),Object(c[\"g\"])(c[\"d\"],{name:\"slide-fade\"},{default:Object(c[\"db\"])((function(){return[Object(c[\"j\"])(\"div\",null,[Object(c[\"m\"])(I,{border:!1,fixed:\"\",onClickLeft:s.onClickLeft,title:s.songsdata.songs.name},{left:Object(c[\"db\"])((function(){return[Object(c[\"m\"])(C,{name:\"arrow-left\",size:\"23\",color:\"#ccc\"})]})),right:Object(c[\"db\"])((function(){return[Object(c[\"m\"])(C,{name:\"ellipsis\",size:\"23\",color:\"#ccc\"})]})),_:1},8,[\"onClickLeft\",\"title\"]),Object(c[\"j\"])(\"div\",{class:\"songdata\",style:Object(c[\"x\"])(\"background-image: url(\".concat(s.songsdata.songs.coverImgUrl,\")\"))},[Object(c[\"j\"])(\"div\",a,[Object(c[\"j\"])(\"div\",r,[Object(c[\"m\"])(V,{width:\"130\",height:\"130\",radius:\"15\",src:s.songsdata.songs.coverImgUrl,onClick:e[0]||(e[0]=function(t){return s.show=!0})},{loading:Object(c[\"db\"])((function(){return[Object(c[\"m\"])(z,{type:\"spinner\",size:\"20\",color:\"#000\"})]})),_:1},8,[\"src\"]),Object(c[\"j\"])(\"span\",o,Object(c[\"V\"])(s.playCount(s.songsdata.songs.playCount)),1)]),Object(c[\"j\"])(\"div\",i,[Object(c[\"j\"])(\"div\",{class:\"titless\",onClick:e[1]||(e[1]=function(t){return s.show=!0})},Object(c[\"V\"])(s.songsdata.songs.name),1),Object(c[\"j\"])(\"div\",l,[Object(c[\"m\"])(V,{width:\"25\",height:\"25\",fit:\"cover\",radius:\"50%\",src:s.songsdata.creator.avatarUrl},{loading:Object(c[\"db\"])((function(){return[Object(c[\"m\"])(z,{type:\"spinner\",size:\"10\",color:\"#000\"})]})),_:1},8,[\"src\"]),Object(c[\"j\"])(\"p\",{class:\"username\",onClick:e[2]||(e[2]=function(t){return s.router.push({name:\"user\",params:{id:s.songsdata.creator.userId}})})},Object(c[\"V\"])(s.songsdata.creator.nickname),1),s.songsdata.creator.userId!==s.store.state.profile.userId?(Object(c[\"G\"])(),Object(c[\"g\"])(G,{key:0,type:\"primary\",color:\"red\",size:\"mini\",icon:\"add-o\",round:\"\"},{default:Object(c[\"db\"])((function(){return[u]})),_:1})):Object(c[\"h\"])(\"\",!0)]),Object(c[\"j\"])(\"div\",{class:\"describe van-ellipsis\",onClick:e[3]||(e[3]=function(t){return s.show=!0})},Object(c[\"V\"])(s.songsdata.songs.description),1)])])],4),Object(c[\"j\"])(\"div\",b,[Object(c[\"j\"])(\"div\",null,[Object(c[\"m\"])(G,{color:\"#e8e8e8\",disabled:s.songsdata.creator.userId===s.store.state.profile.userId,size:\"mini\"},{default:Object(c[\"db\"])((function(){return[Object(c[\"m\"])(C,{name:s.songsdata.songs.subscribed||s.songsdata.creator.userId===s.store.state.profile.userId?\"success\":\"add-o\",onClick:s.issubscrib,color:\"#323233\",size:\"20\"},null,8,[\"name\",\"onClick\"])]})),_:1},8,[\"disabled\"]),Object(c[\"j\"])(\"div\",null,Object(c[\"V\"])(s.playCount(s.songsdata.songs.subscribedCount)),1)]),Object(c[\"j\"])(\"div\",{onClick:e[4]||(e[4]=function(){return s.tocommnts&&s.tocommnts.apply(s,arguments)})},[Object(c[\"m\"])(C,{name:\"chat-o\",size:\"20\"}),Object(c[\"j\"])(\"div\",null,Object(c[\"V\"])(s.playCount(s.songsdata.songs.commentCount)),1)]),Object(c[\"j\"])(\"div\",null,[Object(c[\"m\"])(C,{name:\"share-o\",size:\"20\"}),Object(c[\"j\"])(\"div\",null,Object(c[\"V\"])(s.playCount(s.songsdata.songs.shareCount)),1)])]),Object(c[\"j\"])(\"div\",d,[Object(c[\"m\"])(C,{name:\"play-circle-o\",size:\"20\",color:\"red\"}),j,Object(c[\"j\"])(\"div\",null,\"(\"+Object(c[\"V\"])(s.playCount(s.songsdata.length))+\"首)\",1)]),Object(c[\"m\"])(_,{show:s.show,onClick:e[5]||(e[5]=function(t){return s.show=!1}),\"z-index\":\"9999\",\"lock-scroll\":!1},{default:Object(c[\"db\"])((function(){return[Object(c[\"j\"])(\"div\",O,[Object(c[\"j\"])(\"div\",g,[Object(c[\"j\"])(\"div\",p,[Object(c[\"m\"])(V,{width:\"100vw\",height:\"100vh\",style:{filter:\"blur(40px)\",left:\"0\",position:\"absolute\",\"z-index\":\"-1\"},fit:\"cover\",src:s.songsdata.songs.coverImgUrl},null,8,[\"src\"]),Object(c[\"m\"])(V,{width:\"130\",height:\"130\",radius:\"15\",style:{\"margin-top\":\"80px\",\"margin-bottom\":\"30px\"},src:s.songsdata.songs.coverImgUrl},null,8,[\"src\"]),f,Object(c[\"j\"])(\"span\",m,Object(c[\"V\"])(s.songsdata.songs.name),1),v,h]),Object(c[\"j\"])(\"div\",y,[k,(Object(c[\"G\"])(!0),Object(c[\"i\"])(c[\"a\"],null,Object(c[\"O\"])(s.songsdata.tags,(function(t,e){return Object(c[\"G\"])(),Object(c[\"i\"])(\"span\",{class:\"label\",key:e},Object(c[\"V\"])(t),1)})),128))]),(Object(c[\"G\"])(!0),Object(c[\"i\"])(c[\"a\"],null,Object(c[\"O\"])(s.songsdata.description,(function(t,e){return Object(c[\"G\"])(),Object(c[\"i\"])(\"p\",{key:e,style:{color:\"#dfdfdf\",\"margin-left\":\"10px\"}},Object(c[\"V\"])(t),1)})),128))])])]})),_:1},8,[\"show\"]),Object(c[\"m\"])(Q,{songsdata:s.songsdata,onLength:s.length},null,8,[\"songsdata\",\"onLength\"])])]})),_:1})}var x=n(\"c964\"),C=(n(\"ac1f\"),n(\"1276\"),n(\"96cf\"),n(\"5e04\")),I=n(\"23e3\"),z=n(\"5502\"),V=n(\"7e29\"),G=n(\"6c02\"),_=n(\"75e6\"),Q=n(\"626a\"),R={components:{Playall:C[\"a\"]},setup:function(t,e){var n=e.attrs,s=Object(c[\"K\"])({songs:{},creator:{},trackIds:[],length:0,time:null,tags:[],description:\"\"}),a=Object(c[\"M\"])(!1),r=Object(G[\"d\"])(),o=Object(G[\"c\"])(),i=Object(z[\"b\"])(),l=JSON.parse(localStorage.getItem(\"profile\")),u=function(){var t=Object(x[\"a\"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!s.songs.subscribed){t.next=4;break}_[\"a\"].confirm({confirmButtonText:\"取消收藏\",message:\"确定要取消收藏该歌单吗?\"}).then(Object(x[\"a\"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(I[\"g\"])({t:s.songs.subscribed?2:1,id:s.creator.userId});case 2:e=t.sent,e.data,s.songs.subscribed=!s.songs.subscribed,s.songs.subscribed?Object(Q[\"a\"])(\"歌单已收藏\"):Object(Q[\"a\"])(\"取消收藏\");case 6:case\"end\":return t.stop()}}),t)})))).catch((function(){})),t.next=11;break;case 4:return t.next=6,Object(I[\"g\"])({t:s.songs.subscribed?2:1,id:s.creator.userId});case 6:e=t.sent,n=e.data,console.log(n),s.songs.subscribed=!s.songs.subscribed,s.songs.subscribed?Object(Q[\"a\"])(\"歌单已收藏\"):Object(Q[\"a\"])(\"取消收藏\");case 11:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(x[\"a\"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i.dispatch(\"setflag\",2),r.push({name:\"comments\",params:{id:n.id}});case 2:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){r.back()},j=function(t){s.length=t};Object(c[\"D\"])(Object(x[\"a\"])(regeneratorRuntime.mark((function t(){var e,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(I[\"f\"])({id:n.id,offset:1});case 2:e=t.sent,c=e.data;try{s.songs=c.playlist,s.creator=c.playlist.creator,s.trackIds=c.playlist.trackIds,s.tags=c.playlist.tags,s.description=c.playlist.description.split(\"\\n\")}catch(a){Q[\"a\"].fail(\"加载失败,歌曲也许太多了\")}case 5:case\"end\":return t.stop()}}),t)}))));var O=function(t){console.log(t)};return{onClickLeft:d,songsdata:s,playCount:V[\"f\"],router:r,route:o,scroll:O,store:i,length:j,attrs:n,tocommnts:b,show:a,cookie:l,issubscrib:u}}},L=(n(\"7f3f\"),n(\"6b0d\")),M=n.n(L);const U=M()(R,[[\"render\",w],[\"__scopeId\",\"data-v-493a7632\"]]);e[\"default\"]=U}}]);","extractedComments":[]}