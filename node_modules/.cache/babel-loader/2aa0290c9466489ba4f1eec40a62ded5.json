{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\index.vue","mtime":1648428587770},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1646661867650},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646661868754},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1648432796553},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1646661867650},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646661868754}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxIVE1MXHU1REU1XHU3QTBCXFxcdTk4NzlcdTc2RUVcXHYzbmV0ZWFzZS1tYWluXFxub2RlX21vZHVsZXNcXEB2dWVcXGNsaS1wbHVnaW4tYmFiZWxcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGdldHVzZXJkYXRhLCBnZXRmb2xsb3cgfSBmcm9tICdAL2FwaS91c2VyLmpzJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyByZWFjdGl2ZSwgb25Nb3VudGVkLCByZWYgfSBmcm9tICd2dWUnOwppbXBvcnQgQ29udGVudCBmcm9tICcuL2NvbXBvbmVudHMvY29udGVudC52dWUnOwppbXBvcnQgVXNlckRhdGEgZnJvbSAnLi9jb21wb25lbnRzL3VzZXJEYXRhLnZ1ZSc7CmltcG9ydCB7IFRvYXN0IH0gZnJvbSAndmFudCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDb250ZW50OiBDb250ZW50LAogICAgVXNlckRhdGE6IFVzZXJEYXRhCiAgfSwKICBuYW1lOiAndXNlcmlkJywKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBhdHRycyA9IF9yZWYuYXR0cnM7CiAgICB2YXIgdXNlciA9IHJlYWN0aXZlKHsKICAgICAgcHJvZmlsZToge30sCiAgICAgIGxldmVsOiBudWxsLAogICAgICBjcmVhdGVEYXlzOiAwLAogICAgICBjcmVhdGVUaW1lOiAwLAogICAgICBsaXN0ZW5Tb25nczogMAogICAgfSk7CiAgICB2YXIgc2hvdyA9IHJlZihmYWxzZSk7CiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwoKICAgIHZhciBvbkNsaWNrTGVmdCA9IGZ1bmN0aW9uIG9uQ2xpY2tMZWZ0KCkgewogICAgICByb3V0ZXIuYmFjaygpOwogICAgfTsKCiAgICB2YXIgY2hhbmdlU2hvdyA9IGZ1bmN0aW9uIGNoYW5nZVNob3coKSB7CiAgICAgIHNob3cudmFsdWUgPSAhc2hvdy52YWx1ZTsKICAgIH07CgogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIG9uTW91bnRlZCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIF95aWVsZCRnZXR1c2VyZGF0YSwgZGF0YTsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZ2V0dXNlcmRhdGEoewogICAgICAgICAgICAgICAgdWlkOiBhdHRycy5pZAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF95aWVsZCRnZXR1c2VyZGF0YSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRnZXR1c2VyZGF0YS5kYXRhOwoKICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgIHVzZXIucHJvZmlsZSA9IGRhdGEucHJvZmlsZTsKICAgICAgICAgICAgICAgIHVzZXIubGV2ZWwgPSBkYXRhLmxldmVsOwogICAgICAgICAgICAgICAgdXNlci5jcmVhdGVEYXlzID0gZGF0YS5jcmVhdGVEYXlzOwogICAgICAgICAgICAgICAgdXNlci5jcmVhdGVUaW1lID0gZGF0YS5jcmVhdGVUaW1lOwogICAgICAgICAgICAgICAgdXNlci5saXN0ZW5Tb25ncyA9IGRhdGEubGlzdGVuU29uZ3M7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSk7CgogICAgdmFyIHVzZWZvbGxvdyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF95aWVsZCRnZXRmb2xsb3csIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Zm9sbG93KHsKICAgICAgICAgICAgICAgICAgaWQ6IGF0dHJzLmlkLAogICAgICAgICAgICAgICAgICB0OiB1c2VyLnByb2ZpbGUuZm9sbG93ZWQgPyAyIDogMQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRnZXRmb2xsb3cgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0Zm9sbG93LmRhdGE7CgogICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIHVzZXIucHJvZmlsZS5mb2xsb3dlZCA9ICF1c2VyLnByb2ZpbGUuZm9sbG93ZWQ7CiAgICAgICAgICAgICAgICAgIHVzZXIucHJvZmlsZS5mb2xsb3dlZCA/IFRvYXN0LnN1Y2Nlc3MoJ+WFs+azqOaIkOWKnycpIDogVG9hc3QuZmFpbCgn5Y+W5raI5YWz5rOo5oiQ5YqfJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiB1c2Vmb2xsb3coKSB7CiAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgcmV0dXJuIHsKICAgICAgcm91dGVyOiByb3V0ZXIsCiAgICAgIHJvdXRlOiByb3V0ZSwKICAgICAgb25DbGlja0xlZnQ6IG9uQ2xpY2tMZWZ0LAogICAgICB1c2VyOiB1c2VyLAogICAgICBhdHRyczogYXR0cnMsCiAgICAgIHN0b3JlOiBzdG9yZSwKICAgICAgc2hvdzogc2hvdywKICAgICAgY2hhbmdlU2hvdzogY2hhbmdlU2hvdywKICAgICAgZ2V0Zm9sbG93OiBnZXRmb2xsb3csCiAgICAgIHVzZWZvbGxvdzogdXNlZm9sbG93CiAgICB9OwogIH0KfTs="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\index.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\r\nimport { getuserdata, getfollow } from '@/api/user.js';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter, useRoute } from 'vue-router';\r\nimport { reactive, onMounted, ref } from 'vue';\r\nimport Content from './components/content.vue';\r\nimport UserData from './components/userData.vue';\r\nimport { Toast } from 'vant';\r\nexport default {\r\n  components: { Content, UserData },\r\n  name: 'userid',\r\n  setup(props, { attrs }) {\r\n    const user = reactive({\r\n      profile: {},\r\n      level: null,\r\n      createDays: 0,\r\n      createTime: 0,\r\n      listenSongs: 0,\r\n    });\r\n    const show = ref(false);\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const onClickLeft = () => {\r\n      router.back();\r\n    };\r\n    const changeShow = () => {\r\n      show.value = !show.value;\r\n    };\r\n    const store = useStore();\r\n\r\n    onMounted(async () => {\r\n      const { data } = await getuserdata({\r\n        uid: attrs.id,\r\n      });\r\n\r\n      if (data.code === 200) {\r\n        user.profile = data.profile;\r\n        user.level = data.level;\r\n        user.createDays = data.createDays;\r\n        user.createTime = data.createTime;\r\n        user.listenSongs = data.listenSongs;\r\n      }\r\n    });\r\n    const usefollow = async () => {\r\n      const { data } = await getfollow({\r\n        id: attrs.id,\r\n        t: user.profile.followed ? 2 : 1,\r\n      });\r\n      if (data.code === 200) {\r\n        user.profile.followed = !user.profile.followed;\r\n\r\n        user.profile.followed ? Toast.success('关注成功') : Toast.fail('取消关注成功');\r\n      }\r\n    };\r\n    return {\r\n      router,\r\n      route,\r\n      onClickLeft,\r\n      user,\r\n      attrs,\r\n      store,\r\n      show,\r\n      changeShow,\r\n      getfollow,\r\n      usefollow,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.user {\r\n  width: 100%;\r\n\r\n  ::v-deep(.van-nav-bar) {\r\n    background: transparent;\r\n  }\r\n\r\n  .userdata {\r\n    position: relative;\r\n    width: 95vw;\r\n    height: auto;\r\n    border-radius: 15px;\r\n\r\n    margin: 0 auto;\r\n    z-index: 1;\r\n    border-radius: 15px;\r\n    text-align: center;\r\n    ::v-deep(.van-image) {\r\n      position: absolute;\r\n      top: -26%;\r\n      left: 50%;\r\n      transform: translate(-50%);\r\n    }\r\n    .name {\r\n      margin: 20px 5px;\r\n      vertical-align: middle;\r\n    }\r\n    .title {\r\n      margin: 20px 10px;\r\n      font-size: 12px;\r\n      color: #bfbfbf;\r\n    }\r\n    .editor {\r\n      margin: 10px auto;\r\n      ::v-deep(.van-button) {\r\n        margin-right: 10px;\r\n        vertical-align: middle;\r\n        border: 1px solid #bfbfbf;\r\n      }\r\n    }\r\n  }\r\n}\r\n:root {\r\n  --van-white: #fff;\r\n  --van-blue: #1989fa;\r\n\r\n  --van-button-primary-border-color: pink;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"user\">\r\n    <van-nav-bar :border=\"false\" @click-left=\"onClickLeft\" fixed>\r\n      <template #left><van-icon name=\"arrow-left\" size=\"25\" color=\"#323233\" /> </template>\r\n    </van-nav-bar>\r\n    <van-image width=\"100vw\" height=\"42vh\" :src=\"user.profile.backgroundUrl\" />\r\n    <div class=\"userdata\">\r\n      <van-image\r\n        width=\"60\"\r\n        height=\"60\"\r\n        round\r\n        fit=\"cover\"\r\n        class=\" animate__animated animate__zoomInUp\"\r\n        :src=\"user.profile.avatarUrl\"\r\n      />\r\n      <br />\r\n      <span class=\"name\" style=\"font-size: 16px; font-weight: bold; font-size: 16px\">{{ user.profile.nickname }}</span\r\n      ><van-icon class=\"name\" name=\"vip-card-o\" :color=\"user.profile.vipType === 0 ? '#c0c0c0' : 'red'\" size=\"25\"\r\n        ><span style=\"font-size: 13px; vertical-align: top\">\r\n          {{ user.profile.vipType }}\r\n        </span></van-icon\r\n      ><br />\r\n\r\n      <div>\r\n        <span class=\"title\">{{ user.profile.follows }} 关注</span>\r\n        <span class=\"title\">{{ user.profile.followeds }} 粉丝</span>\r\n        <span class=\"title\"> Lv.{{ user.level }}</span>\r\n      </div>\r\n      <div class=\"editor\">\r\n        <van-button\r\n          v-if=\"attrs.id == store.state.profile.userId\"\r\n          type=\"primary\"\r\n          size=\"mini\"\r\n          round\r\n          hairline\r\n          @click=\"show = !show\"\r\n          >编辑资料</van-button\r\n        >\r\n        <div v-else>\r\n          <van-button\r\n            type=\"primary\"\r\n            :color=\"user.profile.followed ? '#07c160' : 'red'\"\r\n            size=\"mini\"\r\n            :icon=\"user.profile.followed ? '' : 'add-o'\"\r\n            round\r\n            @click=\"usefollow\"\r\n            >{{ user.profile.followed ? user.profile.followTime : '关注' }}</van-button\r\n          >\r\n          <van-button type=\"primary\" color=\"#323233\" size=\"mini\" round\r\n            ><span style=\"padding:10px;\">聊天</span></van-button\r\n          >\r\n        </div>\r\n\r\n        <van-icon name=\"arrow-down\" size=\"20\" />\r\n      </div>\r\n    </div>\r\n    <Content\r\n      :user=\"{\r\n        profile: user.profile,\r\n        createDays: user.createDays,\r\n        createTime: user.createTime,\r\n        listenSongs: user.listenSongs,\r\n        id: attrs.id,\r\n      }\"\r\n    />\r\n    <van-popup v-model:show=\"show\" position=\"top\" :style=\"{ height: '110%', width: '100%' }\"\r\n      ><UserData @changeShow=\"changeShow\"\r\n    /></van-popup>\r\n  </div>\r\n</template>\r\n"],"sourceRoot":""}]}