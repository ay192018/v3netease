{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\components\\video\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\components\\video\\index.vue","mtime":1644078639831},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1643989866000},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1636614324825},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxIVE1MXHU1REU1XHU3QTBCXFxcdTk4NzlcdTc2RUVcXHYzbmV0ZWFzZS1tYWluXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBnZXR2aWRlb2RldGFpbCwgZ2V0dmlkZW91cmwgfSBmcm9tICJAL2FwaS92aWRlby5qcyI7CmltcG9ydCB7IG9uTW91bnRlZCB9IGZyb20gIkB2dWUvcnVudGltZS1jb3JlIjsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCBWdWVEYW5tYWt1IGZyb20gInZ1ZTMtZGFubWFrdSI7CmltcG9ydCB7IHJlZiwgcmVhY3RpdmUgfSBmcm9tICJ2dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVnVlRGFubWFrdTogVnVlRGFubWFrdQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgYXR0cnMgPSBfcmVmLmF0dHJzOwogICAgdmFyIGRhdGEgPSByZWYoe30pOwogICAgdmFyIHVybCA9IHJlZigiIik7CiAgICB2YXIgdmlkZW8gPSByZWYobnVsbCk7CiAgICB2YXIgZGFubWFrdSA9IHJlZihudWxsKTsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIHZhciBkYW5tdXMgPSByZWYoWyJkYW5tdTEiLCAiZGFubXUyIiwgImRhbm11MyIsICIuLi4iXSk7CiAgICBjb25zb2xlLmxvZyhWdWVEYW5tYWt1LCBkYW5tYWt1LnZhbHVlKTsKICAgIG9uTW91bnRlZCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIF95aWVsZCRnZXR2aWRlb2RldGFpbCwgZGF0YSwgcmVzOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBnZXR2aWRlb2RldGFpbCh7CiAgICAgICAgICAgICAgICBpZDogYXR0cnMuaWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfeWllbGQkZ2V0dmlkZW9kZXRhaWwgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0dmlkZW9kZXRhaWwuZGF0YTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gZ2V0dmlkZW91cmwoewogICAgICAgICAgICAgICAgaWQ6IGF0dHJzLmlkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBkYXRhLnZhbHVlID0gZGF0YS5kYXRhOwogICAgICAgICAgICAgIHVybC52YWx1ZSA9IHJlcy5kYXRhLnVybHNbMF0udXJsOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEudmFsdWUsIHVybC52YWx1ZSk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSk7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBkYXRhLAogICAgICB1cmw6IHVybCwKICAgICAgdmlkZW86IHZpZGVvLAogICAgICByb3V0ZXI6IHJvdXRlciwKICAgICAgZGFubXVzOiBkYW5tdXMsCiAgICAgIGRhbm1ha3U6IGRhbm1ha3UKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\components\\video\\index.vue"],"names":[],"mappings":";;AAeA,SAAS,cAAT,EAAyB,WAAzB,QAA4C,gBAA5C;AACA,SAAS,SAAT,QAA0B,mBAA1B;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,OAAO,UAAP,MAAuB,cAAvB;AACA,SAAS,GAAT,EAAc,QAAd,QAA8B,KAA9B;AACA,eAAe;AACb,EAAA,UAAU,EAAE;AAAE,IAAA,UAAS,EAAT;AAAF,GADC;AAEb,EAAA,KAFa,iBAEP,KAFO,QAEW;AAAA,QAAT,KAAS,QAAT,KAAS;AACtB,QAAM,IAAG,GAAI,GAAG,CAAC,EAAD,CAAhB;AACA,QAAM,GAAE,GAAI,GAAG,CAAC,EAAD,CAAf;AACA,QAAM,KAAI,GAAI,GAAG,CAAC,IAAD,CAAjB;AACA,QAAM,OAAM,GAAI,GAAG,CAAC,IAAD,CAAnB;AACA,QAAM,MAAK,GAAI,SAAS,EAAxB;AAEA,QAAM,MAAK,GAAI,GAAG,CAAC,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,KAA/B,CAAD,CAAlB;AACA,IAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAwB,OAAO,CAAC,KAAhC;AACA,IAAA,SAAS,uEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACe,cAAc,CAAC;AACpC,gBAAA,EAAE,EAAE,KAAK,CAAC;AAD0B,eAAD,CAD7B;;AAAA;AAAA;AACA,cAAA,IADA,yBACA,IADA;AAAA;AAAA,qBAIU,WAAW,CAAC;AAC5B,gBAAA,EAAE,EAAE,KAAK,CAAC;AADkB,eAAD,CAJrB;;AAAA;AAIF,cAAA,GAJE;AAQR,cAAA,IAAI,CAAC,KAAL,GAAa,IAAI,CAAC,IAAlB;AACA,cAAA,GAAG,CAAC,KAAJ,GAAY,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,CAAd,EAAiB,GAA7B;AACA,cAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,KAAjB,EAAwB,GAAG,CAAC,KAA5B;;AAVQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT;AAYA,WAAO;AACL,MAAA,IAAI,EAAJ,IADK;AAEL,MAAA,GAAG,EAAH,GAFK;AAGL,MAAA,KAAK,EAAL,KAHK;AAIL,MAAA,MAAM,EAAN,MAJK;AAKL,MAAA,MAAM,EAAN,MALK;AAML,MAAA,OAAO,EAAP;AANK,KAAP;AAQD;AA/BY,CAAf","sourcesContent":["<template>\r\n  <div class=\"video\">\r\n    <van-nav-bar :border=\"false\" @click-left=\"router.back()\">\r\n      <template #left\r\n        ><van-icon name=\"arrow-left\" color=\"#fff\" size=\"24\" /> </template\r\n    ></van-nav-bar>\r\n    <button @click=\"danmaku.play()\">asdassd</button>\r\n\r\n    <VueDanmaku :danmus=\"danmus\" ref=\"danmaku\" />\r\n\r\n    <video :src=\"url\" class=\"controls\" controls ref=\"video\"></video>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getvideodetail, getvideourl } from \"@/api/video.js\";\r\nimport { onMounted } from \"@vue/runtime-core\";\r\nimport { useRouter } from \"vue-router\";\r\nimport VueDanmaku from \"vue3-danmaku\";\r\nimport { ref, reactive } from \"vue\";\r\nexport default {\r\n  components: { VueDanmaku },\r\n  setup(props, { attrs }) {\r\n    const data = ref({});\r\n    const url = ref(\"\");\r\n    const video = ref(null);\r\n    const danmaku = ref(null);\r\n    const router = useRouter();\r\n\r\n    const danmus = ref([\"danmu1\", \"danmu2\", \"danmu3\", \"...\"]);\r\n    console.log(VueDanmaku, danmaku.value);\r\n    onMounted(async () => {\r\n      const { data } = await getvideodetail({\r\n        id: attrs.id,\r\n      });\r\n      const res = await getvideourl({\r\n        id: attrs.id,\r\n      });\r\n\r\n      data.value = data.data;\r\n      url.value = res.data.urls[0].url;\r\n      console.log(data.value, url.value);\r\n    });\r\n    return {\r\n      data,\r\n      url,\r\n      video,\r\n      router,\r\n      danmus,\r\n      danmaku,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.video {\r\n  background: #fff;\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: 3000;\r\n  width: 100%;\r\n  height: 100%;\r\n  .controls {\r\n    z-index: -1;\r\n    background: #000;\r\n    object-fit: contain;\r\n    position: fixed !important;\r\n    top: 0px !important;\r\n    right: 0px !important;\r\n    bottom: 0px !important;\r\n    left: 0px !important;\r\n    box-sizing: border-box !important;\r\n    min-width: 0px !important;\r\n    max-width: none !important;\r\n    min-height: 0px !important;\r\n    max-height: none !important;\r\n    width: 100% !important;\r\n    height: 100% !important;\r\n    transform: none !important;\r\n    margin: 0px !important;\r\n  }\r\n  /deep/ .van-nav-bar {\r\n    background: transparent;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}