{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\thread-loader\\dist\\cjs.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\views\\search\\muisclist.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\views\\search\\muisclist.vue","mtime":1644162192283},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1643989866000},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1636397451359},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1636614324825},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOlxcSFRNTFx1NURFNVx1N0EwQlxcXHU5ODc5XHU3NkVFXFx2M25ldGVhc2UtbWFpblxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXEhUTUxcdTVERTVcdTdBMEJcXFx1OTg3OVx1NzZFRVxcdjNuZXRlYXNlLW1haW5cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGdldGNsb3Vkc2VhcmNoIH0gZnJvbSAiQC9hcGkvc2VhcmNoLmpzIjsKaW1wb3J0IHsgbmV4dFRpY2ssIHJlZiB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgeyBUb2FzdCB9IGZyb20gInZhbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgYXR0cnMgPSBfcmVmLmF0dHJzOwogICAgdmFyIGxpc3QgPSByZWYoW10pOwogICAgdmFyIGxvYWRpbmcgPSByZWYoZmFsc2UpOwogICAgdmFyIGZpbmlzaGVkID0gcmVmKGZhbHNlKTsKICAgIHZhciByZXN1bHRzID0gcmVmKFtdKTsKICAgIHZhciBvZmZzZXQgPSByZWYoMSk7CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwoKICAgIHZhciBvbkxvYWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF9yZXN1bHRzJHZhbHVlOwoKICAgICAgICB2YXIgX3lpZWxkJGdldGNsb3Vkc2VhcmNoLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRjbG91ZHNlYXJjaCh7CiAgICAgICAgICAgICAgICAgIGtleXdvcmRzOiBhdHRycy5hdHRycy52YWx1ZSwKICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAob2Zmc2V0LnZhbHVlIC0gMSkgKiAzMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRnZXRjbG91ZHNlYXJjaCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGdldGNsb3Vkc2VhcmNoLmRhdGE7CgogICAgICAgICAgICAgICAgKF9yZXN1bHRzJHZhbHVlID0gcmVzdWx0cy52YWx1ZSkucHVzaC5hcHBseShfcmVzdWx0cyR2YWx1ZSwgX3RvQ29uc3VtYWJsZUFycmF5KGRhdGEucmVzdWx0LnNvbmdzKSk7CgogICAgICAgICAgICAgICAgbG9hZGluZy52YWx1ZSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLnJlc3VsdC5zb25ncy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgb2Zmc2V0LnZhbHVlKys7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBmaW5pc2hlZC52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gb25Mb2FkKCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBwbGF5ID0gZnVuY3Rpb24gcGxheShpbmRleCkgewogICAgICBpZiAoc3RvcmUuc3RhdGUuc29uZ2xpc3QubGVuZ3RoICYmIHN0b3JlLnN0YXRlLmF1ZGlvLnBsYXllZCAmJiBpbmRleCA9PT0gc3RvcmUuc3RhdGUuY3VycmV0KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBUb2FzdC5sb2FkaW5nKHsKICAgICAgICBtZXNzYWdlOiAi5Yqg6L295LitLi4uIiwKICAgICAgICBmb3JiaWRDbGljazogdHJ1ZSwKICAgICAgICBsb2FkaW5nVHlwZTogInNwaW5uZXIiCiAgICAgIH0pOwoKICAgICAgaWYgKHN0b3JlLnN0YXRlLmF1ZGlvLnBhdXNlZCkgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRzb25nbGlzdCIsIHJlc3VsdHMudmFsdWUpOwogICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRzZXRjdXJyZXQiLCBpbmRleCk7CiAgICAgICAgbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgc3RvcmUuc3RhdGUuYXVkaW8ucGxheSgpOwogICAgICAgICAgc3RvcmUuZGlzcGF0Y2goInNldGlzcGxheSIpOwoKICAgICAgICAgIGlmIChzdG9yZS5zdGF0ZS5pc3BsYXkgJiYgc3RvcmUuc3RhdGUuYXVkaW8ucmVhZHlTdGF0ZSA9PSA0KSB7CiAgICAgICAgICAgIFRvYXN0LmNsZWFyKHsKICAgICAgICAgICAgICBjbGVhckFsbDogdHJ1ZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgic2V0aXNwbGF5Iik7CiAgICAgICAgICBzdG9yZS5zdGF0ZS5hdWRpby5wYXVzZSgpOwogICAgICAgIH0pOwogICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRzb25nbGlzdCIsIHJlc3VsdHMudmFsdWUpOwogICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRzZXRjdXJyZXQiLCBpbmRleCk7CiAgICAgICAgbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgc3RvcmUuc3RhdGUuYXVkaW8ucGxheSgpOwoKICAgICAgICAgIGlmIChzdG9yZS5zdGF0ZS5hdWRpby5wbGF5ZWQpIHsKICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goInNldGlzcGxheSIpOwogICAgICAgICAgICBUb2FzdC5jbGVhcih7CiAgICAgICAgICAgICAgY2xlYXJBbGw6IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgYXR0cnM6IGF0dHJzLAogICAgICBsaXN0OiBsaXN0LAogICAgICBvbkxvYWQ6IG9uTG9hZCwKICAgICAgbG9hZGluZzogbG9hZGluZywKICAgICAgZmluaXNoZWQ6IGZpbmlzaGVkLAogICAgICByZXN1bHRzOiByZXN1bHRzLAogICAgICBvZmZzZXQ6IG9mZnNldCwKICAgICAgc3RvcmU6IHN0b3JlLAogICAgICBwbGF5OiBwbGF5LAogICAgICByb3V0ZXI6IHJvdXRlcgogICAgfTsKICB9Cn07"},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\views\\search\\muisclist.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"list\">\n    <div class=\"title\">\n      <van-icon name=\"play-circle-o\" size=\"20\" color=\"red\" />\n      <div class=\"playall\">播放全部</div>\n    </div>\n    <van-list\n      v-model:loading=\"loading\"\n      :finished=\"finished\"\n      finished-text=\"没有更多了\"\n      @load=\"onLoad\"\n    >\n      <div class=\"songslist\">\n        <div\n          class=\"item\"\n          v-for=\"(item, index) in results\"\n          :key=\"item\"\n          @click=\"play(index)\"\n        >\n          <div class=\"left\">\n            <div class=\"index\">{{ index + 1 }}</div>\n\n            <div class=\"data\">\n              <div class=\"songname van-ellipsis\">\n                {{ item.name }}\n              </div>\n              <div class=\"songtitle van-ellipsis\">\n                {{ `${item.ar[0].name}--${item.name}` }}\n              </div>\n            </div>\n          </div>\n          <div class=\"icons\">\n            <van-icon\n              name=\"tv-o\"\n              v-if=\"item.mv\"\n              size=\"20\"\n              @click.stop=\"\n                router.push({\n                  name: 'video',\n                  params: {\n                    id: item.mv,\n                  },\n                })\n              \"\n              class=\"tv\"\n            />\n            <van-icon name=\"ellipsis\" size=\"20\" />\n          </div>\n        </div>\n        <div class=\"van-hairline--bottom\"></div>\n      </div>\n    </van-list>\n  </div>\n</template>\n\n<script>\nimport { getcloudsearch } from \"@/api/search.js\";\nimport { nextTick, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nimport { Toast } from \"vant\";\nexport default {\n  setup(props, { attrs }) {\n    const list = ref([]);\n    const loading = ref(false);\n    const finished = ref(false);\n    const results = ref([]);\n    const offset = ref(1);\n    const store = useStore();\n    const router = useRouter();\n    const onLoad = async () => {\n      const { data } = await getcloudsearch({\n        keywords: attrs.attrs.value,\n        type: 1,\n        offset: (offset.value - 1) * 30,\n      });\n\n      results.value.push(...data.result.songs);\n      loading.value = false;\n      if (data.result.songs.length) {\n        offset.value++;\n      } else {\n        finished.value = true;\n      }\n    };\n    const play = (index) => {\n      if (\n        store.state.songlist.length &&\n        store.state.audio.played &&\n        index === store.state.curret\n      ) {\n        return;\n      }\n\n      Toast.loading({\n        message: \"加载中...\",\n        forbidClick: true,\n        loadingType: \"spinner\",\n      });\n      if (store.state.audio.paused) {\n        store.dispatch(\"setsonglist\", results.value);\n        store.dispatch(\"setsetcurret\", index);\n        nextTick(() => {\n          store.state.audio.play();\n          store.dispatch(\"setisplay\");\n          if (store.state.isplay && store.state.audio.readyState == 4) {\n            Toast.clear({\n              clearAll: true,\n            });\n          }\n        });\n      } else {\n        nextTick(() => {\n          store.dispatch(\"setisplay\");\n          store.state.audio.pause();\n        });\n        store.dispatch(\"setsonglist\", results.value);\n        store.dispatch(\"setsetcurret\", index);\n        nextTick(() => {\n          store.state.audio.play();\n          if (store.state.audio.played) {\n            store.dispatch(\"setisplay\");\n            Toast.clear({\n              clearAll: true,\n            });\n          }\n        });\n      }\n    };\n    return {\n      attrs,\n      list,\n      onLoad,\n      loading,\n      finished,\n      results,\n      offset,\n      store,\n      play,\n      router,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.list {\n  background: #fff;\n  padding-bottom: 20px;\n  height: 80vh;\n  overflow-y: auto;\n  .songslist {\n    margin: 0 auto;\n    width: 95vw;\n    bottom: 50;\n    left: 0;\n    padding-bottom: 17px;\n    right: 0;\n    .item {\n      margin-bottom: 10px;\n      height: 50px;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      .data {\n        max-width: 40vw;\n        margin-left: 10px;\n        .songname {\n          color: #5b5b5b;\n          font-size: 14px;\n          font-weight: bold;\n          margin-bottom: 10px;\n        }\n        .songtitle {\n          font-size: 10px;\n          color: #c4c4c4;\n        }\n      }\n    }\n  }\n  .left {\n    display: flex;\n    .index {\n      line-height: 47.02px;\n      margin-right: 8px;\n      font-size: 12px;\n    }\n  }\n  .title {\n    display: flex;\n    width: 95vw;\n    color: #000;\n    font-size: 14px;\n    margin: 10px auto;\n    .playall {\n      margin-left: 5px;\n    }\n  }\n  .icons {\n    .tv {\n      margin-right: 15px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}