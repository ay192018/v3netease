{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\thread-loader\\dist\\cjs.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\components\\userReuse.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\components\\userReuse.vue","mtime":1647346588085},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1643989866000},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1636397451359},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1636614324825},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOlxcSFRNTFx1NURFNVx1N0EwQlxcXHU5ODc5XHU3NkVFXFx2M25ldGVhc2UtbWFpblxcbm9kZV9tb2R1bGVzXFxAdnVlXFxiYWJlbC1wcmVzZXQtYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFx0b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOlxcSFRNTFx1NURFNVx1N0EwQlxcXHU5ODc5XHU3NkVFXFx2M25ldGVhc2UtbWFpblxcbm9kZV9tb2R1bGVzXFxAdnVlXFxiYWJlbC1wcmVzZXQtYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBnZXR1c2VyZXZlbnQgfSBmcm9tICJAL2FwaS91c2VyLmpzIjsKaW1wb3J0IHsgRHluYW1pY2xpc3RzIH0gZnJvbSAiQC9VdGlsL2RheWpzLmpzIjsKaW1wb3J0IHsgc3dpdGNodHlwZSB9IGZyb20gIkAvVXRpbC9mbHR0ZXIuanMiOwppbXBvcnQgeyBvbk1vdW50ZWQgfSBmcm9tICJAdnVlL3J1bnRpbWUtY29yZSI7CmltcG9ydCB7IEltYWdlUHJldmlldyB9IGZyb20gInZhbnQiOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IHsgcmVmLCBpbmplY3QgfSBmcm9tICJ2dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgYXR0cnMgPSBfcmVmLmF0dHJzOwogICAgdmFyIGxvYWRpbmcgPSByZWYoZmFsc2UpOwogICAgdmFyIGZpbmlzaGVkID0gcmVmKGZhbHNlKTsKICAgIHZhciBEeW5hbWljbGlzdCA9IHJlZihbXSk7CiAgICB2YXIgc2hvd1NoYXJlID0gcmVmKGZhbHNlKTsKICAgIHZhciBsYXN0dGltZSA9IHJlZigtMSk7CiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICB2YXIgb3B0aW9ucyA9IFt7CiAgICAgIG5hbWU6ICLlvq7kv6EiLAogICAgICBpY29uOiAid2VjaGF0IgogICAgfSwgewogICAgICBuYW1lOiAi5b6u5Y2aIiwKICAgICAgaWNvbjogIndlaWJvIgogICAgfSwgewogICAgICBuYW1lOiAi5aSN5Yi26ZO+5o6lIiwKICAgICAgaWNvbjogImxpbmsiCiAgICB9LCB7CiAgICAgIG5hbWU6ICLliIbkuqvmtbfmiqUiLAogICAgICBpY29uOiAicG9zdGVyIgogICAgfSwgewogICAgICBuYW1lOiAi5LqM57u056CBIiwKICAgICAgaWNvbjogInFyY29kZSIKICAgIH1dOwogICAgdmFyIGlkID0gaW5qZWN0KCJpZCIpOwoKICAgIHZhciBvbkxvYWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF9EeW5hbWljbGlzdCR2YWx1ZTsKCiAgICAgICAgdmFyIF95aWVsZCRnZXR1c2VyZXZlbnQsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldHVzZXJldmVudCh7CiAgICAgICAgICAgICAgICAgIGxpbWl0OiA1LAogICAgICAgICAgICAgICAgICBsYXN0dGltZTogbGFzdHRpbWUudmFsdWUsCiAgICAgICAgICAgICAgICAgIHVpZDogaWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkZ2V0dXNlcmV2ZW50ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0dXNlcmV2ZW50LmRhdGE7CgogICAgICAgICAgICAgICAgLyogICAgaWYgKCFkYXRhLmV2ZW50cy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgIHJldHVybiAoZmluaXNoZWQudmFsdWUgPSB0cnVlKTsNCiAgICAgICAgICAgICAgICB9ICovCiAgICAgICAgICAgICAgICAoX0R5bmFtaWNsaXN0JHZhbHVlID0gRHluYW1pY2xpc3QudmFsdWUpLnB1c2guYXBwbHkoX0R5bmFtaWNsaXN0JHZhbHVlLCBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YS5ldmVudHMpKTsKCiAgICAgICAgICAgICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKGRhdGEuZXZlbnRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBsYXN0dGltZS52YWx1ZSA9IGRhdGEubGFzdHRpbWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBmaW5pc2hlZC52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gb25Mb2FkKCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBQcmV2aWV3ID0gZnVuY3Rpb24gUHJldmlldyhpdGVtKSB7CiAgICAgIEltYWdlUHJldmlldyh7CiAgICAgICAgaW1hZ2VzOiBbaXRlbS5vcmlnaW5VcmxdCiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBEeW5hbWljbGlzdDogRHluYW1pY2xpc3QsCiAgICAgIER5bmFtaWNsaXN0czogRHluYW1pY2xpc3RzLAogICAgICBzd2l0Y2h0eXBlOiBzd2l0Y2h0eXBlLAogICAgICBQcmV2aWV3OiBQcmV2aWV3LAogICAgICBvcHRpb25zOiBvcHRpb25zLAogICAgICBzaG93U2hhcmU6IHNob3dTaGFyZSwKICAgICAgYXR0cnM6IGF0dHJzLAogICAgICBvbkxvYWQ6IG9uTG9hZCwKICAgICAgbG9hZGluZzogbG9hZGluZywKICAgICAgZmluaXNoZWQ6IGZpbmlzaGVkLAogICAgICBsYXN0dGltZTogbGFzdHRpbWUsCiAgICAgIHJvdXRlcjogcm91dGVyCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\components\\userReuse.vue"],"names":[],"mappings":";;;AAoHA,SAAS,YAAT,QAA6B,eAA7B;AACA,SAAS,YAAT,QAA6B,iBAA7B;AACA,SAAS,UAAT,QAA2B,kBAA3B;AACA,SAAS,SAAT,QAA0B,mBAA1B;AACA,SAAS,YAAT,QAA6B,MAA7B;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,GAAT,EAAc,MAAd,QAA4B,KAA5B;AACA,eAAe;AACb,EAAA,KADa,iBACP,KADO,QACW;AAAA,QAAT,KAAS,QAAT,KAAS;AACtB,QAAM,OAAM,GAAI,GAAG,CAAC,KAAD,CAAnB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,KAAD,CAApB;AACA,QAAM,WAAU,GAAI,GAAG,CAAC,EAAD,CAAvB;AACA,QAAM,SAAQ,GAAI,GAAG,CAAC,KAAD,CAArB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,CAAC,CAAF,CAApB;AACA,QAAM,MAAK,GAAI,SAAS,EAAxB;AACA,QAAM,OAAM,GAAI,CACd;AAAE,MAAA,IAAI,EAAE,IAAR;AAAc,MAAA,IAAI,EAAE;AAApB,KADc,EAEd;AAAE,MAAA,IAAI,EAAE,IAAR;AAAc,MAAA,IAAI,EAAE;AAApB,KAFc,EAGd;AAAE,MAAA,IAAI,EAAE,MAAR;AAAgB,MAAA,IAAI,EAAE;AAAtB,KAHc,EAId;AAAE,MAAA,IAAI,EAAE,MAAR;AAAgB,MAAA,IAAI,EAAE;AAAtB,KAJc,EAKd;AAAE,MAAA,IAAI,EAAE,KAAR;AAAe,MAAA,IAAI,EAAE;AAArB,KALc,CAAhB;AAQA,QAAM,EAAC,GAAI,MAAM,CAAC,IAAD,CAAjB;;AACA,QAAM,MAAK;AAAA,0EAAI;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACU,YAAY,CAAC;AAClC,kBAAA,KAAK,EAAE,CAD2B;AAElC,kBAAA,QAAQ,EAAE,QAAQ,CAAC,KAFe;AAGlC,kBAAA,GAAG,EAAE;AAH6B,iBAAD,CADtB;;AAAA;AAAA;AACL,gBAAA,IADK,uBACL,IADK;;AAOb;AACE;AACF;AAEA,sCAAA,WAAW,CAAC,KAAZ,EAAkB,IAAlB,8CAA0B,IAAI,CAAC,MAA/B;;AACA,gBAAA,OAAO,CAAC,KAAR,GAAgB,KAAhB;;AACA,oBAAI,IAAI,CAAC,MAAL,CAAY,MAAhB,EAAwB;AACtB,kBAAA,QAAQ,CAAC,KAAT,GAAiB,IAAI,CAAC,QAAtB;AACF,iBAFA,MAEO;AACL,kBAAA,QAAQ,CAAC,KAAT,GAAiB,IAAjB;AACF;;AAjBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAL,MAAK;AAAA;AAAA;AAAA,OAAX;;AAmBA,QAAM,OAAM,GAAI,SAAV,OAAU,CAAC,IAAD,EAAU;AACxB,MAAA,YAAY,CAAC;AACX,QAAA,MAAM,EAAE,CAAC,IAAI,CAAC,SAAN;AADG,OAAD,CAAZ;AAGD,KAJD;;AAMA,WAAO;AACL,MAAA,WAAW,EAAX,WADK;AAEL,MAAA,YAAY,EAAZ,YAFK;AAGL,MAAA,UAAU,EAAV,UAHK;AAIL,MAAA,OAAO,EAAP,OAJK;AAKL,MAAA,OAAO,EAAP,OALK;AAML,MAAA,SAAS,EAAT,SANK;AAOL,MAAA,KAAK,EAAL,KAPK;AAQL,MAAA,MAAM,EAAN,MARK;AASL,MAAA,OAAO,EAAP,OATK;AAUL,MAAA,QAAQ,EAAR,QAVK;AAWL,MAAA,QAAQ,EAAR,QAXK;AAYL,MAAA,MAAM,EAAN;AAZK,KAAP;AAcD;AAxDY,CAAf","sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <van-list\r\n      v-model:loading=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"onLoad\"\r\n    >\r\n      <div class=\"items \" v-for=\"(item, index) in Dynamiclist\" :key=\"index\">\r\n        <van-image\r\n          width=\"40\"\r\n          height=\"40\"\r\n          round\r\n          fit=\"cover\"\r\n          :src=\"item.user.avatarUrl\"\r\n          class=\"img\"\r\n          @click=\"\r\n            router.push({\r\n              name: 'user',\r\n              params: {\r\n                id: item.user.userId,\r\n              },\r\n            })\r\n          \"\r\n        />\r\n        <div class=\"content\">\r\n          <div\r\n            class=\"data\"\r\n            @click=\"\r\n              router.push({\r\n                name: 'user',\r\n                params: {\r\n                  id: item.user.userId,\r\n                },\r\n              })\r\n            \"\r\n          >\r\n            <span>{{ item.user.nickname }}</span>\r\n            <span class=\"type\">{{ switchtype(item.type) }}</span\r\n            ><br />\r\n            <span class=\"time\">{{ Dynamiclists(item.eventTime) }} </span>\r\n          </div>\r\n          <div class=\"text\">\r\n            {{ JSON.parse(item.json).msg }}\r\n          </div>\r\n\r\n          <div class=\"imgcollection\">\r\n            <van-grid :column-num=\"3\" :gutter=\"1\" square :border=\"false\">\r\n              <van-grid-item\r\n                v-for=\"(item, index) in item.pics\"\r\n                :key=\"index\"\r\n                class=\"item\"\r\n              >\r\n                <van-image\r\n                  @click=\"Preview(item)\"\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                  fit=\"cover\"\r\n                  :src=\"item.originUrl\"\r\n              /></van-grid-item>\r\n            </van-grid>\r\n          </div>\r\n          <div class=\"song\">\r\n            <!--    <van-image\r\n              width=\"40\"\r\n              height=\"40\"\r\n              radius=\"15\"\r\n              fit=\"cover\"\r\n              :src=\"JSON.parse(item.json).song.album.picUrl\"\r\n              class=\"img\"\r\n            />\r\n\r\n            <div class=\"data\">\r\n              <span class=\"van-ellipsis name\">{{\r\n                JSON.parse(item.json).song.name\r\n              }}</span\r\n              ><br />\r\n              <span style=\"color:#bfbfbf\" class=\"van-ellipsis\">{{\r\n                JSON.parse(item.json).song.artists[0].name\r\n              }}</span>\r\n            </div> -->\r\n          </div>\r\n          <div class=\"ziliao\">\r\n            <div class=\"bottomitem\">\r\n              <van-icon size=\"15\" class=\"icon\" name=\"revoke\" />转发\r\n            </div>\r\n            <div class=\"bottomitem\">\r\n              <van-icon size=\"18\" class=\"icon\" name=\"chat-o\" />{{\r\n                item.info.commentCount\r\n              }}\r\n            </div>\r\n            <div class=\"bottomitem\">\r\n              <van-icon size=\"18\" class=\"icon\" name=\"good-job-o\" />{{\r\n                item.info.likedCount\r\n              }}\r\n            </div>\r\n            <van-icon\r\n              name=\"ellipsis\"\r\n              size=\"20\"\r\n              @click.stop=\"showShare = !showShare\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </van-list>\r\n\r\n    <van-share-sheet\r\n      v-model:show=\"showShare\"\r\n      title=\"立即分享给好友\"\r\n      :options=\"options\"\r\n      teleport=\"body\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getuserevent } from \"@/api/user.js\";\r\nimport { Dynamiclists } from \"@/Util/dayjs.js\";\r\nimport { switchtype } from \"@/Util/fltter.js\";\r\nimport { onMounted } from \"@vue/runtime-core\";\r\nimport { ImagePreview } from \"vant\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { ref, inject } from \"vue\";\r\nexport default {\r\n  setup(props, { attrs }) {\r\n    const loading = ref(false);\r\n    const finished = ref(false);\r\n    const Dynamiclist = ref([]);\r\n    const showShare = ref(false);\r\n    const lasttime = ref(-1);\r\n    const router = useRouter();\r\n    const options = [\r\n      { name: \"微信\", icon: \"wechat\" },\r\n      { name: \"微博\", icon: \"weibo\" },\r\n      { name: \"复制链接\", icon: \"link\" },\r\n      { name: \"分享海报\", icon: \"poster\" },\r\n      { name: \"二维码\", icon: \"qrcode\" },\r\n    ];\r\n\r\n    const id = inject(\"id\");\r\n    const onLoad = async () => {\r\n      const { data } = await getuserevent({\r\n        limit: 5,\r\n        lasttime: lasttime.value,\r\n        uid: id,\r\n      });\r\n\r\n      /*    if (!data.events.length) {\r\n        return (finished.value = true);\r\n      } */\r\n\r\n      Dynamiclist.value.push(...data.events);\r\n      loading.value = false;\r\n      if (data.events.length) {\r\n        lasttime.value = data.lasttime;\r\n      } else {\r\n        finished.value = true;\r\n      }\r\n    };\r\n    const Preview = (item) => {\r\n      ImagePreview({\r\n        images: [item.originUrl],\r\n      });\r\n    };\r\n\r\n    return {\r\n      Dynamiclist,\r\n      Dynamiclists,\r\n      switchtype,\r\n      Preview,\r\n      options,\r\n      showShare,\r\n      attrs,\r\n      onLoad,\r\n      loading,\r\n      finished,\r\n      lasttime,\r\n      router,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.content {\r\n  width: 100%;\r\n  padding: 5px;\r\n  /*   height: 80vh;\r\n  box-sizing: border-box; */\r\n  overflow-y: auto;\r\n  .items {\r\n    margin-top: 15px;\r\n    width: 100%;\r\n    display: flex;\r\n    .img {\r\n      vertical-align: top;\r\n      margin-right: 5px;\r\n    }\r\n    .content {\r\n      width: 86vw;\r\n      height: auto;\r\n      display: inline-block;\r\n      .text {\r\n        margin: 5px 0;\r\n      }\r\n      .data {\r\n        margin: 5px 0;\r\n        .type {\r\n          font-size: 12px;\r\n          color: #bfbfbf;\r\n        }\r\n        .time {\r\n          margin-top: 5px;\r\n          color: #bfbfbf;\r\n        }\r\n      }\r\n      .title {\r\n        margin: 5px 0;\r\n      }\r\n      .imgcollection {\r\n        border-radius: 15px !important;\r\n        ::v-deep(.van-grid-item__content) {\r\n          padding: 0;\r\n        }\r\n        .item {\r\n          box-sizing: border-box;\r\n        }\r\n      }\r\n      .song {\r\n        border-radius: 8px;\r\n        background: rgba(rgb(121, 116, 116), green, blue, alpha);\r\n        display: flex;\r\n        justify-content: space-around;\r\n        align-items: center;\r\n\r\n        .data {\r\n          display: flex;\r\n          flex-direction: column;\r\n          justify-content: space-around;\r\n          width: 80%;\r\n          overflow: hidden;\r\n          & span {\r\n            overflow: hidden;\r\n          }\r\n        }\r\n      }\r\n      .ziliao {\r\n        margin: 5px 0;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        .bottomitem {\r\n          color: #bfbfbf;\r\n          font-size: 13px;\r\n          .icon {\r\n            margin-right: 5px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}