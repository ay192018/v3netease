{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\thread-loader\\dist\\cjs.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\components\\video\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\components\\video\\index.vue","mtime":1648145515836},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1643989866000},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1636397451359},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1636614324825},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxIVE1MXHU1REU1XHU3QTBCXFxcdTk4NzlcdTc2RUVcXHYzbmV0ZWFzZS1tYWluXFxub2RlX21vZHVsZXNcXEB2dWVcXGJhYmVsLXByZXNldC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IHsgZ2V0dmlkZW9kZXRhaWwsIGdldHZpZGVvdXJsLCBnZXR2aWRlb2NvbW1lbnQsIGdldG12Y29tbWVudCwgZ2V0dmlkZW9yZWxhdGVkLCBnZXRtdmRldGFpbCwgZ2V0bXZ1cmwgfSBmcm9tICdAL2FwaS92aWRlby5qcyc7CmltcG9ydCB7IG5leHRUaWNrLCBvbk1vdW50ZWQgfSBmcm9tICdAdnVlL3J1bnRpbWUtY29yZSc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgVnVlRGFubWFrdSBmcm9tICd2dWUzLWRhbm1ha3UnOwppbXBvcnQgeyByZWYsIHJlYWN0aXZlLCBwcm92aWRlIH0gZnJvbSAndnVlJzsKaW1wb3J0IERhdGEgZnJvbSAnLi9jb21wb25lbnRzL2RhdGEudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFZ1ZURhbm1ha3U6IFZ1ZURhbm1ha3UsCiAgICBEYXRhOiBEYXRhCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBhdHRycyA9IF9yZWYuYXR0cnM7CiAgICB2YXIgZGF0YXMgPSByZWFjdGl2ZSh7CiAgICAgIGRhdGE6IHt9LAogICAgICBjcmVhdG9yOiB7fSwKICAgICAgdmlkOiAnJywKICAgICAgYXJ0aXN0czogbnVsbAogICAgfSk7CiAgICB2YXIgdmFsdWUgPSByZWYoMCk7CgogICAgdmFyIG9uQ2hhbmdlID0gZnVuY3Rpb24gb25DaGFuZ2UodmFsdWUpIHsKICAgICAgdmlkZW8udmFsdWUuY3VycmVudFRpbWUgPSB2YWx1ZTsKICAgIH07CgogICAgdmFyIHVybCA9IHJlZignJyk7CiAgICB2YXIgdmlkZW8gPSByZWYobnVsbCk7CiAgICB2YXIgZGFubWFrdSA9IHJlZihudWxsKTsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIHZhciBpY29uID0gcmVmKGZhbHNlKTsKICAgIHZhciBkYW5tdXMgPSByZWYoW10pOwogICAgdmFyIGR1cmF0aW9uID0gcmVmKDApOwoKICAgIHZhciBwbGF5c3RhdHVzID0gZnVuY3Rpb24gcGxheXN0YXR1cygpIHsKICAgICAgLy/mkq3mlL7nirbmgIEKICAgICAgaWYgKHZpZGVvLnZhbHVlLnBhdXNlZCAmJiB2aWRlby52YWx1ZS5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgdmlkZW8udmFsdWUucGxheSgpOwogICAgICAgICAgaWNvbi52YWx1ZSA9ICFpY29uLnZhbHVlOwogICAgICAgICAgZGFubWFrdS52YWx1ZS5wbGF5KCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgdmlkZW8udmFsdWUucGF1c2UoKTsKICAgICAgICAgIGljb24udmFsdWUgPSAhaWNvbi52YWx1ZTsKICAgICAgICAgIGRhbm1ha3UudmFsdWUucGF1c2UoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgZW5kZWQgPSBmdW5jdGlvbiBlbmRlZCgpIHsKICAgICAgaWNvbi52YWx1ZSA9ICFpY29uLnZhbHVlOwogICAgICBuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgZGFubWFrdS52YWx1ZS5zdG9wKCk7CiAgICAgIH0pOwogICAgfTsKCiAgICB2YXIgbG9hZGVkbWV0YWRhdGEgPSBmdW5jdGlvbiBsb2FkZWRtZXRhZGF0YShlKSB7CiAgICAgIGR1cmF0aW9uLnZhbHVlID0gZS50YXJnZXQuZHVyYXRpb247IC8vIGNvbnNvbGUubG9nKGR1cmF0aW9uLnZhbHVlKTsKICAgIH07CgogICAgdmFyIHBsYXkgPSBmdW5jdGlvbiBwbGF5KCkgewogICAgICBuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgdmlkZW8udmFsdWUucGxheSgpOwogICAgICB9KTsKICAgICAgaWNvbi52YWx1ZSA9ICFpY29uLnZhbHVlOwogICAgfTsKCiAgICB2YXIgb25UaW1ldXBkYXRlID0gZnVuY3Rpb24gb25UaW1ldXBkYXRlKGUpIHsKICAgICAgdmFsdWUudmFsdWUgPSBlLnRhcmdldC5jdXJyZW50VGltZTsKICAgIH07CgogICAgb25Nb3VudGVkKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3lpZWxkJGdldHZpZGVvZGV0YWlsLCBkYXRhLCByZXMsIGNvbW1lbnQsIGFyciwgX2RhdGEsIF9yZXMsIF9jb21tZW50LCBfYXJyOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghKGF0dHJzLmlkLmxlbmd0aCA+IDgpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBnZXR2aWRlb2RldGFpbCh7CiAgICAgICAgICAgICAgICAvL+inhumikeivpuaDhQogICAgICAgICAgICAgICAgaWQ6IGF0dHJzLmlkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX3lpZWxkJGdldHZpZGVvZGV0YWlsID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGdldHZpZGVvZGV0YWlsLmRhdGE7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIGdldHZpZGVvdXJsKHsKICAgICAgICAgICAgICAgIC8v6KeG6aKR5Zyw5Z2ACiAgICAgICAgICAgICAgICBpZDogYXR0cnMuaWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gZ2V0dmlkZW9jb21tZW50KHsKICAgICAgICAgICAgICAgIC8v6KeG6aKR6K+E6K665by55bmVCiAgICAgICAgICAgICAgICBpZDogYXR0cnMuaWQsCiAgICAgICAgICAgICAgICBsaW1pdDogMjAKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY29tbWVudCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgYXJyID0gW107CiAgICAgICAgICAgICAgY29tbWVudC5kYXRhLmNvbW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGFyci5wdXNoKGl0ZW0uY29udGVudCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgZGFubXVzLnZhbHVlID0gYXJyOwogICAgICAgICAgICAgIGRhdGFzLmRhdGEgPSBkYXRhLmRhdGE7CiAgICAgICAgICAgICAgZGF0YXMuY3JlYXRvciA9IGRhdGEuZGF0YS5jcmVhdG9yOwogICAgICAgICAgICAgIGRhdGFzLnZpZCA9IGRhdGEuZGF0YS52aWQ7CiAgICAgICAgICAgICAgdXJsLnZhbHVlID0gcmVzLmRhdGEudXJsc1swXS51cmw7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM4OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldG12ZGV0YWlsKHsKICAgICAgICAgICAgICAgIC8vbXYKICAgICAgICAgICAgICAgIG12aWQ6IGF0dHJzLmlkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIF9kYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgcmV0dXJuIGdldG12dXJsKHsKICAgICAgICAgICAgICAgIC8v6KeG6aKR5Zyw5Z2ACiAgICAgICAgICAgICAgICBpZDogYXR0cnMuaWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgX3JlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI4OwogICAgICAgICAgICAgIHJldHVybiBnZXRtdmNvbW1lbnQoewogICAgICAgICAgICAgICAgLy/op4bpopHor4TorrrlvLnluZUKICAgICAgICAgICAgICAgIGlkOiBhdHRycy5pZCwKICAgICAgICAgICAgICAgIGxpbWl0OiAxMDAKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgX2NvbW1lbnQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICBkYXRhcy5kYXRhID0gX2RhdGEuZGF0YS5kYXRhOwogICAgICAgICAgICAgIHVybC52YWx1ZSA9IF9yZXMuZGF0YS5kYXRhLnVybDsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1cmwudmFsdWUpOwogICAgICAgICAgICAgIF9hcnIgPSBbXTsKCiAgICAgICAgICAgICAgX2NvbW1lbnQuZGF0YS5jb21tZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICBfYXJyLnB1c2goaXRlbS5jb250ZW50KTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgZGFubXVzLnZhbHVlID0gX2FycjsKICAgICAgICAgICAgICBkYXRhcy52aWQgPSBfZGF0YS5kYXRhLnZpZDsKICAgICAgICAgICAgICBkYXRhcy5hcnRpc3RzID0gX2RhdGEuZGF0YS5kYXRhLmFydGlzdHNbMF07CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YXMpOwoKICAgICAgICAgICAgY2FzZSAzODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkpOwogICAgcmV0dXJuIHsKICAgICAgZGF0YXM6IGRhdGFzLAogICAgICB1cmw6IHVybCwKICAgICAgdmlkZW86IHZpZGVvLAogICAgICByb3V0ZXI6IHJvdXRlciwKICAgICAgZGFubXVzOiBkYW5tdXMsCiAgICAgIGRhbm1ha3U6IGRhbm1ha3UsCiAgICAgIHBsYXlzdGF0dXM6IHBsYXlzdGF0dXMsCiAgICAgIGljb246IGljb24sCiAgICAgIHBsYXk6IHBsYXksCiAgICAgIG9uQ2hhbmdlOiBvbkNoYW5nZSwKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBvblRpbWV1cGRhdGU6IG9uVGltZXVwZGF0ZSwKICAgICAgbG9hZGVkbWV0YWRhdGE6IGxvYWRlZG1ldGFkYXRhLAogICAgICBkdXJhdGlvbjogZHVyYXRpb24sCiAgICAgIGF0dHJzOiBhdHRycywKICAgICAgZW5kZWQ6IGVuZGVkCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\components\\video\\index.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\r\nimport {\r\n  getvideodetail,\r\n  getvideourl,\r\n  getvideocomment,\r\n  getmvcomment,\r\n  getvideorelated,\r\n  getmvdetail,\r\n  getmvurl,\r\n} from '@/api/video.js';\r\nimport { nextTick, onMounted } from '@vue/runtime-core';\r\nimport { useRouter } from 'vue-router';\r\nimport VueDanmaku from 'vue3-danmaku';\r\nimport { ref, reactive, provide } from 'vue';\r\nimport Data from './components/data.vue';\r\n\r\nexport default {\r\n  components: { VueDanmaku, Data },\r\n  setup(props, { attrs }) {\r\n    const datas = reactive({\r\n      data: {},\r\n      creator: {},\r\n      vid: '',\r\n      artists: null,\r\n    });\r\n\r\n    const value = ref(0);\r\n    const onChange = (value) => {\r\n      video.value.currentTime = value;\r\n    };\r\n    const url = ref('');\r\n    const video = ref(null);\r\n    const danmaku = ref(null);\r\n    const router = useRouter();\r\n    const icon = ref(false);\r\n    const danmus = ref([]);\r\n    const duration = ref(0);\r\n\r\n    const playstatus = () => {\r\n      //播放状态\r\n      if (video.value.paused && video.value.readyState === 4) {\r\n        nextTick(() => {\r\n          video.value.play();\r\n          icon.value = !icon.value;\r\n          danmaku.value.play();\r\n        });\r\n      } else {\r\n        nextTick(() => {\r\n          video.value.pause();\r\n          icon.value = !icon.value;\r\n          danmaku.value.pause();\r\n        });\r\n      }\r\n    };\r\n    const ended = () => {\r\n      icon.value = !icon.value;\r\n      nextTick(() => {\r\n        danmaku.value.stop();\r\n      });\r\n    };\r\n    const loadedmetadata = (e) => {\r\n      duration.value = e.target.duration;\r\n      // console.log(duration.value);\r\n    };\r\n    const play = () => {\r\n      nextTick(() => {\r\n        video.value.play();\r\n      });\r\n      icon.value = !icon.value;\r\n    };\r\n    const onTimeupdate = (e) => {\r\n      value.value = e.target.currentTime;\r\n    };\r\n\r\n    onMounted(async () => {\r\n      if (attrs.id.length > 8) {\r\n        const { data } = await getvideodetail({\r\n          //视频详情\r\n          id: attrs.id,\r\n        });\r\n        // console.log(data);\r\n        const res = await getvideourl({\r\n          //视频地址\r\n          id: attrs.id,\r\n        });\r\n        const comment = await getvideocomment({\r\n          //视频评论弹幕\r\n          id: attrs.id,\r\n          limit: 20,\r\n        });\r\n        let arr = [];\r\n        comment.data.comments.forEach((item) => {\r\n          arr.push(item.content);\r\n        });\r\n        danmus.value = arr;\r\n\r\n        datas.data = data.data;\r\n        datas.creator = data.data.creator;\r\n        datas.vid = data.data.vid;\r\n        url.value = res.data.urls[0].url;\r\n      } else {\r\n        const data = await getmvdetail({\r\n          //mv\r\n          mvid: attrs.id,\r\n        });\r\n        const res = await getmvurl({\r\n          //视频地址\r\n          id: attrs.id,\r\n        });\r\n        const comment = await getmvcomment({\r\n          //视频评论弹幕\r\n          id: attrs.id,\r\n          limit: 100,\r\n        });\r\n        // console.log(data.data.data);\r\n        datas.data = data.data.data;\r\n        url.value = res.data.data.url;\r\n        console.log(url.value);\r\n        let arr = [];\r\n        comment.data.comments.forEach((item) => {\r\n          arr.push(item.content);\r\n        });\r\n        danmus.value = arr;\r\n\r\n        datas.vid = data.data.vid;\r\n\r\n        datas.artists = data.data.data.artists[0];\r\n\r\n        console.log(datas);\r\n      }\r\n    });\r\n    return {\r\n      datas,\r\n      url,\r\n      video,\r\n      router,\r\n      danmus,\r\n      danmaku,\r\n      playstatus,\r\n      icon,\r\n      play,\r\n      onChange,\r\n      value,\r\n      onTimeupdate,\r\n      loadedmetadata,\r\n      duration,\r\n      attrs,\r\n      ended,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.video {\r\n  background: #000;\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: 3000;\r\n  width: 100%;\r\n  height: 100%;\r\n  .controls {\r\n    z-index: -1;\r\n    width: 100%;\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 50%;\r\n    transform: translateY(-70%);\r\n  }\r\n  /deep/ .van-nav-bar {\r\n    background: transparent;\r\n  }\r\n  .Danmaku {\r\n    width: 100%;\r\n    height: 20vh;\r\n    position: fixed;\r\n    left: 0;\r\n    top: 10vh;\r\n    right: 0;\r\n  }\r\n  .play {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -150%);\r\n  }\r\n  .slider {\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 3vh;\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"video\">\r\n    <van-nav-bar :border=\"false\" @click-left=\"router.back()\">\r\n      <template #left><van-icon name=\"arrow-left\" color=\"#fff\" size=\"24\" /> </template\r\n    ></van-nav-bar>\r\n\r\n    <VueDanmaku\r\n      :danmus=\"danmus\"\r\n      ref=\"danmaku\"\r\n      :loop=\"true\"\r\n      class=\"Danmaku\"\r\n      :right=\"4\"\r\n      :speeds=\"100\"\r\n      :debounce=\"1000\"\r\n      :randomChannel=\"true\"\r\n    />\r\n\r\n    <video\r\n      :src=\"url\"\r\n      class=\"controls\"\r\n      ref=\"video\"\r\n      autoplay\r\n      @click=\"playstatus\"\r\n      @timeupdate=\"onTimeupdate\"\r\n      @loadedmetadata=\"loadedmetadata\"\r\n      @ended=\"ended\"\r\n    />\r\n    <van-icon name=\"play\" @click=\"play\" color=\"#fff\" size=\"50\" class=\"play\" v-if=\"icon\" />\r\n    <Data :data=\"datas\" :attrs=\"attrs.id\" />\r\n    <van-slider\r\n      v-model=\"value\"\r\n      @change=\"onChange\"\r\n      active-color=\"red\"\r\n      button-size=\"15\"\r\n      class=\"slider\"\r\n      min=\"0\"\r\n      :max=\"duration\"\r\n    />\r\n  </div>\r\n</template>\r\n"],"sourceRoot":""}]}