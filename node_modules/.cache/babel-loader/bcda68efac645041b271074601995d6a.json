{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\index.vue","mtime":1647467798170},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1643989866000},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1636614324825},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxIVE1MXHU1REU1XHU3QTBCXFxcdTk4NzlcdTc2RUVcXHYzbmV0ZWFzZS1tYWluXFxub2RlX21vZHVsZXNcXEB2dWVcXGJhYmVsLXByZXNldC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGdldHVzZXJkYXRhIH0gZnJvbSAnQC9hcGkvdXNlci5qcyc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHVzZVJvdXRlciwgdXNlUm91dGUgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgcmVhY3RpdmUsIG9uTW91bnRlZCwgcmVmIH0gZnJvbSAndnVlJzsKaW1wb3J0IENvbnRlbnQgZnJvbSAnLi9jb21wb25lbnRzL2NvbnRlbnQudnVlJzsKaW1wb3J0IFVzZXJEYXRhIGZyb20gJy4vY29tcG9uZW50cy91c2VyRGF0YS52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ29udGVudDogQ29udGVudCwKICAgIFVzZXJEYXRhOiBVc2VyRGF0YQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgYXR0cnMgPSBfcmVmLmF0dHJzOwogICAgdmFyIHVzZXIgPSByZWFjdGl2ZSh7CiAgICAgIHByb2ZpbGU6IHt9LAogICAgICBsZXZlbDogbnVsbCwKICAgICAgY3JlYXRlRGF5czogMCwKICAgICAgY3JlYXRlVGltZTogMCwKICAgICAgbGlzdGVuU29uZ3M6IDAKICAgIH0pOwogICAgdmFyIHNob3cgPSByZWYoZmFsc2UpOwogICAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKCiAgICB2YXIgb25DbGlja0xlZnQgPSBmdW5jdGlvbiBvbkNsaWNrTGVmdCgpIHsKICAgICAgcm91dGVyLmJhY2soKTsKICAgIH07CgogICAgdmFyIGNoYW5nZVNob3cgPSBmdW5jdGlvbiBjaGFuZ2VTaG93KCkgewogICAgICBzaG93LnZhbHVlID0gIXNob3cudmFsdWU7CiAgICB9OwoKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBjb25zb2xlLmxvZyhhdHRycy5pZCA9PSBzdG9yZS5zdGF0ZS5wcm9maWxlLnVzZXJJZCk7CiAgICBvbk1vdW50ZWQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfeWllbGQkZ2V0dXNlcmRhdGEsIGRhdGE7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldHVzZXJkYXRhKHsKICAgICAgICAgICAgICAgIHVpZDogYXR0cnMuaWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfeWllbGQkZ2V0dXNlcmRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0dXNlcmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICB1c2VyLnByb2ZpbGUgPSBkYXRhLnByb2ZpbGU7CiAgICAgICAgICAgICAgICB1c2VyLmxldmVsID0gZGF0YS5sZXZlbDsKICAgICAgICAgICAgICAgIHVzZXIuY3JlYXRlRGF5cyA9IGRhdGEuY3JlYXRlRGF5czsKICAgICAgICAgICAgICAgIHVzZXIuY3JlYXRlVGltZSA9IGRhdGEuY3JlYXRlVGltZTsKICAgICAgICAgICAgICAgIHVzZXIubGlzdGVuU29uZ3MgPSBkYXRhLmxpc3RlblNvbmdzOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkpOwogICAgcmV0dXJuIHsKICAgICAgcm91dGVyOiByb3V0ZXIsCiAgICAgIHJvdXRlOiByb3V0ZSwKICAgICAgb25DbGlja0xlZnQ6IG9uQ2xpY2tMZWZ0LAogICAgICB1c2VyOiB1c2VyLAogICAgICBhdHRyczogYXR0cnMsCiAgICAgIHN0b3JlOiBzdG9yZSwKICAgICAgc2hvdzogc2hvdywKICAgICAgY2hhbmdlU2hvdzogY2hhbmdlU2hvdwogICAgfTsKICB9Cn07"},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\index.vue"],"names":[],"mappings":";;AACA,SAAS,WAAT,QAA4B,eAA5B;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,SAAS,SAAT,EAAoB,QAApB,QAAoC,YAApC;AACA,SAAS,QAAT,EAAmB,SAAnB,EAA8B,GAA9B,QAAyC,KAAzC;AACA,OAAO,OAAP,MAAoB,0BAApB;AACA,OAAO,QAAP,MAAqB,2BAArB;AACA,eAAe;AACb,EAAA,UAAU,EAAE;AAAE,IAAA,OAAO,EAAP,OAAF;AAAW,IAAA,QAAO,EAAP;AAAX,GADC;AAEb,EAAA,KAFa,iBAEP,KAFO,QAEW;AAAA,QAAT,KAAS,QAAT,KAAS;AACtB,QAAM,IAAG,GAAI,QAAQ,CAAC;AACpB,MAAA,OAAO,EAAE,EADW;AAEpB,MAAA,KAAK,EAAE,IAFa;AAGpB,MAAA,UAAU,EAAE,CAHQ;AAIpB,MAAA,UAAU,EAAE,CAJQ;AAKpB,MAAA,WAAW,EAAE;AALO,KAAD,CAArB;AAOA,QAAM,IAAG,GAAI,GAAG,CAAC,KAAD,CAAhB;AACA,QAAM,MAAK,GAAI,SAAS,EAAxB;AACA,QAAM,KAAI,GAAI,QAAQ,EAAtB;;AACA,QAAM,WAAU,GAAI,SAAd,WAAc,GAAM;AACxB,MAAA,MAAM,CAAC,IAAP;AACD,KAFD;;AAGA,QAAM,UAAS,GAAI,SAAb,UAAa,GAAM;AACvB,MAAA,IAAI,CAAC,KAAL,GAAa,CAAC,IAAI,CAAC,KAAnB;AACD,KAFD;;AAGA,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,IAAA,OAAO,CAAC,GAAR,CAAY,KAAK,CAAC,EAAN,IAAY,KAAK,CAAC,KAAN,CAAY,OAAZ,CAAoB,MAA5C;AACA,IAAA,SAAS,uEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACe,WAAW,CAAC;AACjC,gBAAA,GAAG,EAAE,KAAK,CAAC;AADsB,eAAD,CAD1B;;AAAA;AAAA;AACA,cAAA,IADA,sBACA,IADA;;AAKR,kBAAI,IAAI,CAAC,IAAL,KAAc,GAAlB,EAAuB;AACrB,gBAAA,IAAI,CAAC,OAAL,GAAe,IAAI,CAAC,OAApB;AACA,gBAAA,IAAI,CAAC,KAAL,GAAa,IAAI,CAAC,KAAlB;AACA,gBAAA,IAAI,CAAC,UAAL,GAAkB,IAAI,CAAC,UAAvB;AACA,gBAAA,IAAI,CAAC,UAAL,GAAkB,IAAI,CAAC,UAAvB;AACA,gBAAA,IAAI,CAAC,WAAL,GAAmB,IAAI,CAAC,WAAxB;AACF;;AAXQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT;AAaA,WAAO;AACL,MAAA,MAAM,EAAN,MADK;AAEL,MAAA,KAAK,EAAL,KAFK;AAGL,MAAA,WAAW,EAAX,WAHK;AAIL,MAAA,IAAI,EAAJ,IAJK;AAKL,MAAA,KAAK,EAAL,KALK;AAML,MAAA,KAAK,EAAL,KANK;AAOL,MAAA,IAAI,EAAJ,IAPK;AAQL,MAAA,UAAU,EAAV;AARK,KAAP;AAUD;AA5CY,CAAf","sourcesContent":["<script>\r\nimport { getuserdata } from '@/api/user.js';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter, useRoute } from 'vue-router';\r\nimport { reactive, onMounted, ref } from 'vue';\r\nimport Content from './components/content.vue';\r\nimport UserData from './components/userData.vue';\r\nexport default {\r\n  components: { Content, UserData },\r\n  setup(props, { attrs }) {\r\n    const user = reactive({\r\n      profile: {},\r\n      level: null,\r\n      createDays: 0,\r\n      createTime: 0,\r\n      listenSongs: 0,\r\n    });\r\n    const show = ref(false);\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const onClickLeft = () => {\r\n      router.back();\r\n    };\r\n    const changeShow = () => {\r\n      show.value = !show.value;\r\n    };\r\n    const store = useStore();\r\n    console.log(attrs.id == store.state.profile.userId);\r\n    onMounted(async () => {\r\n      const { data } = await getuserdata({\r\n        uid: attrs.id,\r\n      });\r\n\r\n      if (data.code === 200) {\r\n        user.profile = data.profile;\r\n        user.level = data.level;\r\n        user.createDays = data.createDays;\r\n        user.createTime = data.createTime;\r\n        user.listenSongs = data.listenSongs;\r\n      }\r\n    });\r\n    return {\r\n      router,\r\n      route,\r\n      onClickLeft,\r\n      user,\r\n      attrs,\r\n      store,\r\n      show,\r\n      changeShow,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.user {\r\n  width: 100%;\r\n  background: #f0f0f0;\r\n  ::v-deep(.van-nav-bar) {\r\n    background: transparent;\r\n  }\r\n\r\n  .userdata {\r\n    position: relative;\r\n    width: 95vw;\r\n    height: auto;\r\n    border-radius: 15px;\r\n    background: #fefefe;\r\n    margin: 0 auto;\r\n    z-index: 1;\r\n    border-radius: 15px;\r\n    text-align: center;\r\n    ::v-deep(.van-image) {\r\n      position: absolute;\r\n      top: -26%;\r\n      left: 50%;\r\n      transform: translate(-50%);\r\n    }\r\n    .name {\r\n      margin: 20px 5px;\r\n      vertical-align: middle;\r\n    }\r\n    .title {\r\n      margin: 20px 10px;\r\n      font-size: 12px;\r\n      color: #bfbfbf;\r\n    }\r\n    .editor {\r\n      margin: 10px auto;\r\n      ::v-deep(.van-button) {\r\n        margin-right: 10px;\r\n        vertical-align: middle;\r\n        border: 1px solid #bfbfbf;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"user\">\r\n    <van-nav-bar :border=\"false\" @click-left=\"onClickLeft\" fixed>\r\n      <template #left><van-icon name=\"arrow-left\" size=\"25\" color=\"#323233\" /> </template>\r\n    </van-nav-bar>\r\n    <van-image width=\"100vw\" height=\"42vh\" :src=\"user.profile.backgroundUrl\" />\r\n    <div class=\"userdata\">\r\n      <van-image\r\n        width=\"60\"\r\n        height=\"60\"\r\n        round\r\n        fit=\"cover\"\r\n        class=\" animate__animated animate__zoomInUp\"\r\n        :src=\"user.profile.avatarUrl\"\r\n      />\r\n      <br />\r\n      <span class=\"name\" style=\"font-size: 16px; font-weight: bold; font-size: 16px\">{{ user.profile.nickname }}</span\r\n      ><van-icon class=\"name\" name=\"vip-card-o\" :color=\"user.profile.vipType === 0 ? '#c0c0c0' : 'red'\" size=\"25\"\r\n        ><span style=\"font-size: 13px; vertical-align: top\">\r\n          {{ user.profile.vipType }}\r\n        </span></van-icon\r\n      ><br />\r\n\r\n      <div>\r\n        <span class=\"title\">{{ user.profile.followeds }} 关注</span>\r\n        <span class=\"title\">{{ user.profile.follows }} 粉丝</span>\r\n        <span class=\"title\">{{ user.level }} Lv</span>\r\n      </div>\r\n      <div class=\"editor\">\r\n        <van-button\r\n          v-if=\"attrs.id == store.state.profile.userId\"\r\n          type=\"primary\"\r\n          size=\"mini\"\r\n          round\r\n          hairline\r\n          color=\"#ccc\"\r\n          @click=\"show = !show\"\r\n          >编辑资料</van-button\r\n        >\r\n        <div v-else>\r\n          <van-button type=\"primary\" color=\"red\" size=\"mini\" icon=\"add-o\" round>关注</van-button>\r\n          <van-button type=\"primary\" color=\"#323233\" size=\"mini\" round\r\n            ><span style=\"padding:10px;\">聊天</span></van-button\r\n          >\r\n        </div>\r\n\r\n        <van-icon name=\"arrow-down\" size=\"20\" />\r\n      </div>\r\n    </div>\r\n    <Content\r\n      :user=\"{\r\n        profile: user.profile,\r\n        createDays: user.createDays,\r\n        createTime: user.createTime,\r\n        listenSongs: user.listenSongs,\r\n        id: attrs.id,\r\n      }\"\r\n    />\r\n    <van-popup v-model:show=\"show\" position=\"top\" :style=\"{ height: '110%', width: '100%' }\"\r\n      ><UserData @changeShow=\"changeShow\"\r\n    /></van-popup>\r\n  </div>\r\n</template>\r\n"],"sourceRoot":""}]}