{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\index.vue","mtime":1647208111973},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1643989866000},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1636614324825},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOlxcSFRNTFx1NURFNVx1N0EwQlxcXHU5ODc5XHU3NkVFXFx2M25ldGVhc2UtbWFpblxcbm9kZV9tb2R1bGVzXFxAdnVlXFxiYWJlbC1wcmVzZXQtYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFx0b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOlxcSFRNTFx1NURFNVx1N0EwQlxcXHU5ODc5XHU3NkVFXFx2M25ldGVhc2UtbWFpblxcbm9kZV9tb2R1bGVzXFxAdnVlXFxiYWJlbC1wcmVzZXQtYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBnZXRldmVudCB9IGZyb20gIkAvYXBpL3VzZXIuanMiOwppbXBvcnQgeyBEeW5hbWljbGlzdHMgfSBmcm9tICJAL1V0aWwvZGF5anMuanMiOwppbXBvcnQgeyBzd2l0Y2h0eXBlIH0gZnJvbSAiQC9VdGlsL2ZsdHRlci5qcyI7CmltcG9ydCB7IG9uTW91bnRlZCB9IGZyb20gIkB2dWUvcnVudGltZS1jb3JlIjsKaW1wb3J0IHsgSW1hZ2VQcmV2aWV3IH0gZnJvbSAidmFudCI7CmltcG9ydCB7IHJlZiB9IGZyb20gInZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZm9sbG93IiwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgbG9hZGluZyA9IHJlZihmYWxzZSk7CiAgICB2YXIgZmluaXNoZWQgPSByZWYoZmFsc2UpOwogICAgdmFyIER5bmFtaWNsaXN0ID0gcmVmKFtdKTsKICAgIHZhciBzaG93U2hhcmUgPSByZWYoZmFsc2UpOwogICAgdmFyIGxhc3R0aW1lID0gcmVmKCk7CiAgICB2YXIgb3B0aW9ucyA9IFt7CiAgICAgIG5hbWU6ICLlvq7kv6EiLAogICAgICBpY29uOiAid2VjaGF0IgogICAgfSwgewogICAgICBuYW1lOiAi5b6u5Y2aIiwKICAgICAgaWNvbjogIndlaWJvIgogICAgfSwgewogICAgICBuYW1lOiAi5aSN5Yi26ZO+5o6lIiwKICAgICAgaWNvbjogImxpbmsiCiAgICB9LCB7CiAgICAgIG5hbWU6ICLliIbkuqvmtbfmiqUiLAogICAgICBpY29uOiAicG9zdGVyIgogICAgfSwgewogICAgICBuYW1lOiAi5LqM57u056CBIiwKICAgICAgaWNvbjogInFyY29kZSIKICAgIH1dOwoKICAgIHZhciBvbkxvYWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX0R5bmFtaWNsaXN0JHZhbHVlOwoKICAgICAgICB2YXIgX3lpZWxkJGdldGV2ZW50LCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRldmVudCh7CiAgICAgICAgICAgICAgICAgIHBhZ2VzaXplOiA1MCwKICAgICAgICAgICAgICAgICAgbGFzdHRpbWU6IGxhc3R0aW1lLnZhbHVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJGdldGV2ZW50ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0ZXZlbnQuZGF0YTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwoKICAgICAgICAgICAgICAgIChfRHluYW1pY2xpc3QkdmFsdWUgPSBEeW5hbWljbGlzdC52YWx1ZSkucHVzaC5hcHBseShfRHluYW1pY2xpc3QkdmFsdWUsIF90b0NvbnN1bWFibGVBcnJheShkYXRhLmV2ZW50KSk7CgogICAgICAgICAgICAgICAgbG9hZGluZy52YWx1ZSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLmV2ZW50Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBsYXN0dGltZS52YWx1ZSA9IGRhdGEubGFzdHRpbWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBmaW5pc2hlZC52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gb25Mb2FkKCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIFByZXZpZXcgPSBmdW5jdGlvbiBQcmV2aWV3KGl0ZW0pIHsKICAgICAgSW1hZ2VQcmV2aWV3KHsKICAgICAgICBpbWFnZXM6IFtpdGVtLm9yaWdpblVybF0KICAgICAgfSk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGdldGV2ZW50OiBnZXRldmVudCwKICAgICAgRHluYW1pY2xpc3Q6IER5bmFtaWNsaXN0LAogICAgICBEeW5hbWljbGlzdHM6IER5bmFtaWNsaXN0cywKICAgICAgc3dpdGNodHlwZTogc3dpdGNodHlwZSwKICAgICAgUHJldmlldzogUHJldmlldywKICAgICAgb3B0aW9uczogb3B0aW9ucywKICAgICAgc2hvd1NoYXJlOiBzaG93U2hhcmUsCiAgICAgIG9uTG9hZDogb25Mb2FkLAogICAgICBsb2FkaW5nOiBsb2FkaW5nLAogICAgICBmaW5pc2hlZDogZmluaXNoZWQsCiAgICAgIGxhc3R0aW1lOiBsYXN0dGltZQogICAgfTsKICB9Cn07"},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\views\\follow\\index.vue"],"names":[],"mappings":";;;AAoGA,SAAS,QAAT,QAAyB,eAAzB;AACA,SAAS,YAAT,QAA6B,iBAA7B;AACA,SAAS,UAAT,QAA2B,kBAA3B;AACA,SAAS,SAAT,QAA0B,mBAA1B;AACA,SAAS,YAAT,QAA6B,MAA7B;AACA,SAAS,GAAT,QAAoB,KAApB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,QADO;AAEb,EAAA,KAFa,mBAEL;AACN,QAAM,OAAM,GAAI,GAAG,CAAC,KAAD,CAAnB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,KAAD,CAApB;AACA,QAAM,WAAU,GAAI,GAAG,CAAC,EAAD,CAAvB;AACA,QAAM,SAAQ,GAAI,GAAG,CAAC,KAAD,CAArB;AACA,QAAM,QAAO,GAAI,GAAG,EAApB;AAEA,QAAM,OAAM,GAAI,CACd;AAAE,MAAA,IAAI,EAAE,IAAR;AAAc,MAAA,IAAI,EAAE;AAApB,KADc,EAEd;AAAE,MAAA,IAAI,EAAE,IAAR;AAAc,MAAA,IAAI,EAAE;AAApB,KAFc,EAGd;AAAE,MAAA,IAAI,EAAE,MAAR;AAAgB,MAAA,IAAI,EAAE;AAAtB,KAHc,EAId;AAAE,MAAA,IAAI,EAAE,MAAR;AAAgB,MAAA,IAAI,EAAE;AAAtB,KAJc,EAKd;AAAE,MAAA,IAAI,EAAE,KAAR;AAAe,MAAA,IAAI,EAAE;AAArB,KALc,CAAhB;;AAOA,QAAM,MAAK;AAAA,yEAAI;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACU,QAAQ,CAAC;AAC9B,kBAAA,QAAQ,EAAE,EADoB;AAE9B,kBAAA,QAAQ,EAAE,QAAQ,CAAC;AAFW,iBAAD,CADlB;;AAAA;AAAA;AACL,gBAAA,IADK,mBACL,IADK;AAKb,gBAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;;AACA,sCAAA,WAAW,CAAC,KAAZ,EAAkB,IAAlB,8CAA0B,IAAI,CAAC,KAA/B;;AACA,gBAAA,OAAO,CAAC,KAAR,GAAgB,KAAhB;;AAEA,oBAAI,IAAI,CAAC,KAAL,CAAW,MAAf,EAAuB;AACrB,kBAAA,QAAQ,CAAC,KAAT,GAAiB,IAAI,CAAC,QAAtB;AACF,iBAFA,MAEO;AACL,kBAAA,QAAQ,CAAC,KAAT,GAAiB,IAAjB;AACF;;AAba;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAL,MAAK;AAAA;AAAA;AAAA,OAAX;;AAeA,QAAM,OAAM,GAAI,SAAV,OAAU,CAAC,IAAD,EAAU;AACxB,MAAA,YAAY,CAAC;AACX,QAAA,MAAM,EAAE,CAAC,IAAI,CAAC,SAAN;AADG,OAAD,CAAZ;AAGD,KAJD;;AAMA,WAAO;AACL,MAAA,QAAQ,EAAR,QADK;AAEL,MAAA,WAAW,EAAX,WAFK;AAGL,MAAA,YAAY,EAAZ,YAHK;AAIL,MAAA,UAAU,EAAV,UAJK;AAKL,MAAA,OAAO,EAAP,OALK;AAML,MAAA,OAAO,EAAP,OANK;AAOL,MAAA,SAAS,EAAT,SAPK;AASL,MAAA,MAAM,EAAN,MATK;AAUL,MAAA,OAAO,EAAP,OAVK;AAWL,MAAA,QAAQ,EAAR,QAXK;AAYL,MAAA,QAAQ,EAAR;AAZK,KAAP;AAcD;AAnDY,CAAf","sourcesContent":["<template>\n  <div class=\"follow animate__fadeIn animate__animated\">\n    <van-nav-bar title=\"动态\" />\n    <div class=\"content\">\n      <van-list\n        v-model:loading=\"loading\"\n        :finished=\"finished\"\n        finished-text=\"没有更多了\"\n        @load=\"onLoad\"\n      >\n        <div class=\"items \" v-for=\"(item, index) in Dynamiclist\" :key=\"index\">\n          <van-image\n            width=\"40\"\n            height=\"40\"\n            round\n            fit=\"cover\"\n            :src=\"item.user.avatarUrl\"\n            class=\"img\"\n          />\n          <div class=\"content\">\n            <div class=\"data\">\n              <span>{{ item.user.nickname }}</span>\n              <span class=\"type\">{{ switchtype(item.type) }}</span\n              ><br />\n              <span class=\"time\">{{ Dynamiclists(item.eventTime) }} </span>\n            </div>\n            <div class=\"text\">\n              {{ JSON.parse(item.json).msg }}\n            </div>\n\n            <div class=\"imgcollection\">\n              <van-grid :column-num=\"3\" :gutter=\"1\" square :border=\"false\">\n                <van-grid-item\n                  v-for=\"(item, index) in item.pics\"\n                  :key=\"index\"\n                  class=\"item\"\n                >\n                  <van-image\n                    @click=\"Preview(item)\"\n                    width=\"100\"\n                    height=\"100\"\n                    fit=\"cover\"\n                    :src=\"item.originUrl\"\n                /></van-grid-item>\n              </van-grid>\n            </div>\n            <div class=\"song\">\n              <van-image\n                width=\"40\"\n                height=\"40\"\n                radius=\"15\"\n                fit=\"cover\"\n                :src=\"JSON.parse(item.json).song.album.picUrl\"\n                class=\"img\"\n              />\n\n              <div class=\"data\">\n                <span class=\"van-ellipsis name\">{{\n                  JSON.parse(item.json).song.name\n                }}</span\n                ><br />\n                <span style=\"color:#bfbfbf\" class=\"van-ellipsis\">{{\n                  JSON.parse(item.json).song.artists[0].name\n                }}</span>\n              </div>\n            </div>\n            <div class=\"ziliao\">\n              <div class=\"bottomitem\">\n                <van-icon size=\"15\" class=\"icon\" name=\"revoke\" />转发\n              </div>\n              <div class=\"bottomitem\">\n                <van-icon size=\"18\" class=\"icon\" name=\"chat-o\" />{{\n                  item.info.commentCount\n                }}\n              </div>\n              <div class=\"bottomitem\">\n                <van-icon size=\"18\" class=\"icon\" name=\"good-job-o\" />{{\n                  item.info.likedCount\n                }}\n              </div>\n              <van-icon\n                name=\"ellipsis\"\n                size=\"20\"\n                @click.stop=\"showShare = !showShare\"\n              />\n            </div>\n          </div>\n        </div>\n      </van-list>\n    </div>\n    <van-share-sheet\n      v-model:show=\"showShare\"\n      title=\"立即分享给好友\"\n      :options=\"options\"\n      teleport=\"body\"\n    />\n  </div>\n</template>\n\n<script>\nimport { getevent } from \"@/api/user.js\";\nimport { Dynamiclists } from \"@/Util/dayjs.js\";\nimport { switchtype } from \"@/Util/fltter.js\";\nimport { onMounted } from \"@vue/runtime-core\";\nimport { ImagePreview } from \"vant\";\nimport { ref } from \"vue\";\nexport default {\n  name: \"follow\",\n  setup() {\n    const loading = ref(false);\n    const finished = ref(false);\n    const Dynamiclist = ref([]);\n    const showShare = ref(false);\n    const lasttime = ref();\n\n    const options = [\n      { name: \"微信\", icon: \"wechat\" },\n      { name: \"微博\", icon: \"weibo\" },\n      { name: \"复制链接\", icon: \"link\" },\n      { name: \"分享海报\", icon: \"poster\" },\n      { name: \"二维码\", icon: \"qrcode\" },\n    ];\n    const onLoad = async () => {\n      const { data } = await getevent({\n        pagesize: 50,\n        lasttime: lasttime.value,\n      });\n      console.log(data);\n      Dynamiclist.value.push(...data.event);\n      loading.value = false;\n\n      if (data.event.length) {\n        lasttime.value = data.lasttime;\n      } else {\n        finished.value = true;\n      }\n    };\n    const Preview = (item) => {\n      ImagePreview({\n        images: [item.originUrl],\n      });\n    };\n\n    return {\n      getevent,\n      Dynamiclist,\n      Dynamiclists,\n      switchtype,\n      Preview,\n      options,\n      showShare,\n\n      onLoad,\n      loading,\n      finished,\n      lasttime,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.follow {\n  background: #fff;\n  .content {\n    width: 100%;\n    padding: 5px;\n    height: 80vh;\n    box-sizing: border-box;\n    overflow-y: auto;\n    .items {\n      margin-top: 15px;\n      width: 100%;\n      display: flex;\n      .img {\n        vertical-align: top;\n        margin-right: 5px;\n      }\n      .content {\n        width: 86vw;\n        height: auto;\n        display: inline-block;\n        .text {\n          margin: 5px 0;\n        }\n        .data {\n          margin: 5px 0;\n          .type {\n            font-size: 12px;\n            color: #bfbfbf;\n          }\n          .time {\n            margin-top: 5px;\n            color: #bfbfbf;\n          }\n        }\n        .title {\n          margin: 5px 0;\n        }\n        .imgcollection {\n          border-radius: 15px !important;\n          ::v-deep(.van-grid-item__content) {\n            padding: 0;\n          }\n          .item {\n            box-sizing: border-box;\n          }\n        }\n        .song {\n          border-radius: 8px;\n          background: rgba(rgb(121, 116, 116), green, blue, alpha);\n          display: flex;\n          justify-content: space-around;\n          align-items: center;\n\n          .data {\n            display: flex;\n            flex-direction: column;\n            justify-content: space-around;\n            width: 80%;\n            overflow: hidden;\n            & span {\n              overflow: hidden;\n            }\n          }\n        }\n        .ziliao {\n          margin: 5px 0;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          .bottomitem {\n            color: #bfbfbf;\n            font-size: 13px;\n            .icon {\n              margin-right: 5px;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}