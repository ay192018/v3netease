{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\views\\Videosquare\\item.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\views\\Videosquare\\item.vue","mtime":1644501133457},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1643989866000},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1636614324825},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOlxcSFRNTFx1NURFNVx1N0EwQlxcXHU5ODc5XHU3NkVFXFx2M25ldGVhc2UtbWFpblxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXEhUTUxcdTVERTVcdTdBMEJcXFx1OTg3OVx1NzZFRVxcdjNuZXRlYXNlLW1haW5cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGdldGdyb3VwIH0gZnJvbSAiQC9hcGkvdmlkZW8uanMiOwppbXBvcnQgeyByZWYsIHJlYWN0aXZlIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgcGxheUNvdW50IH0gZnJvbSAiQC9VdGlsL2ZsdHRlci5qcyI7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgYXR0cnMgPSBfcmVmLmF0dHJzOwogICAgdmFyIGxvYWRpbmcgPSByZWYoZmFsc2UpOwogICAgdmFyIGZpbmlzaGVkID0gcmVmKGZhbHNlKTsKICAgIHZhciB2aWRlb2xpc3QgPSByZWFjdGl2ZSh7CiAgICAgIGRhdGFzOiBbXSwKICAgICAgb2Zmc2V0OiAwCiAgICB9KTsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKCiAgICB2YXIgb25Mb2FkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdmlkZW9saXN0JGRhdGFzOwoKICAgICAgICB2YXIgX3lpZWxkJGdldGdyb3VwLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRncm91cCh7CiAgICAgICAgICAgICAgICAgIGlkOiBhdHRycy5pdGVtLAogICAgICAgICAgICAgICAgICBvZmZzZXQ6IHZpZGVvbGlzdC5vZmZzZXQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkZ2V0Z3JvdXAgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRnZXRncm91cC5kYXRhOwoKICAgICAgICAgICAgICAgIChfdmlkZW9saXN0JGRhdGFzID0gdmlkZW9saXN0LmRhdGFzKS5wdXNoLmFwcGx5KF92aWRlb2xpc3QkZGF0YXMsIF90b0NvbnN1bWFibGVBcnJheShkYXRhLmRhdGFzKSk7CgogICAgICAgICAgICAgICAgbG9hZGluZy52YWx1ZSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGFzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICB2aWRlb2xpc3Qub2Zmc2V0Kys7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBmaW5pc2hlZC52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gb25Mb2FkKCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGxvYWRpbmcsCiAgICAgIGZpbmlzaGVkOiBmaW5pc2hlZCwKICAgICAgb25Mb2FkOiBvbkxvYWQsCiAgICAgIHZpZGVvbGlzdDogdmlkZW9saXN0LAogICAgICBwbGF5Q291bnQ6IHBsYXlDb3VudCwKICAgICAgcm91dGVyOiByb3V0ZXIKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\views\\Videosquare\\item.vue"],"names":[],"mappings":";;;AA4DA,SAAS,QAAT,QAAyB,gBAAzB;AAEA,SAAS,GAAT,EAAc,QAAd,QAA8B,KAA9B;AACA,SAAS,SAAT,QAA0B,kBAA1B;AACA,SAAS,SAAT,QAA0B,YAA1B;AAEA,eAAe;AACb,EAAA,KADa,iBACP,KADO,QACW;AAAA,QAAT,KAAS,QAAT,KAAS;AACtB,QAAM,OAAM,GAAI,GAAG,CAAC,KAAD,CAAnB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,KAAD,CAApB;AACA,QAAM,SAAQ,GAAI,QAAQ,CAAC;AACzB,MAAA,KAAK,EAAE,EADkB;AAEzB,MAAA,MAAM,EAAE;AAFiB,KAAD,CAA1B;AAKA,QAAM,MAAK,GAAI,SAAS,EAAxB;;AAEA,QAAM,MAAK;AAAA,0EAAI;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACU,QAAQ,CAAC;AAC9B,kBAAA,EAAE,EAAE,KAAK,CAAC,IADoB;AAE9B,kBAAA,MAAM,EAAE,SAAS,CAAC;AAFY,iBAAD,CADlB;;AAAA;AAAA;AACL,gBAAA,IADK,mBACL,IADK;;AAMb,oCAAA,SAAS,CAAC,KAAV,EAAgB,IAAhB,4CAAwB,IAAI,CAAC,KAA7B;;AACA,gBAAA,OAAO,CAAC,KAAR,GAAgB,KAAhB;;AAEA,oBAAI,IAAI,CAAC,KAAL,CAAW,MAAf,EAAuB;AACrB,kBAAA,SAAS,CAAC,MAAV;AACF,iBAFA,MAEO;AACL,kBAAA,QAAQ,CAAC,KAAT,GAAiB,IAAjB;AACF;;AAba;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAL,MAAK;AAAA;AAAA;AAAA,OAAX;;AAgBA,WAAO;AACL,MAAA,OAAO,EAAP,OADK;AAEL,MAAA,QAAQ,EAAR,QAFK;AAGL,MAAA,MAAM,EAAN,MAHK;AAIL,MAAA,SAAS,EAAT,SAJK;AAKL,MAAA,SAAS,EAAT,SALK;AAML,MAAA,MAAM,EAAN;AANK,KAAP;AAQD;AAnCY,CAAf","sourcesContent":["<template>\r\n  <div class=\"item\">\r\n    <van-list\r\n      v-model:loading=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"onLoad\"\r\n    >\r\n      <div\r\n        class=\"videoitem\"\r\n        v-for=\"(item, index) in videolist.datas\"\r\n        :key=\"index\"\r\n      >\r\n        <div>\r\n          <van-image\r\n            width=\"100%\"\r\n            fit=\"cover\"\r\n            radius=\"15\"\r\n            :src=\"item.data.coverUrl\"\r\n            @click=\"\r\n              router.push({\r\n                name: 'video',\r\n                params: {\r\n                  id: item.data.vid,\r\n                },\r\n              })\r\n            \"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" color=\"#000\" /> </template\r\n          ></van-image>\r\n        </div>\r\n        <div class=\"title van-multi-ellipsis--l2\">\r\n          {{ item.data.title }}\r\n        </div>\r\n        <div class=\"user\">\r\n          <div>\r\n            <van-image\r\n              width=\"30\"\r\n              height=\"30\"\r\n              fit=\"cover\"\r\n              round\r\n              :src=\"item.data.creator.avatarUrl\"\r\n            />\r\n          </div>\r\n          <div class=\"title van-ellipsis\">\r\n            {{ item.data.creator.nickname }}\r\n          </div>\r\n          <div class=\"job\">\r\n            <van-icon name=\"good-job-o\" /><span>{{\r\n              playCount(item.data.playTime)\r\n            }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </van-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getgroup } from \"@/api/video.js\";\r\n\r\nimport { ref, reactive } from \"vue\";\r\nimport { playCount } from \"@/Util/fltter.js\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  setup(props, { attrs }) {\r\n    const loading = ref(false);\r\n    const finished = ref(false);\r\n    const videolist = reactive({\r\n      datas: [],\r\n      offset: 0,\r\n    });\r\n\r\n    const router = useRouter();\r\n\r\n    const onLoad = async () => {\r\n      const { data } = await getgroup({\r\n        id: attrs.item,\r\n        offset: videolist.offset,\r\n      });\r\n\r\n      videolist.datas.push(...data.datas);\r\n      loading.value = false;\r\n\r\n      if (data.datas.length) {\r\n        videolist.offset++;\r\n      } else {\r\n        finished.value = true;\r\n      }\r\n    };\r\n\r\n    return {\r\n      loading,\r\n      finished,\r\n      onLoad,\r\n      videolist,\r\n      playCount,\r\n      router,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.item {\r\n  width: 95vw;\r\n  margin: 0 auto;\r\n  height: 74vh;\r\n\r\n  overflow-y: auto;\r\n  .videoitem {\r\n    width: 47%;\r\n    height: auto;\r\n    background: #fff;\r\n    border-radius: 15px;\r\n    margin: 5px;\r\n    .title {\r\n      margin: 5px;\r\n      color: #323233;\r\n    }\r\n    .user {\r\n      width: 95%;\r\n      margin: 0 auto;\r\n\r\n      display: flex;\r\n      align-items: center;\r\n      & div {\r\n        color: #323233;\r\n      }\r\n      .title {\r\n        width: 35%;\r\n      }\r\n    }\r\n  }\r\n  /deep/.van-list {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    flex-wrap: wrap;\r\n    padding-bottom: 50px;\r\n  }\r\n  .job {\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}