{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\views\\login\\login.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\views\\login\\login.vue","mtime":1648304876341},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1648433171114},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1646661867650},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646661868754}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlL2xlc3MiOwppbXBvcnQgX1RvYXN0IGZyb20gInZhbnQvZXMvdG9hc3QiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXEhUTUxcdTVERTVcdTdBMEJcXFx1OTg3OVx1NzZFRVxcdjNuZXRlYXNlLW1haW5cXG5vZGVfbW9kdWxlc1xcQHZ1ZVxcY2xpLXBsdWdpbi1iYWJlbFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnOwppbXBvcnQgeyBnZXRsb2dpbiB9IGZyb20gJ0AvYXBpL3VzZXIuanMnOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsb2dpbicsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHBob25lID0gcmVmKCcxNTk0OTY2NTAzNCcpOwogICAgdmFyIHBhc3N3b3JkID0gcmVmKCd3ankwLjAuMCcpOwogICAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwoKICAgIHZhciBvbkNsaWNrTGVmdCA9IGZ1bmN0aW9uIG9uQ2xpY2tMZWZ0KCkgewogICAgICByb3V0ZXIuYmFjaygpOwogICAgfTsKCiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwoKICAgIHZhciBvblN1Ym1pdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkZ2V0bG9naW4sIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9Ub2FzdC5sb2FkaW5nKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WKoOi9veS4rS4uLicsCiAgICAgICAgICAgICAgICAgIGZvcmJpZENsaWNrOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRsb2dpbih7CiAgICAgICAgICAgICAgICAgIHBob25lOiBwaG9uZS52YWx1ZSwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLnZhbHVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJGdldGxvZ2luID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0bG9naW4uZGF0YTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnc2V0cHJvZmlsZScsIGRhdGEucHJvZmlsZSk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjb29raWUnLCBKU09OLnN0cmluZ2lmeShkYXRhLmNvb2tpZSkpOwogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvZmlsZScsIEpTT04uc3RyaW5naWZ5KGRhdGEucHJvZmlsZSkpOwoKICAgICAgICAgICAgICAgICAgX1RvYXN0LmNsZWFyKCk7CgogICAgICAgICAgICAgICAgICBfVG9hc3Quc3VjY2Vzcygn55m75b2V5oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX1RvYXN0LmZhaWwoJ+eZu+W9leWksei0pSzor7fmo4Dmn6XmiYvmnLrlj7flr4bnoIHmmK/lkKbmnInor68nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiB7CiAgICAgIHJvdXRlcjogcm91dGVyLAogICAgICBwaG9uZTogcGhvbmUsCiAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCwKICAgICAgb25DbGlja0xlZnQ6IG9uQ2xpY2tMZWZ0LAogICAgICBvblN1Ym1pdDogb25TdWJtaXQsCiAgICAgIHN0b3JlOiBzdG9yZQogICAgfTsKICB9Cn07"},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\views\\login\\login.vue"],"names":[],"mappings":";;;;;AACA,SAAS,GAAT,QAAoB,KAApB;AACA,SAAS,QAAT,QAAyB,eAAzB;AAEA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,KAFa,mBAEL;AACN,QAAM,KAAI,GAAI,GAAG,CAAC,aAAD,CAAjB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,UAAD,CAApB;AACA,QAAM,MAAK,GAAI,SAAS,EAAxB;;AACA,QAAM,WAAU,GAAI,SAAd,WAAc,GAAM;AACxB,MAAA,MAAM,CAAC,IAAP;AACD,KAFD;;AAGA,QAAM,KAAI,GAAI,QAAQ,EAAtB;;AACA,QAAM,QAAO;AAAA,yEAAI;AAAA;;AAAA;AAAA;AAAA;AAAA;AACf,uBAAM,OAAN,CAAc;AACZ,kBAAA,OAAO,EAAE,QADG;AAEZ,kBAAA,WAAW,EAAE;AAFD,iBAAd;;AADe;AAAA,uBAKQ,QAAQ,CAAC;AAC9B,kBAAA,KAAK,EAAE,KAAK,CAAC,KADiB;AAE9B,kBAAA,QAAQ,EAAE,QAAQ,CAAC;AAFW,iBAAD,CALhB;;AAAA;AAAA;AAKP,gBAAA,IALO,mBAKP,IALO;AASf,gBAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;;AACA,oBAAI,IAAI,CAAC,IAAL,KAAc,GAAlB,EAAuB;AACrB,kBAAA,KAAK,CAAC,QAAN,CAAe,YAAf,EAA6B,IAAI,CAAC,OAAlC;AACA,kBAAA,YAAY,CAAC,OAAb,CAAqB,QAArB,EAA+B,IAAI,CAAC,SAAL,CAAe,IAAI,CAAC,MAApB,CAA/B;AACA,kBAAA,YAAY,CAAC,OAAb,CAAqB,SAArB,EAAgC,IAAI,CAAC,SAAL,CAAe,IAAI,CAAC,OAApB,CAAhC;;AACA,yBAAM,KAAN;;AACA,yBAAM,OAAN,CAAc,MAAd;;AAEA,kBAAA,MAAM,CAAC,IAAP,CAAY,GAAZ;AACF,iBARA,MAQO;AACL,yBAAM,IAAN,CAAW,mBAAX;AACF;;AApBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAP,QAAO;AAAA;AAAA;AAAA,OAAb;;AAuBA,WAAO;AACL,MAAA,MAAM,EAAN,MADK;AAEL,MAAA,KAAK,EAAL,KAFK;AAGL,MAAA,QAAQ,EAAR,QAHK;AAIL,MAAA,WAAW,EAAX,WAJK;AAKL,MAAA,QAAQ,EAAR,QALK;AAML,MAAA,KAAK,EAAL;AANK,KAAP;AAQD;AAzCY,CAAf","sourcesContent":["<script>\nimport { ref } from 'vue';\nimport { getlogin } from '@/api/user.js';\nimport { Toast } from 'vant';\nimport { useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'login',\n  setup() {\n    const phone = ref('15949665034');\n    const password = ref('wjy0.0.0');\n    const router = useRouter();\n    const onClickLeft = () => {\n      router.back();\n    };\n    const store = useStore();\n    const onSubmit = async () => {\n      Toast.loading({\n        message: '加载中...',\n        forbidClick: true,\n      });\n      const { data } = await getlogin({\n        phone: phone.value,\n        password: password.value,\n      });\n      console.log(data);\n      if (data.code === 200) {\n        store.dispatch('setprofile', data.profile);\n        localStorage.setItem('cookie', JSON.stringify(data.cookie));\n        localStorage.setItem('profile', JSON.stringify(data.profile));\n        Toast.clear();\n        Toast.success('登录成功');\n\n        router.push('/');\n      } else {\n        Toast.fail('登录失败,请检查手机号密码是否有误');\n      }\n    };\n\n    return {\n      router,\n      phone,\n      password,\n      onClickLeft,\n      onSubmit,\n      store,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.login {\n  position: absolute;\n  z-index: 9999;\n  /deep/ .van-nav-bar {\n    background: red;\n  }\n  /deep/ .van-form {\n    margin-top: 30px;\n  }\n  /deep/ .van-nav-bar__title {\n    color: #fff;\n  }\n}\n</style>\n\n<template>\n  <div class=\"login\">\n    <van-nav-bar title=\"登录\" @click-left=\"onClickLeft\" :border=\"false\">\n      <template #left>\n        <van-icon name=\"arrow-left\" color=\"#ccc\" size=\"25\" />\n      </template>\n    </van-nav-bar>\n    <van-form @submit=\"onSubmit\">\n      <van-cell-group inset>\n        <!-- 通过 pattern 进行正则校验 -->\n        <van-field\n          v-model=\"phone\"\n          name=\"phone\"\n          placeholder=\"请输入手机号\"\n          label=\"手机号\"\n          :rules=\"[{ pattern: /^1\\d{10}$/, message: '请输入11位手机号' }]\"\n        />\n\n        <van-field\n          v-model=\"password\"\n          name=\"password\"\n          label=\"密码\"\n          type=\"password\"\n          placeholder=\"请输入密码\"\n          :rules=\"[\n            {\n              pattern: /^.{8,20}/,\n              message: '请输入8-20位字符',\n            },\n          ]\"\n        />\n        <!-- 通过 validator 返回错误提示 -->\n      </van-cell-group>\n      <div style=\"margin: 16px\">\n        <van-button round block color=\"red\" native-type=\"submit\">\n          登录\n        </van-button>\n      </div>\n    </van-form>\n  </div>\n</template>\n"],"sourceRoot":""}]}