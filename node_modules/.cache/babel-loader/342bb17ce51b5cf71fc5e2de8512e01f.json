{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\components\\audio\\components\\lry.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\components\\audio\\components\\lry.vue","mtime":1647197055853},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1643989866000},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1636614324825},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxIVE1MXHU1REU1XHU3QTBCXFxcdTk4NzlcdTc2RUVcXHYzbmV0ZWFzZS1tYWluXFxub2RlX21vZHVsZXNcXEB2dWVcXGJhYmVsLXByZXNldC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHJlYWxGb3JtYXRTZWNvbmQsIGRlYm91bmNlLCBseXJpY3MgfSBmcm9tICJAL1V0aWwvZmx0dGVyLmpzIjsKaW1wb3J0IHsgZ2V0c29uZ2x5cmljIH0gZnJvbSAiQC9hcGkvc29uZ3NoZWV0LmpzIjsKaW1wb3J0IHsgd2F0Y2gsIHJlYWN0aXZlIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgX3JlZikgewogICAgdmFyIGVtaXQgPSBfcmVmLmVtaXQsCiAgICAgICAgYXR0cnMgPSBfcmVmLmF0dHJzOwogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHZhciBseXJpYyA9IHJlYWN0aXZlKHsKICAgICAgdmFsdWU6IG51bGwsCiAgICAgIGtleTogW10KICAgIH0pOwogICAgd2F0Y2goCiAgICAvKioNCiAgICAgKiBAcGFyYW0ge09iamVjdH0g55uR5ZCsaWTntKLlvJXnmoTlj5jljJbmnaXor7fmsYLlvZPliY1pZOeahOatjOivjei/m+ihjOaVsOaNruaKveemuw0KICAgICAqIEByZXR1cm4ge1Byb21pc2V9IOaVsOaNrg0KICAgICAqLwogICAgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUuY3VycmV0OwogICAgfSwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbCkgewogICAgICAgIHZhciBfeWllbGQkZ2V0c29uZ2x5cmljLCBkYXRhLCByZXN1bHQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldHNvbmdseXJpYyh7CiAgICAgICAgICAgICAgICAgIGlkOiBzdG9yZS5zdGF0ZS5zb25nbGlzdFt2YWxdLmlkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJGdldHNvbmdseXJpYyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGdldHNvbmdseXJpYy5kYXRhOwogICAgICAgICAgICAgICAgcmVzdWx0ID0gbHlyaWNzKGRhdGEpOyAvLyBjb25zb2xlLmxvZyhyZXN1bHQpOwoKICAgICAgICAgICAgICAgIGx5cmljLnZhbHVlID0gcmVzdWx0LnJlc3VsdDsKICAgICAgICAgICAgICAgIGx5cmljLmtleSA9IHJlc3VsdC5rZXk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCksIHsKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIGVtaXQ6IGVtaXQsCiAgICAgIHN0b3JlOiBzdG9yZSwKICAgICAgbHlyaWM6IGx5cmljCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\components\\audio\\components\\lry.vue"],"names":[],"mappings":";;AAkBA,SAAS,gBAAT,EAA2B,QAA3B,EAAqC,MAArC,QAAmD,kBAAnD;AACA,SAAS,YAAT,QAA6B,oBAA7B;AACA,SAAS,KAAT,EAAgB,QAAhB,QAAgC,KAAhC;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,eAAe;AACb,EAAA,KADa,iBACP,KADO,QACiB;AAAA,QAAf,IAAe,QAAf,IAAe;AAAA,QAAT,KAAS,QAAT,KAAS;AAC5B,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,KAAI,GAAI,QAAQ,CAAC;AACrB,MAAA,KAAK,EAAE,IADc;AAErB,MAAA,GAAG,EAAE;AAFgB,KAAD,CAAtB;AAIA,IAAA,KAAK;AACH;AACC;AACA;AACA;AAED;AAAA,aAAM,KAAK,CAAC,KAAN,CAAY,MAAlB;AAAA,KANG;AAAA,0EAOH,iBAAO,GAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACyB,YAAY,CAAC;AAClC,kBAAA,EAAE,EAAE,KAAK,CAAC,KAAN,CAAY,QAAZ,CAAqB,GAArB,EAA0B;AADI,iBAAD,CADrC;;AAAA;AAAA;AACU,gBAAA,IADV,uBACU,IADV;AAKQ,gBAAA,MALR,GAKiB,MAAM,CAAC,IAAD,CALvB,EAME;;AACA,gBAAA,KAAK,CAAC,KAAN,GAAc,MAAM,CAAC,MAArB;AACA,gBAAA,KAAK,CAAC,GAAN,GAAY,MAAM,CAAC,GAAnB;;AARF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAPG;;AAAA;AAAA;AAAA;AAAA,SAiBH;AAAE,MAAA,SAAS,EAAE;AAAb,KAjBG,CAAL;AAmBA,WAAO;AACL,MAAA,IAAI,EAAJ,IADK;AAEL,MAAA,KAAK,EAAL,KAFK;AAGL,MAAA,KAAK,EAAL;AAHK,KAAP;AAKD;AA/BY,CAAf","sourcesContent":["<template>\r\n  <div class=\"lyrics\" v-show=\"lyricsshow\" @click=\"lyricsshow = !lyricsshow\">\r\n    <p\r\n      v-for=\"(item, index) in lyric.value\"\r\n      :key=\"index\"\r\n      :class=\"\r\n        attrs.currentTime >= lyric.key[index] &&\r\n        attrs.currentTime < lyric.key[index + 1]\r\n          ? 'actives'\r\n          : ''\r\n      \"\r\n    >\r\n      {{ item[1] }}\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { realFormatSecond, debounce, lyrics } from \"@/Util/fltter.js\";\r\nimport { getsonglyric } from \"@/api/songsheet.js\";\r\nimport { watch, reactive } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nexport default {\r\n  setup(props, { emit, attrs }) {\r\n    const store = useStore();\r\n    const lyric = reactive({\r\n      value: null,\r\n      key: [],\r\n    });\r\n    watch(\r\n      /**\r\n       * @param {Object} 监听id索引的变化来请求当前id的歌词进行数据抽离\r\n       * @return {Promise} 数据\r\n       */\r\n\r\n      () => store.state.curret,\r\n      async (val) => {\r\n        const { data } = await getsonglyric({\r\n          id: store.state.songlist[val].id,\r\n        });\r\n\r\n        const result = lyrics(data);\r\n        // console.log(result);\r\n        lyric.value = result.result;\r\n        lyric.key = result.key;\r\n      },\r\n      { immediate: true }\r\n    );\r\n    return {\r\n      emit,\r\n      store,\r\n      lyric,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.lyrics {\r\n  overflow-y: auto;\r\n  text-align: center;\r\n  position: fixed;\r\n  left: 10%;\r\n\r\n  top: 12%;\r\n  width: 80vw;\r\n  color: #ccc;\r\n  height: 55vh;\r\n  scroll-behavior: smooth;\r\n  & {\r\n    font-size: 15px;\r\n  }\r\n}\r\n.actives {\r\n  transform: rotateX(360deg);\r\n  color: #ff6700;\r\n  text-shadow: 2px 2px 4px #fbd0db;\r\n  transition: all 1s;\r\n  font-size: 18px;\r\n  transition: all 0.5s;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}