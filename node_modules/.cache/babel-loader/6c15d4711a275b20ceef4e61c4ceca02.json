{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\components\\audio\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\components\\audio\\index.vue","mtime":1644482893555},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1643989866000},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1636614324825},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0IEluZm8gZnJvbSAiLi9pbmZvLnZ1ZSI7CmltcG9ydCB7IHJlZiwgd2F0Y2hFZmZlY3QsIG5leHRUaWNrIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICJ2YW50IjsKaW1wb3J0IHsgcmFuZG9tIH0gZnJvbSAiQC9VdGlsL2ZsdHRlci5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXVkaW8iLAogIGNvbXBvbmVudHM6IHsKICAgIEluZm86IEluZm8KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgX3JlZikgewogICAgdmFyIGVtaXQgPSBfcmVmLmVtaXQ7CiAgICB2YXIgYXVkaW8gPSByZWYobnVsbCk7CiAgICB2YXIgY3VycmVudFRpbWUgPSByZWYoMCk7IC8v5b2T5YmN5pKt5pS+5pe26Ze0CgogICAgdmFyIGR1cmF0aW9uID0gcmVmKDApOyAvL+W9k+WJjeatjOabsumVv+W6pgoKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICB2YXIgc2hvdyA9IHJlZihmYWxzZSk7CgogICAgdmFyIHNob3dQb3B1cCA9IGZ1bmN0aW9uIHNob3dQb3B1cCgpIHsKICAgICAgc2hvdy52YWx1ZSA9IHRydWU7CiAgICB9OwogICAgLyoqCiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IOaOpeaUtuW4g+WwlOWAvOaUueWPmOeItue6p+W8ueWHuuWxgueKtuaAgQogICAgICovCgoKICAgIHZhciBjaGFuZ2VzaG93ID0gZnVuY3Rpb24gY2hhbmdlc2hvdyh2YWwpIHsKICAgICAgc2hvdy52YWx1ZSA9IHZhbDsKICAgIH07CgogICAgdmFyIGNhbnBsYXkgPSBmdW5jdGlvbiBjYW5wbGF5KCkgewogICAgICBUb2FzdC5jbGVhcigpOwogICAgfTsKCiAgICB2YXIgcGxheSA9IGZ1bmN0aW9uIHBsYXkoKSB7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRpc3BsYXkiKTsKCiAgICAgIGlmIChzdG9yZS5zdGF0ZS5pc3BsYXkgJiYgc3RvcmUuc3RhdGUuYXVkaW8ucmVhZHlTdGF0ZSA9PSA0KSB7CiAgICAgICAgc3RvcmUuc3RhdGUuYXVkaW8ucGxheSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHN0b3JlLnN0YXRlLmF1ZGlvLnBhdXNlKCk7CiAgICAgIH0KICAgIH07CgogICAgdmFyIGVuZGVkID0gZnVuY3Rpb24gZW5kZWQoKSB7CiAgICAgIG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgic2V0aXNwbGF5Iik7CiAgICAgICAgc3RvcmUuc3RhdGUuYXVkaW8ucGF1c2UoKTsKICAgICAgfSk7CgogICAgICBpZiAoc3RvcmUuc3RhdGUuc29uZ2xpc3QubGVuZ3RoIDwgc3RvcmUuc3RhdGUuY3VycmV0ICsgMikgewogICAgICAgIFRvYXN0LmZhaWwoIuayoeacieS4i+S4gOmmluWSryIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgVG9hc3QubG9hZGluZyh7CiAgICAgICAgbWVzc2FnZTogIuWKoOi9veS4rS4uLiIsCiAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUsCiAgICAgICAgbG9hZGluZ1R5cGU6ICJzcGlubmVyIgogICAgICB9KTsKCiAgICAgIGlmIChzdG9yZS5zdGF0ZS5wbGF5bW9kZWwgPT09IDApIHsKICAgICAgICBzdG9yZS5jb21taXQoInNldGN1cnJldCIsIHN0b3JlLnN0YXRlLmN1cnJldCArIDEpOwogICAgICB9IGVsc2UgaWYgKHN0b3JlLnN0YXRlLnBsYXltb2RlbCA9PT0gMSkgewogICAgICAgIHN0b3JlLmNvbW1pdCgic2V0Y3VycmV0IiwgcmFuZG9tKDAsIHN0b3JlLnN0YXRlLnNvbmdsaXN0Lmxlbmd0aCAtIDEpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdG9yZS5jb21taXQoInNldGN1cnJldCIsIHN0b3JlLnN0YXRlLmN1cnJldCk7CiAgICAgIH0KCiAgICAgIG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBzdG9yZS5zdGF0ZS5hdWRpby5wbGF5KCk7CgogICAgICAgIGlmIChzdG9yZS5zdGF0ZS5hdWRpby5wbGF5ZWQpIHsKICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRpc3BsYXkiKTsKICAgICAgICAgIFRvYXN0LmNsZWFyKHsKICAgICAgICAgICAgY2xlYXJBbGw6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwoKICAgIHZhciBwbGF5aW5nID0gZnVuY3Rpb24gcGxheWluZyhlKSB7CiAgICAgIGlmIChzdG9yZS5zdGF0ZS5pc3BsYXkgPT09IGZhbHNlKSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goInNldGlzcGxheSIpOwogICAgICB9CiAgICB9OwogICAgLyoqIEB3YWl0aW5nCiAgICAgKiBAZXhhbXBsZSDnvJPlhrLnirbmgIEKICAgICAqLwoKCiAgICB2YXIgd2FpdGluZyA9IGZ1bmN0aW9uIHdhaXRpbmcoKSB7CiAgICAgIFRvYXN0LmxvYWRpbmcoewogICAgICAgIG1lc3NhZ2U6ICLliqDovb3kuK0uLi4iLAogICAgICAgIGZvcmJpZENsaWNrOiB0cnVlLAogICAgICAgIGxvYWRpbmdUeXBlOiAic3Bpbm5lciIKICAgICAgfSk7CiAgICB9OwoKICAgIHZhciBsb2FkZWRtZXRhZGF0YSA9IGZ1bmN0aW9uIGxvYWRlZG1ldGFkYXRhKGUpIHsKICAgICAgZHVyYXRpb24udmFsdWUgPSBlLnRhcmdldC5kdXJhdGlvbjsKICAgIH07CgogICAgdmFyIGVycm9yID0gZnVuY3Rpb24gZXJyb3IoKSB7CiAgICAgIGlmIChzdG9yZS5zdGF0ZS5zb25nbGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIFRvYXN0LmZhaWwoIuatpOatjOabsuaaguS4jeiDveaSreaUviIpOwogICAgICBzdG9yZS5kaXNwYXRjaCgic2V0aXNwbGF5Iik7CiAgICAgIG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBzdG9yZS5zdGF0ZS5hdWRpby5wYXVzZSgpOwogICAgICB9KTsKICAgICAgc3RvcmUuZGlzcGF0Y2goInNldHNldGN1cnJldCIsIHN0b3JlLnN0YXRlLmN1cnJldCArIDEpOwogICAgICBzdG9yZS5kaXNwYXRjaCgic2V0aXNwbGF5Iik7CiAgICAgIG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBzdG9yZS5zdGF0ZS5hdWRpby5wbGF5KCk7CiAgICAgIH0pOwogICAgfTsKCiAgICB3YXRjaEVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRhdWRpbyIsIGF1ZGlvKTsKICAgIH0pOwoKICAgIHZhciBvblRpbWV1cGRhdGUgPSBmdW5jdGlvbiBvblRpbWV1cGRhdGUoZSkgewogICAgICBjdXJyZW50VGltZS52YWx1ZSA9IGUudGFyZ2V0LmN1cnJlbnRUaW1lLnRvRml4ZWQoMik7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHBsYXk6IHBsYXksCiAgICAgIG9uVGltZXVwZGF0ZTogb25UaW1ldXBkYXRlLAogICAgICBhdWRpbzogYXVkaW8sCiAgICAgIHVzZVN0b3JlOiB1c2VTdG9yZSwKICAgICAgZW5kZWQ6IGVuZGVkLAogICAgICByYW5kb206IHJhbmRvbSwKICAgICAgc3RvcmU6IHN0b3JlLAogICAgICBlcnJvcjogZXJyb3IsCiAgICAgIGN1cnJlbnRUaW1lOiBjdXJyZW50VGltZSwKICAgICAgc2hvdzogc2hvdywKICAgICAgc2hvd1BvcHVwOiBzaG93UG9wdXAsCiAgICAgIGNoYW5nZXNob3c6IGNoYW5nZXNob3csCiAgICAgIHBsYXlpbmc6IHBsYXlpbmcsCiAgICAgIHdhaXRpbmc6IHdhaXRpbmcsCiAgICAgIGxvYWRlZG1ldGFkYXRhOiBsb2FkZWRtZXRhZGF0YSwKICAgICAgZHVyYXRpb246IGR1cmF0aW9uLAogICAgICBjYW5wbGF5OiBjYW5wbGF5CiAgICB9OwogIH0KfTs="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\components\\audio\\index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"audio\" @click=\"showPopup\">\n    <audio\n      ref=\"audio\"\n      @timeupdate=\"onTimeupdate\"\n      @error=\"error\"\n      :src=\"\n        useStore().state.songlist.length !== 0\n          ? `https://music.163.com/song/media/outer/url?id=${\n              store.state.songlist[store.state.curret].id\n            }.mp3`\n          : ''\n      \"\n      @playing=\"playing\"\n      @ended=\"ended\"\n      @waiting=\"waiting\"\n      @loadedmetadata=\"loadedmetadata\"\n      @canplay=\"canplay\"\n    ></audio>\n    <div class=\"controls\">\n      <div class=\"left\">\n        <van-image\n          width=\"6vh\"\n          height=\"6vh\"\n          round\n          fit=\"cover\"\n          class=\"rotateimg\"\n          :class=\"\n            store.state.isplay &&\n            store.state.audio.played &&\n            store.state.audio.readyState === 4\n              ? 'active'\n              : ''\n          \"\n          :src=\"\n            useStore().state.songlist.length !== 0\n              ? useStore().state.songlist[useStore().state.curret].al.picUrl\n              : 'http://p3.music.126.net/tBTNafgjNnTL1KlZMt7lVA==/18885211718935735.jpg'\n          \"\n        >\n          <template v-slot:loading>\n            <van-loading type=\"spinner\" size=\"10\" color=\"#000\" /> </template\n        ></van-image>\n\n        <span class=\"songname van-ellipsis\"\n          >{{\n            useStore().state.songlist.length !== 0\n              ? `${store.state.songlist[store.state.curret].name}-${\n                  store.state.songlist[store.state.curret].ar[0].name\n                }`\n              : \"网易云音乐\"\n          }}\n        </span>\n      </div>\n      <div class=\"right\">\n        <van-icon\n          :name=\"useStore().state.isplay ? 'pause-circle-o' : 'play-circle-o'\"\n          size=\"28\"\n          @click.stop=\"play\"\n        /><van-icon name=\"bars\" size=\"28\" />\n      </div>\n    </div>\n    <van-popup\n      v-model:show=\"show\"\n      position=\"bottom\"\n      :style=\"{ height: '100%' }\"\n      teleport=\"body\"\n    >\n      <Info\n        :show=\"show\"\n        @changeshow=\"changeshow\"\n        :currentTime=\"currentTime\"\n        :duration=\"duration\"\n        :play=\"play\"\n        v-model=\"currentTime\"\n    /></van-popup>\n  </div>\n</template>\n\n<script>\nimport Info from \"./info.vue\";\nimport { ref, watchEffect, nextTick } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { Toast } from \"vant\";\n\nimport { random } from \"@/Util/fltter.js\";\n\nexport default {\n  name: \"Audio\",\n  components: {\n    Info,\n  },\n  setup(props, { emit }) {\n    const audio = ref(null);\n    let currentTime = ref(0); //当前播放时间\n    let duration = ref(0); //当前歌曲长度\n    const store = useStore();\n    const show = ref(false);\n    const showPopup = () => {\n      show.value = true;\n    };\n    /**\n     * @param {Boolean} 接收布尔值改变父级弹出层状态\n     */\n    const changeshow = (val) => {\n      show.value = val;\n    };\n    const canplay = () => {\n      Toast.clear();\n    };\n\n    const play = () => {\n      store.dispatch(\"setisplay\");\n      if (store.state.isplay && store.state.audio.readyState == 4) {\n        store.state.audio.play();\n      } else {\n        store.state.audio.pause();\n      }\n    };\n    const ended = () => {\n      nextTick(() => {\n        store.dispatch(\"setisplay\");\n        store.state.audio.pause();\n      });\n      if (store.state.songlist.length < store.state.curret + 2) {\n        Toast.fail(\"没有下一首咯\");\n        return;\n      }\n      Toast.loading({\n        message: \"加载中...\",\n        forbidClick: true,\n        loadingType: \"spinner\",\n      });\n      if (store.state.playmodel === 0) {\n        store.commit(\"setcurret\", store.state.curret + 1);\n      } else if (store.state.playmodel === 1) {\n        store.commit(\"setcurret\", random(0, store.state.songlist.length - 1));\n      } else {\n        store.commit(\"setcurret\", store.state.curret);\n      }\n      nextTick(() => {\n        store.state.audio.play();\n        if (store.state.audio.played) {\n          store.dispatch(\"setisplay\");\n          Toast.clear({\n            clearAll: true,\n          });\n        }\n      });\n    };\n    const playing = (e) => {\n      if (store.state.isplay === false) {\n        store.dispatch(\"setisplay\");\n      }\n    };\n    /** @waiting\n     * @example 缓冲状态\n     */\n    const waiting = () => {\n      Toast.loading({\n        message: \"加载中...\",\n        forbidClick: true,\n        loadingType: \"spinner\",\n      });\n    };\n    const loadedmetadata = (e) => {\n      duration.value = e.target.duration;\n    };\n\n    const error = () => {\n      if (store.state.songlist.length === 0) {\n        return;\n      }\n      Toast.fail(\"此歌曲暂不能播放\");\n      store.dispatch(\"setisplay\");\n      nextTick(() => {\n        store.state.audio.pause();\n      });\n      store.dispatch(\"setsetcurret\", store.state.curret + 1);\n      store.dispatch(\"setisplay\");\n      nextTick(() => {\n        store.state.audio.play();\n      });\n    };\n    watchEffect(() => {\n      store.dispatch(\"setaudio\", audio);\n    });\n    const onTimeupdate = (e) => {\n      currentTime.value = e.target.currentTime.toFixed(2);\n    };\n\n    return {\n      play,\n      onTimeupdate,\n      audio,\n      useStore,\n      ended,\n      random,\n      store,\n      error,\n      currentTime,\n      show,\n      showPopup,\n      changeshow,\n      playing,\n      waiting,\n      loadedmetadata,\n      duration,\n      canplay,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\">\n.audio {\n  transition: bottom 0.8s;\n  z-index: 100;\n  border-radius: 15px;\n  width: 100%;\n  height: 6vh;\n  background-color: #f6f7f8;\n  position: fixed;\n  left: 0;\n  right: 0;\n\n  .controls {\n    display: flex;\n    width: 95vw;\n    margin: 0 auto;\n    .left,\n    .right {\n      display: flex;\n      align-items: center;\n      .songname {\n        margin-left: 10px;\n        width: 190px;\n      }\n      & i {\n        margin-left: 30px;\n      }\n    }\n  }\n  .slide-fade-enter-active {\n    transition: all 0.3s ease-out;\n  }\n\n  .slide-fade-leave-active {\n    transition: all 0.8s cubic-bezier(1, 0.5, 0.8, 1);\n  }\n\n  .slide-fade-enter-from,\n  .slide-fade-leave-to {\n    transform: translateX(20px);\n    opacity: 0;\n  }\n  .rotateimg {\n    animation-name: Rotate;\n    animation-iteration-count: infinite;\n    animation-play-state: paused;\n    animation-timing-function: linear;\n    animation-duration: 5s;\n  }\n  .active {\n    animation-play-state: running;\n  }\n  @keyframes Rotate {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}