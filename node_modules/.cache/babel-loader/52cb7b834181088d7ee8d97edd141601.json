{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\index.vue","mtime":1648428587770},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1646661867650},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646661868754},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1648435061908},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1646661867650},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646661868754}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlL2xlc3MiOwppbXBvcnQgX1RvYXN0IGZyb20gInZhbnQvZXMvdG9hc3QiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXEhUTUxcdTVERTVcdTdBMEJcXFx1OTg3OVx1NzZFRVxcdjNuZXRlYXNlLW1haW5cXG5vZGVfbW9kdWxlc1xcQHZ1ZVxcY2xpLXBsdWdpbi1iYWJlbFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgZ2V0dXNlcmRhdGEsIGdldGZvbGxvdyB9IGZyb20gJ0AvYXBpL3VzZXIuanMnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVJvdXRlIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHJlYWN0aXZlLCBvbk1vdW50ZWQsIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBDb250ZW50IGZyb20gJy4vY29tcG9uZW50cy9jb250ZW50LnZ1ZSc7CmltcG9ydCBVc2VyRGF0YSBmcm9tICcuL2NvbXBvbmVudHMvdXNlckRhdGEudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENvbnRlbnQ6IENvbnRlbnQsCiAgICBVc2VyRGF0YTogVXNlckRhdGEKICB9LAogIG5hbWU6ICd1c2VyaWQnLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgX3JlZikgewogICAgdmFyIGF0dHJzID0gX3JlZi5hdHRyczsKICAgIHZhciB1c2VyID0gcmVhY3RpdmUoewogICAgICBwcm9maWxlOiB7fSwKICAgICAgbGV2ZWw6IG51bGwsCiAgICAgIGNyZWF0ZURheXM6IDAsCiAgICAgIGNyZWF0ZVRpbWU6IDAsCiAgICAgIGxpc3RlblNvbmdzOiAwCiAgICB9KTsKICAgIHZhciBzaG93ID0gcmVmKGZhbHNlKTsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIHZhciByb3V0ZSA9IHVzZVJvdXRlKCk7CgogICAgdmFyIG9uQ2xpY2tMZWZ0ID0gZnVuY3Rpb24gb25DbGlja0xlZnQoKSB7CiAgICAgIHJvdXRlci5iYWNrKCk7CiAgICB9OwoKICAgIHZhciBjaGFuZ2VTaG93ID0gZnVuY3Rpb24gY2hhbmdlU2hvdygpIHsKICAgICAgc2hvdy52YWx1ZSA9ICFzaG93LnZhbHVlOwogICAgfTsKCiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgb25Nb3VudGVkKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3lpZWxkJGdldHVzZXJkYXRhLCBkYXRhOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBnZXR1c2VyZGF0YSh7CiAgICAgICAgICAgICAgICB1aWQ6IGF0dHJzLmlkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX3lpZWxkJGdldHVzZXJkYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGdldHVzZXJkYXRhLmRhdGE7CgogICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgdXNlci5wcm9maWxlID0gZGF0YS5wcm9maWxlOwogICAgICAgICAgICAgICAgdXNlci5sZXZlbCA9IGRhdGEubGV2ZWw7CiAgICAgICAgICAgICAgICB1c2VyLmNyZWF0ZURheXMgPSBkYXRhLmNyZWF0ZURheXM7CiAgICAgICAgICAgICAgICB1c2VyLmNyZWF0ZVRpbWUgPSBkYXRhLmNyZWF0ZVRpbWU7CiAgICAgICAgICAgICAgICB1c2VyLmxpc3RlblNvbmdzID0gZGF0YS5saXN0ZW5Tb25nczsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKTsKCiAgICB2YXIgdXNlZm9sbG93ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3lpZWxkJGdldGZvbGxvdywgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRmb2xsb3coewogICAgICAgICAgICAgICAgICBpZDogYXR0cnMuaWQsCiAgICAgICAgICAgICAgICAgIHQ6IHVzZXIucHJvZmlsZS5mb2xsb3dlZCA/IDIgOiAxCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJGdldGZvbGxvdyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRnZXRmb2xsb3cuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgdXNlci5wcm9maWxlLmZvbGxvd2VkID0gIXVzZXIucHJvZmlsZS5mb2xsb3dlZDsKICAgICAgICAgICAgICAgICAgdXNlci5wcm9maWxlLmZvbGxvd2VkID8gX1RvYXN0LnN1Y2Nlc3MoJ+WFs+azqOaIkOWKnycpIDogX1RvYXN0LmZhaWwoJ+WPlua2iOWFs+azqOaIkOWKnycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gdXNlZm9sbG93KCkgewogICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiB7CiAgICAgIHJvdXRlcjogcm91dGVyLAogICAgICByb3V0ZTogcm91dGUsCiAgICAgIG9uQ2xpY2tMZWZ0OiBvbkNsaWNrTGVmdCwKICAgICAgdXNlcjogdXNlciwKICAgICAgYXR0cnM6IGF0dHJzLAogICAgICBzdG9yZTogc3RvcmUsCiAgICAgIHNob3c6IHNob3csCiAgICAgIGNoYW5nZVNob3c6IGNoYW5nZVNob3csCiAgICAgIGdldGZvbGxvdzogZ2V0Zm9sbG93LAogICAgICB1c2Vmb2xsb3c6IHVzZWZvbGxvdwogICAgfTsKICB9Cn07"},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\index.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\r\nimport { getuserdata, getfollow } from '@/api/user.js';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter, useRoute } from 'vue-router';\r\nimport { reactive, onMounted, ref } from 'vue';\r\nimport Content from './components/content.vue';\r\nimport UserData from './components/userData.vue';\r\nimport { Toast } from 'vant';\r\nexport default {\r\n  components: { Content, UserData },\r\n  name: 'userid',\r\n  setup(props, { attrs }) {\r\n    const user = reactive({\r\n      profile: {},\r\n      level: null,\r\n      createDays: 0,\r\n      createTime: 0,\r\n      listenSongs: 0,\r\n    });\r\n    const show = ref(false);\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const onClickLeft = () => {\r\n      router.back();\r\n    };\r\n    const changeShow = () => {\r\n      show.value = !show.value;\r\n    };\r\n    const store = useStore();\r\n\r\n    onMounted(async () => {\r\n      const { data } = await getuserdata({\r\n        uid: attrs.id,\r\n      });\r\n\r\n      if (data.code === 200) {\r\n        user.profile = data.profile;\r\n        user.level = data.level;\r\n        user.createDays = data.createDays;\r\n        user.createTime = data.createTime;\r\n        user.listenSongs = data.listenSongs;\r\n      }\r\n    });\r\n    const usefollow = async () => {\r\n      const { data } = await getfollow({\r\n        id: attrs.id,\r\n        t: user.profile.followed ? 2 : 1,\r\n      });\r\n      if (data.code === 200) {\r\n        user.profile.followed = !user.profile.followed;\r\n\r\n        user.profile.followed ? Toast.success('关注成功') : Toast.fail('取消关注成功');\r\n      }\r\n    };\r\n    return {\r\n      router,\r\n      route,\r\n      onClickLeft,\r\n      user,\r\n      attrs,\r\n      store,\r\n      show,\r\n      changeShow,\r\n      getfollow,\r\n      usefollow,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.user {\r\n  width: 100%;\r\n\r\n  ::v-deep(.van-nav-bar) {\r\n    background: transparent;\r\n  }\r\n\r\n  .userdata {\r\n    position: relative;\r\n    width: 95vw;\r\n    height: auto;\r\n    border-radius: 15px;\r\n\r\n    margin: 0 auto;\r\n    z-index: 1;\r\n    border-radius: 15px;\r\n    text-align: center;\r\n    ::v-deep(.van-image) {\r\n      position: absolute;\r\n      top: -26%;\r\n      left: 50%;\r\n      transform: translate(-50%);\r\n    }\r\n    .name {\r\n      margin: 20px 5px;\r\n      vertical-align: middle;\r\n    }\r\n    .title {\r\n      margin: 20px 10px;\r\n      font-size: 12px;\r\n      color: #bfbfbf;\r\n    }\r\n    .editor {\r\n      margin: 10px auto;\r\n      ::v-deep(.van-button) {\r\n        margin-right: 10px;\r\n        vertical-align: middle;\r\n        border: 1px solid #bfbfbf;\r\n      }\r\n    }\r\n  }\r\n}\r\n:root {\r\n  --van-white: #fff;\r\n  --van-blue: #1989fa;\r\n\r\n  --van-button-primary-border-color: pink;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"user\">\r\n    <van-nav-bar :border=\"false\" @click-left=\"onClickLeft\" fixed>\r\n      <template #left><van-icon name=\"arrow-left\" size=\"25\" color=\"#323233\" /> </template>\r\n    </van-nav-bar>\r\n    <van-image width=\"100vw\" height=\"42vh\" :src=\"user.profile.backgroundUrl\" />\r\n    <div class=\"userdata\">\r\n      <van-image\r\n        width=\"60\"\r\n        height=\"60\"\r\n        round\r\n        fit=\"cover\"\r\n        class=\" animate__animated animate__zoomInUp\"\r\n        :src=\"user.profile.avatarUrl\"\r\n      />\r\n      <br />\r\n      <span class=\"name\" style=\"font-size: 16px; font-weight: bold; font-size: 16px\">{{ user.profile.nickname }}</span\r\n      ><van-icon class=\"name\" name=\"vip-card-o\" :color=\"user.profile.vipType === 0 ? '#c0c0c0' : 'red'\" size=\"25\"\r\n        ><span style=\"font-size: 13px; vertical-align: top\">\r\n          {{ user.profile.vipType }}\r\n        </span></van-icon\r\n      ><br />\r\n\r\n      <div>\r\n        <span class=\"title\">{{ user.profile.follows }} 关注</span>\r\n        <span class=\"title\">{{ user.profile.followeds }} 粉丝</span>\r\n        <span class=\"title\"> Lv.{{ user.level }}</span>\r\n      </div>\r\n      <div class=\"editor\">\r\n        <van-button\r\n          v-if=\"attrs.id == store.state.profile.userId\"\r\n          type=\"primary\"\r\n          size=\"mini\"\r\n          round\r\n          hairline\r\n          @click=\"show = !show\"\r\n          >编辑资料</van-button\r\n        >\r\n        <div v-else>\r\n          <van-button\r\n            type=\"primary\"\r\n            :color=\"user.profile.followed ? '#07c160' : 'red'\"\r\n            size=\"mini\"\r\n            :icon=\"user.profile.followed ? '' : 'add-o'\"\r\n            round\r\n            @click=\"usefollow\"\r\n            >{{ user.profile.followed ? user.profile.followTime : '关注' }}</van-button\r\n          >\r\n          <van-button type=\"primary\" color=\"#323233\" size=\"mini\" round\r\n            ><span style=\"padding:10px;\">聊天</span></van-button\r\n          >\r\n        </div>\r\n\r\n        <van-icon name=\"arrow-down\" size=\"20\" />\r\n      </div>\r\n    </div>\r\n    <Content\r\n      :user=\"{\r\n        profile: user.profile,\r\n        createDays: user.createDays,\r\n        createTime: user.createTime,\r\n        listenSongs: user.listenSongs,\r\n        id: attrs.id,\r\n      }\"\r\n    />\r\n    <van-popup v-model:show=\"show\" position=\"top\" :style=\"{ height: '110%', width: '100%' }\"\r\n      ><UserData @changeShow=\"changeShow\"\r\n    /></van-popup>\r\n  </div>\r\n</template>\r\n"],"sourceRoot":""}]}