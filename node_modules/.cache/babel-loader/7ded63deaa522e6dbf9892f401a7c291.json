{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\thread-loader\\dist\\cjs.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\index.vue","mtime":1644665804076},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1643989866000},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1636397451359},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1636614324825},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxIVE1MXHU1REU1XHU3QTBCXFxcdTk4NzlcdTc2RUVcXHYzbmV0ZWFzZS1tYWluXFxub2RlX21vZHVsZXNcXEB2dWVcXGJhYmVsLXByZXNldC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGdldHVzZXJkYXRhIH0gZnJvbSAiQC9hcGkvdXNlci5qcyI7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IHVzZVJvdXRlciwgdXNlUm91dGUgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IHsgcmVhY3RpdmUsIG9uTW91bnRlZCB9IGZyb20gInZ1ZSI7CmltcG9ydCBDb250ZW50IGZyb20gIi4vY29tcG9uZW50cy9jb250ZW50LnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDb250ZW50OiBDb250ZW50CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBhdHRycyA9IF9yZWYuYXR0cnM7CiAgICB2YXIgdXNlciA9IHJlYWN0aXZlKHsKICAgICAgcHJvZmlsZToge30sCiAgICAgIGxldmVsOiBudWxsLAogICAgICBjcmVhdGVEYXlzOiAwLAogICAgICBjcmVhdGVUaW1lOiAwLAogICAgICBsaXN0ZW5Tb25nczogMAogICAgfSk7CiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwoKICAgIHZhciBvbkNsaWNrTGVmdCA9IGZ1bmN0aW9uIG9uQ2xpY2tMZWZ0KCkgewogICAgICByb3V0ZXIuYmFjaygpOwogICAgfTsKCiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgY29uc29sZS5sb2coYXR0cnMuaWQgPT0gc3RvcmUuc3RhdGUucHJvZmlsZS51c2VySWQpOwogICAgb25Nb3VudGVkKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3lpZWxkJGdldHVzZXJkYXRhLCBkYXRhOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBnZXR1c2VyZGF0YSh7CiAgICAgICAgICAgICAgICB1aWQ6IGF0dHJzLmlkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX3lpZWxkJGdldHVzZXJkYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGdldHVzZXJkYXRhLmRhdGE7CgogICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgdXNlci5wcm9maWxlID0gZGF0YS5wcm9maWxlOwogICAgICAgICAgICAgICAgdXNlci5sZXZlbCA9IGRhdGEubGV2ZWw7CiAgICAgICAgICAgICAgICB1c2VyLmNyZWF0ZURheXMgPSBkYXRhLmNyZWF0ZURheXM7CiAgICAgICAgICAgICAgICB1c2VyLmNyZWF0ZVRpbWUgPSBkYXRhLmNyZWF0ZVRpbWU7CiAgICAgICAgICAgICAgICB1c2VyLmxpc3RlblNvbmdzID0gZGF0YS5saXN0ZW5Tb25nczsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKTsKICAgIHJldHVybiB7CiAgICAgIHJvdXRlcjogcm91dGVyLAogICAgICByb3V0ZTogcm91dGUsCiAgICAgIG9uQ2xpY2tMZWZ0OiBvbkNsaWNrTGVmdCwKICAgICAgdXNlcjogdXNlciwKICAgICAgYXR0cnM6IGF0dHJzLAogICAgICBzdG9yZTogc3RvcmUKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\components\\user\\index.vue"],"names":[],"mappings":";;AAwEA,SAAS,WAAT,QAA4B,eAA5B;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,SAAS,SAAT,EAAoB,QAApB,QAAoC,YAApC;AACA,SAAS,QAAT,EAAmB,SAAnB,QAAoC,KAApC;AACA,OAAO,OAAP,MAAoB,0BAApB;AACA,eAAe;AACb,EAAA,UAAU,EAAE;AAAE,IAAA,OAAM,EAAN;AAAF,GADC;AAEb,EAAA,KAFa,iBAEP,KAFO,QAEW;AAAA,QAAT,KAAS,QAAT,KAAS;AACtB,QAAM,IAAG,GAAI,QAAQ,CAAC;AACpB,MAAA,OAAO,EAAE,EADW;AAEpB,MAAA,KAAK,EAAE,IAFa;AAGpB,MAAA,UAAU,EAAE,CAHQ;AAIpB,MAAA,UAAU,EAAE,CAJQ;AAKpB,MAAA,WAAW,EAAE;AALO,KAAD,CAArB;AAQA,QAAM,MAAK,GAAI,SAAS,EAAxB;AACA,QAAM,KAAI,GAAI,QAAQ,EAAtB;;AACA,QAAM,WAAU,GAAI,SAAd,WAAc,GAAM;AACxB,MAAA,MAAM,CAAC,IAAP;AACD,KAFD;;AAIA,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,IAAA,OAAO,CAAC,GAAR,CAAY,KAAK,CAAC,EAAN,IAAY,KAAK,CAAC,KAAN,CAAY,OAAZ,CAAoB,MAA5C;AACA,IAAA,SAAS,uEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACe,WAAW,CAAC;AACjC,gBAAA,GAAG,EAAE,KAAK,CAAC;AADsB,eAAD,CAD1B;;AAAA;AAAA;AACA,cAAA,IADA,sBACA,IADA;;AAKR,kBAAI,IAAI,CAAC,IAAL,KAAc,GAAlB,EAAuB;AACrB,gBAAA,IAAI,CAAC,OAAL,GAAe,IAAI,CAAC,OAApB;AACA,gBAAA,IAAI,CAAC,KAAL,GAAa,IAAI,CAAC,KAAlB;AACA,gBAAA,IAAI,CAAC,UAAL,GAAkB,IAAI,CAAC,UAAvB;AACA,gBAAA,IAAI,CAAC,UAAL,GAAkB,IAAI,CAAC,UAAvB;AACA,gBAAA,IAAI,CAAC,WAAL,GAAmB,IAAI,CAAC,WAAxB;AACF;;AAXQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT;AAaA,WAAO;AACL,MAAA,MAAM,EAAN,MADK;AAEL,MAAA,KAAK,EAAL,KAFK;AAGL,MAAA,WAAW,EAAX,WAHK;AAIL,MAAA,IAAI,EAAJ,IAJK;AAKL,MAAA,KAAK,EAAL,KALK;AAML,MAAA,KAAK,EAAL;AANK,KAAP;AAQD;AAxCY,CAAf","sourcesContent":["<template>\r\n  <div class=\"user\">\r\n    <van-nav-bar :border=\"false\" @click-left=\"onClickLeft\" fixed>\r\n      <template #left\r\n        ><van-icon name=\"arrow-left\" size=\"25\" color=\"#323233\" />\r\n      </template>\r\n    </van-nav-bar>\r\n    <van-image width=\"100vw\" height=\"42vh\" :src=\"user.profile.backgroundUrl\" />\r\n    <div class=\"userdata\">\r\n      <van-image\r\n        width=\"60\"\r\n        height=\"60\"\r\n        round\r\n        fit=\"cover\"\r\n        class=\" animate__animated animate__zoomInUp\"\r\n        :src=\"user.profile.avatarUrl\"\r\n      />\r\n      <br />\r\n      <span\r\n        class=\"name\"\r\n        style=\"font-size: 16px; font-weight: bold; font-size: 16px\"\r\n        >{{ user.profile.nickname }}</span\r\n      ><van-icon\r\n        class=\"name\"\r\n        name=\"vip-card-o\"\r\n        :color=\"user.profile.vipType === 0 ? '#c0c0c0' : 'red'\"\r\n        size=\"25\"\r\n        ><span style=\"font-size: 13px; vertical-align: top\">\r\n          {{ user.profile.vipType }}\r\n        </span></van-icon\r\n      ><br />\r\n\r\n      <div>\r\n        <span class=\"title\">{{ user.profile.followeds }} 关注</span>\r\n        <span class=\"title\">{{ user.profile.follows }} 粉丝</span>\r\n        <span class=\"title\">{{ user.level }} Lv</span>\r\n      </div>\r\n      <div class=\"editor\">\r\n        <van-button\r\n          v-if=\"attrs.id == store.state.profile.userId\"\r\n          type=\"primary\"\r\n          size=\"mini\"\r\n          round\r\n          hairline\r\n          color=\"#ccc\"\r\n          >编辑资料</van-button\r\n        >\r\n        <div v-else>\r\n          <van-button type=\"primary\" color=\"red\" size=\"mini\" icon=\"add-o\" round\r\n            >关注</van-button\r\n          >\r\n          <van-button type=\"primary\" color=\"#323233\" size=\"mini\" round\r\n            ><span style=\"padding:10px;\">聊天</span></van-button\r\n          >\r\n        </div>\r\n\r\n        <van-icon name=\"arrow-down\" size=\"20\" />\r\n      </div>\r\n    </div>\r\n    <Content\r\n      :user=\"{\r\n        profile: user.profile,\r\n        createDays: user.createDays,\r\n        createTime: user.createTime,\r\n        listenSongs: user.listenSongs,\r\n        id: attrs.id,\r\n      }\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getuserdata } from \"@/api/user.js\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { reactive, onMounted } from \"vue\";\r\nimport Content from \"./components/content.vue\";\r\nexport default {\r\n  components: { Content },\r\n  setup(props, { attrs }) {\r\n    const user = reactive({\r\n      profile: {},\r\n      level: null,\r\n      createDays: 0,\r\n      createTime: 0,\r\n      listenSongs: 0,\r\n    });\r\n\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const onClickLeft = () => {\r\n      router.back();\r\n    };\r\n\r\n    const store = useStore();\r\n    console.log(attrs.id == store.state.profile.userId);\r\n    onMounted(async () => {\r\n      const { data } = await getuserdata({\r\n        uid: attrs.id,\r\n      });\r\n\r\n      if (data.code === 200) {\r\n        user.profile = data.profile;\r\n        user.level = data.level;\r\n        user.createDays = data.createDays;\r\n        user.createTime = data.createTime;\r\n        user.listenSongs = data.listenSongs;\r\n      }\r\n    });\r\n    return {\r\n      router,\r\n      route,\r\n      onClickLeft,\r\n      user,\r\n      attrs,\r\n      store,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.user {\r\n  width: 100%;\r\n  background: #f0f0f0;\r\n  ::v-deep(.van-nav-bar) {\r\n    background: transparent;\r\n  }\r\n\r\n  .userdata {\r\n    position: relative;\r\n    width: 95vw;\r\n    height: auto;\r\n    border-radius: 15px;\r\n    background: #fefefe;\r\n    margin: 0 auto;\r\n    z-index: 1;\r\n    border-radius: 15px;\r\n    text-align: center;\r\n    ::v-deep(.van-image) {\r\n      position: absolute;\r\n      top: -26%;\r\n      left: 50%;\r\n      transform: translate(-50%);\r\n    }\r\n    .name {\r\n      margin: 20px 5px;\r\n      vertical-align: middle;\r\n    }\r\n    .title {\r\n      margin: 20px 10px;\r\n      font-size: 12px;\r\n      color: #bfbfbf;\r\n    }\r\n    .editor {\r\n      margin: 10px auto;\r\n      ::v-deep(.van-button) {\r\n        margin-right: 10px;\r\n        vertical-align: middle;\r\n        border: 1px solid #bfbfbf;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}