{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\thread-loader\\dist\\cjs.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\views\\search\\album.vue?vue&type=template&id=8daa5250&scoped=true","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\views\\search\\album.vue","mtime":1648492416575},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1648435259532},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1646661867757},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1646661867650},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1646661868754},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646661867738},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646661868754}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCB7IHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoU2NvcGVJZCA9IGZ1bmN0aW9uIF93aXRoU2NvcGVJZChuKSB7CiAgcmV0dXJuIF9wdXNoU2NvcGVJZCgiZGF0YS12LThkYWE1MjUwIiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG47Cn07Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImFsYnVtIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImNvbnRlbnQiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAidGl0bGUiLAogIHN0eWxlOiB7CiAgICAib3ZlcmZsb3ciOiAiaGlkZGVuIgogIH0KfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJkZXNjcmliZSIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF92YW5faW1hZ2UgPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLWltYWdlIik7CgogIHZhciBfY29tcG9uZW50X3Zhbl9jZWxsID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1jZWxsIik7CgogIHZhciBfY29tcG9uZW50X3Zhbl9saXN0ID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1saXN0Iik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fbGlzdCwgewogICAgbG9hZGluZzogJHNldHVwLmxvYWRpbmcsCiAgICAib25VcGRhdGU6bG9hZGluZyI6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJHNldHVwLmxvYWRpbmcgPSAkZXZlbnQ7CiAgICB9KSwKICAgIGZpbmlzaGVkOiAkc2V0dXAuZmluaXNoZWQsCiAgICAiZmluaXNoZWQtdGV4dCI6ICLmsqHmnInmm7TlpJrkuoYiLAogICAgb25Mb2FkOiAkc2V0dXAub25Mb2FkCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLmFsYnVtLCBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF92YW5fY2VsbCwgewogICAgICAgICAga2V5OiBpbmRleCwKICAgICAgICAgIGNsaWNrYWJsZTogIiIsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgICAgICByZXR1cm4gJHNldHVwLnJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiAnYWxidW1saXN0JywKICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBpY29uOiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2ltYWdlLCB7CiAgICAgICAgICAgICAgd2lkdGg6ICI1MCIsCiAgICAgICAgICAgICAgaGVpZ2h0OiAiNTAiLAogICAgICAgICAgICAgIHJhZGl1czogIjE1IiwKICAgICAgICAgICAgICBzcmM6IGl0ZW0ucGljVXJsCiAgICAgICAgICAgIH0sIG51bGwsIDgsIFsic3JjIl0pXTsKICAgICAgICAgIH0pLAogICAgICAgICAgdGl0bGU6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzMsIF90b0Rpc3BsYXlTdHJpbmcoaXRlbS5uYW1lKSwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF80LCBfdG9EaXNwbGF5U3RyaW5nKCIiLmNvbmNhdChpdGVtLmFydGlzdC5uYW1lLCAiICIpLmNvbmNhdCgkc2V0dXAuZGF0YWxidW0oaXRlbS5wdWJsaXNoVGltZSkpKSwgMSldKV07CiAgICAgICAgICB9KSwKICAgICAgICAgIF86IDIKICAgICAgICB9LCAxMDMyLCBbIm9uQ2xpY2siXSk7CiAgICAgIH0pLCAxMjgpKV07CiAgICB9KSwKICAgIF86IDEKICB9LCA4LCBbImxvYWRpbmciLCAiZmluaXNoZWQiLCAib25Mb2FkIl0pXSk7Cn0="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\views\\search\\album.vue"],"names":[],"mappings":";;;;;;;;;AA0EO,EAAA,KAAK,EAAC;;;AAmBE,EAAA,KAAK,EAAC;;;AACH,EAAA,KAAK,EAAC,O;AAAQ,EAAA,KAAwB,EAAxB;AAAA,gBAAA;AAAA;;;AACd,EAAA,KAAK,EAAC;;;;;;;;;uBArBtB,mBAAA,CA0BM,KA1BN,EAAA,UAAA,EA0BM,CAzBJ,YAAA,CAwBW,mBAxBX,EAwBW;AAxBO,IAAA,OAAO,EAAE,MAAA,CAAA,OAwBhB;;aAxBgB,MAAA,CAAA,O,GAAO,M;MAwBvB;AAxB0B,IAAA,QAAQ,EAAE,MAAA,CAAA,QAwBpC;AAxB8C,qBAAc,OAwB5D;AAxBqE,IAAA,MAAI,EAAE,MAAA,CAAA;AAwB3E,GAxBX,E;sBAEI;AAAA,aAA8B,E,kBADhC,mBAAA,CAsBW,SAtBX,EAsBW,IAtBX,EAsBW,WAAA,CArBe,MAAA,CAAA,KAqBf,EArBoB,UAArB,IAAqB,EAAf,KAAe,EAAV;6BADrB,YAAA,CAsBW,mBAtBX,EAsBW;AApBR,UAAA,GAAG,EAAE,KAoBG;AAnBT,UAAA,SAAS,EAAT,EAmBS;AAlBR,UAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,mBAAa,MAAA,CAAA,MAAA,CAAO,IAAP,CAAW;+BAAA;;oBAA0E,IAAI,CAAC;;AAA/E,aAAX,CAAb;AAAA;AAkBG,SAtBX,E;AAaa,UAAA,IAAI,EAAA,QAAA,CACb;AAAA,mBAAmE,CAAnE,YAAA,CAAmE,oBAAnE,EAAmE;AAAxD,cAAA,KAAK,EAAC,IAAkD;AAA7C,cAAA,MAAM,EAAC,IAAsC;AAAjC,cAAA,MAAM,EAAC,IAA0B;AAApB,cAAA,GAAG,EAAE,IAAI,CAAC;AAAU,aAAnE,E,IAAA,E,CAAA,E,OAAA,CAAmE,CAAnE;AAAA,WADa,C;AAGJ,UAAA,KAAK,EAAA,QAAA,CACd;AAAA,mBAGM,CAHN,mBAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFJ,mBAAA,CAAmE,MAAnE,EAAA,UAAA,EAAmE,gBAAA,CAAnB,IAAI,CAAC,IAAc,CAAnE,EAAyD,CAAzD,CAEI,EADJ,mBAAA,CAAuF,MAAvF,EAAA,UAAA,EAAuF,gBAAA,WAA1D,IAAI,CAAC,MAAL,CAAY,IAA8C,cAAtC,MAAA,CAAA,QAAA,CAAS,IAAI,CAAC,WAAd,CAAsC,EAAvF,EAA0E,CAA1E,CACI,CAHN,CAGM,CAHN;AAAA,WADc,C;;SAhBlB,E,IAAA,E,WAAA,C;OAsBW,CAtBX,E,GAAA,CACgC,EAA9B;AAAA,K;;GAFJ,E,CAAA,E,iCAAA,CAyBI,CA1BN,C","sourcesContent":["<script>\nimport { getcloudsearch } from '@/api/search.js';\nimport { datalbum } from '@/Util/dayjs.js';\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\n\nexport default {\n  name: 'album',\n  setup(props, { attrs }) {\n    const album = ref([]);\n    const loading = ref(false);\n    const finished = ref(false);\n    const router = useRouter();\n    const offset = ref(1);\n    const onLoad = async () => {\n      console.log(attrs.attrs.value);\n      const { data } = await getcloudsearch({\n        keywords: attrs.attrs.value,\n        type: 10,\n        offset: (offset.value - 1) * 30,\n      });\n      if (!data.result.albums) {\n        return (finished.value = true);\n      }\n      album.value.push(...data.result.albums);\n      loading.value = false;\n      if (data.result.albums.length) {\n        offset.value++;\n      } else {\n        finished.value = true;\n      }\n    };\n\n    return {\n      attrs,\n      album,\n      onLoad,\n      loading,\n      finished,\n      datalbum,\n      router,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.album {\n  padding-bottom: 20px;\n  height: 80vh;\n  overflow-y: auto;\n  .content {\n    width: 60vw;\n    margin-left: 15px;\n    overflow: hidden;\n    height: 100%;\n    .title {\n      margin-right: 4px;\n      vertical-align: middle;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      display: block;\n\n      width: 80vw;\n    }\n    .describe {\n      font-size: 13px;\n      color: #dedede;\n    }\n  }\n}\n</style>\n\n<template>\n  <div class=\"album\">\n    <van-list v-model:loading=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\n      <van-cell\n        v-for=\"(item, index) in album\"\n        :key=\"index\"\n        clickable\n        @click=\"\n          router.push({\n            name: 'albumlist',\n            params: {\n              id: item.id,\n            },\n          })\n        \"\n      >\n        <template #icon>\n          <van-image width=\"50\" height=\"50\" radius=\"15\" :src=\"item.picUrl\" />\n        </template>\n        <template #title>\n          <div class=\"content\">\n            <span class=\"title\" style=\"overflow: hidden\">{{ item.name }}</span>\n            <span class=\"describe\">{{ `${item.artist.name} ${datalbum(item.publishTime)}` }}</span>\n          </div>\n        </template>\n      </van-cell>\n    </van-list>\n  </div>\n</template>\n"],"sourceRoot":""}]}