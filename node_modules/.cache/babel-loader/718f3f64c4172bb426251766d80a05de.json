{"remainingRequest":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\thread-loader\\dist\\cjs.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HTML工程\\项目\\v3netease-main\\src\\views\\my\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HTML工程\\项目\\v3netease-main\\src\\views\\my\\index.vue","mtime":1643989866000},{"path":"D:\\HTML工程\\项目\\v3netease-main\\babel.config.js","mtime":1643989866000},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1636397451359},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1636614324825},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636397451353},{"path":"D:\\HTML工程\\项目\\v3netease-main\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643212638233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxIVE1MXHU1REU1XHU3QTBCXFxcdTk4NzlcdTc2RUVcXHYzbmV0ZWFzZS1tYWluXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgR3JpZCBmcm9tICIuL2dyaWQudnVlIjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgZ2V0dXNlcmRhdGEgfSBmcm9tICJAL2FwaS91c2VyLmpzIjsKaW1wb3J0IHsgb25Nb3VudGVkIH0gZnJvbSAiQHZ1ZS9ydW50aW1lLWNvcmUiOwppbXBvcnQgeyByZWFjdGl2ZSwgY29tcHV0ZWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IFVzZXJwbGF5bGlzdCBmcm9tICIuL1VzZXJwbGF5bGlzdC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgR3JpZDogR3JpZCwKICAgIFVzZXJwbGF5bGlzdDogVXNlcnBsYXlsaXN0CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgdmFyIHVzZXIgPSByZWFjdGl2ZSh7CiAgICAgIHByb2ZpbGU6IHt9LAogICAgICBsZXZlbDogbnVsbAogICAgfSk7CiAgICB2YXIgY29va2llID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY29va2llIikpOwogICAgfSk7CiAgICB2YXIgdXNlcnMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwcm9maWxlIikpOwogICAgfSk7CiAgICBvbk1vdW50ZWQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfeWllbGQkZ2V0dXNlcmRhdGEsIGRhdGE7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldHVzZXJkYXRhKHsKICAgICAgICAgICAgICAgIHVpZDogc3RvcmUuc3RhdGUucHJvZmlsZS51c2VySWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfeWllbGQkZ2V0dXNlcmRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0dXNlcmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICB1c2VyLnByb2ZpbGUgPSBkYXRhLnByb2ZpbGU7CiAgICAgICAgICAgICAgICB1c2VyLmxldmVsID0gZGF0YS5sZXZlbDsKICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRwcm9maWxlIiwgZGF0YS5wcm9maWxlKTsgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSk7CiAgICByZXR1cm4gewogICAgICBjb29raWU6IGNvb2tpZSwKICAgICAgc3RvcmU6IHN0b3JlLAogICAgICB1c2VyOiB1c2VyLAogICAgICByb3V0ZXI6IHJvdXRlciwKICAgICAgdXNlcnM6IHVzZXJzCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["D:\\HTML工程\\项目\\v3netease-main\\src\\views\\my\\index.vue"],"names":[],"mappings":";;AA2DA,OAAO,IAAP,MAAiB,YAAjB;AACA,SAAS,QAAT,QAAyB,MAAzB;AAEA,SAAS,WAAT,QAA4B,eAA5B;AACA,SAAS,SAAT,QAA0B,mBAA1B;AACA,SAAS,QAAT,EAAmB,QAAnB,QAAmC,KAAnC;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,OAAO,YAAP,MAAyB,oBAAzB;AACA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,IAAI,EAAJ,IADU;AAEV,IAAA,YAAY,EAAZ;AAFU,GADC;AAKb,EAAA,KALa,mBAKL;AACN,QAAM,KAAI,GAAI,QAAQ,EAAtB;AAEA,QAAM,MAAK,GAAI,SAAS,EAAxB;AACA,QAAM,IAAG,GAAI,QAAQ,CAAC;AACpB,MAAA,OAAO,EAAE,EADW;AAEpB,MAAA,KAAK,EAAE;AAFa,KAAD,CAArB;AAIA,QAAM,MAAK,GAAI,QAAQ,CAAC,YAAM;AAC5B,aAAO,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,QAArB,CAAX,CAAP;AACD,KAFsB,CAAvB;AAGA,QAAM,KAAI,GAAI,QAAQ,CAAC,YAAM;AAC3B,aAAO,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,SAArB,CAAX,CAAP;AACD,KAFqB,CAAtB;AAGA,IAAA,SAAS,uEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACe,WAAW,CAAC;AACjC,gBAAA,GAAG,EAAE,KAAK,CAAC,KAAN,CAAY,OAAZ,CAAoB;AADQ,eAAD,CAD1B;;AAAA;AAAA;AACA,cAAA,IADA,sBACA,IADA;;AAIR,kBAAI,IAAI,CAAC,IAAL,KAAc,GAAlB,EAAuB;AACrB,gBAAA,IAAI,CAAC,OAAL,GAAe,IAAI,CAAC,OAApB;AACA,gBAAA,IAAI,CAAC,KAAL,GAAa,IAAI,CAAC,KAAlB;AAEA,gBAAA,KAAK,CAAC,QAAN,CAAe,YAAf,EAA6B,IAAI,CAAC,OAAlC,EAJqB,CAKrB;AACF;;AAVQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT;AAYA,WAAO;AACL,MAAA,MAAM,EAAN,MADK;AAEL,MAAA,KAAK,EAAL,KAFK;AAGL,MAAA,IAAI,EAAJ,IAHK;AAIL,MAAA,MAAM,EAAN,MAJK;AAKL,MAAA,KAAK,EAAL;AALK,KAAP;AAOD;AAtCY,CAAf","sourcesContent":["<template>\n  <div class=\"my animate__fadeIn animate__animated\">\n    <van-nav-bar :border=\"false\" fixed>\n      <template #left>\n        <van-icon name=\"bars\" size=\"25\" color=\"#646566\" />\n      </template>\n      <template #right>\n        <van-icon\n          name=\"search\"\n          size=\"25\"\n          color=\"#646566\"\n          @click=\"router.push('/search')\"\n        />\n      </template>\n    </van-nav-bar>\n    <div class=\"userdata\">\n      <van-image\n        width=\"60\"\n        height=\"60\"\n        round\n        fit=\"cover\"\n        class=\"img animate__animated animate__zoomInUp\"\n        @click=\"!cookie ? router.push('/login') : retrun\"\n        :src=\"\n          cookie\n            ? users.avatarUrl\n            : 'http://p3.music.126.net/tBTNafgjNnTL1KlZMt7lVA==/18885211718935735.jpg'\n        \"\n      />\n      <br />\n      <span\n        class=\"name\"\n        style=\"font-size: 16px; font-weight: bold; font-size: 16px\"\n        :class=\"!cookie ? 'temp' : ''\"\n        >{{ cookie ? users.nickname : \"立即登录\" }}</span\n      ><van-icon\n        class=\"name\"\n        name=\"vip-card-o\"\n        v-if=\"cookie\"\n        :color=\"users.vipType === 0 ? '#c0c0c0' : 'red'\"\n        size=\"25\"\n        ><span style=\"font-size: 13px; vertical-align: top\">\n          {{ users.vipType }}\n        </span></van-icon\n      ><br />\n\n      <div v-if=\"cookie\">\n        <span class=\"title\">{{ user.profile.followeds }} 关注</span>\n        <span class=\"title\">{{ user.profile.follows }} 粉丝</span>\n        <span class=\"title\">{{ user.level }} Lv</span>\n      </div>\n    </div>\n\n    <Grid />\n    <Userplaylist />\n  </div>\n</template>\n\n<script>\nimport Grid from \"./grid.vue\";\nimport { useStore } from \"vuex\";\n\nimport { getuserdata } from \"@/api/user.js\";\nimport { onMounted } from \"@vue/runtime-core\";\nimport { reactive, computed } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport Userplaylist from \"./Userplaylist.vue\";\nexport default {\n  components: {\n    Grid,\n    Userplaylist,\n  },\n  setup() {\n    const store = useStore();\n\n    const router = useRouter();\n    const user = reactive({\n      profile: {},\n      level: null,\n    });\n    const cookie = computed(() => {\n      return JSON.parse(localStorage.getItem(\"cookie\"));\n    });\n    const users = computed(() => {\n      return JSON.parse(localStorage.getItem(\"profile\"));\n    });\n    onMounted(async () => {\n      const { data } = await getuserdata({\n        uid: store.state.profile.userId,\n      });\n      if (data.code === 200) {\n        user.profile = data.profile;\n        user.level = data.level;\n\n        store.dispatch(\"setprofile\", data.profile);\n        // console.log(data);\n      }\n    });\n    return {\n      cookie,\n      store,\n      user,\n      router,\n      users,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scped>\n.my {\n  width: 100%;\n  height: 87vh;\n  background: #f0f0f0;\n\n  .userdata {\n    position: relative;\n    width: 95vw;\n    height: 15vh;\n    border-radius: 15px;\n    background: #fefefe;\n    margin: 50px auto 0 auto;\n    z-index: 1;\n    border-radius: 15px;\n    text-align: center;\n    .img {\n      position: absolute;\n      top: -26%;\n      left: 50%;\n      transform: translate(-50%);\n    }\n    .name {\n      margin: 20px 5px;\n      vertical-align: middle;\n    }\n    .title {\n      margin: 20px 10px;\n      font-size: 12px;\n      color: #bfbfbf;\n    }\n  }\n  /deep/.van-cell,\n  .van-cell--borderless {\n    background: #f0f0f0 !important;\n  }\n  .temp {\n    position: absolute;\n    left: 40%;\n  }\n}\n/deep/ .van-nav-bar__content {\n  background: #f0f0f0 !important;\n}\n</style>\n"],"sourceRoot":""}]}