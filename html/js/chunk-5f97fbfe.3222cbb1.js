(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f97fbfe"],{"093a":function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"j",(function(){return i})),n.d(e,"e",(function(){return u})),n.d(e,"g",(function(){return s})),n.d(e,"c",(function(){return c})),n.d(e,"i",(function(){return l})),n.d(e,"f",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return m}));var a=n("6d75"),r=function(t){return Object(a["a"])({method:"GET",url:"/video/detail",params:t})},o=function(t){return Object(a["a"])({method:"GET",url:"/mv/detail",params:t})},i=function(t){return Object(a["a"])({method:"GET",url:"/video/url",params:t})},u=function(t){return Object(a["a"])({method:"GET",url:"/mv/url",params:t})},s=function(t){return Object(a["a"])({method:"GET",url:"/comment/video",params:t})},c=function(t){return Object(a["a"])({method:"GET",url:"/comment/mv",params:t})},l=function(t){return Object(a["a"])({method:"GET",url:"/video/group/list",params:t})},d=function(t){return Object(a["a"])({method:"GET",url:"/video/category/list",params:t})},f=function(t){return Object(a["a"])({method:"GET",url:"/video/group",params:t})},m=function(t){return Object(a["a"])({method:"GET",url:"/mlog/to/video",params:t})}},"18df":function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"e",(function(){return d}));var a=n("5a0c"),r=n.n(a),o=(n("385b"),n("4208")),i=n.n(o);r.a.extend(i.a),r.a.locale("zh-hk");var u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YY-M-DD-dddd-H-mm-ss";return r()(t).format(e)},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return r()(t).format(e)},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM月-DD日";return r()(t).format(e)},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM";return r()(t).format(e)},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD";return r()(t).format(e)}},"385b":function(t,e,n){!function(e,a){t.exports=a(n("5a0c"))}(0,(function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t),a={name:"zh-hk",months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),ordinal:function(t){return t+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d 分鐘",h:"一小時",hh:"%d 小時",d:"一天",dd:"%d 天",M:"一個月",MM:"%d 個月",y:"一年",yy:"%d 年"}};return n.default.locale(a,null,!0),a}))},4208:function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";return function(t,e,n){t=t||{};var a=e.prototype,r={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(t,e,n,r){return a.fromToBase(t,e,n,r)}n.en.relativeTime=r,a.fromToBase=function(e,a,o,i,u){for(var s,c,l,d=o.$locale().relativeTime||r,f=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],m=f.length,h=0;h<m;h+=1){var b=f[h];b.d&&(s=i?n(e).diff(o,b.d,!0):o.diff(e,b.d,!0));var v=(t.rounding||Math.round)(Math.abs(s));if(l=s>0,v<=b.r||!b.r){v<=1&&h>0&&(b=f[h-1]);var p=d[b.l];u&&(v=u(""+v)),c="string"==typeof p?p.replace("%d",v):p(v,a,b.l,l);break}}if(a)return c;var j=l?d.future:d.past;return"function"==typeof j?j(c):j.replace("%s",c)},a.to=function(t,e){return o(t,e,this,!0)},a.from=function(t,e){return o(t,e,this)};var i=function(t){return t.$u?n.utc():n()};a.toNow=function(t){return this.to(i(this),t)},a.fromNow=function(t){return this.from(i(this),t)}}}))},"5a0c":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t=1e3,e=6e4,n=36e5,a="millisecond",r="second",o="minute",i="hour",u="day",s="week",c="month",l="quarter",d="year",f="date",m="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(t,e,n){var a=String(t);return!a||a.length>=e?t:""+Array(e+1-a.length).join(n)+t},j={s:p,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),a=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+p(a,2,"0")+":"+p(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var a=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(a,c),o=n-r<0,i=e.clone().add(a+(o?-1:1),c);return+(-(a+(n-r)/(o?r-i:i-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:s,d:u,D:f,h:i,m:o,s:r,ms:a,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},O="en",g={};g[O]=v;var y=function(t){return t instanceof k},M=function(t,e,n){var a;if(!t)return O;if("string"==typeof t)g[t]&&(a=t),e&&(g[t]=e,a=t);else{var r=t.name;g[r]=t,a=r}return!n&&a&&(O=a),a||!n&&O},w=function(t,e){if(y(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new k(n)},$=j;$.l=M,$.i=y,$.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var k=function(){function v(t){this.$L=M(t.locale,null,!0),this.parse(t)}var p=v.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if($.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var a=e.match(h);if(a){var r=a[2]-1||0,o=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,o)):new Date(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return $},p.isValid=function(){return!(this.$d.toString()===m)},p.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},p.isAfter=function(t,e){return w(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<w(t)},p.$g=function(t,e,n){return $.u(t)?this[e]:this.set(n,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,e){var n=this,a=!!$.u(e)||e,l=$.p(t),m=function(t,e){var r=$.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return a?r:r.endOf(u)},h=function(t,e){return $.w(n.toDate()[t].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},b=this.$W,v=this.$M,p=this.$D,j="set"+(this.$u?"UTC":"");switch(l){case d:return a?m(1,0):m(31,11);case c:return a?m(1,v):m(0,v+1);case s:var O=this.$locale().weekStart||0,g=(b<O?b+7:b)-O;return m(a?p-g:p+(6-g),v);case u:case f:return h(j+"Hours",0);case i:return h(j+"Minutes",1);case o:return h(j+"Seconds",2);case r:return h(j+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(t,e){var n,s=$.p(t),l="set"+(this.$u?"UTC":""),m=(n={},n[u]=l+"Date",n[f]=l+"Date",n[c]=l+"Month",n[d]=l+"FullYear",n[i]=l+"Hours",n[o]=l+"Minutes",n[r]=l+"Seconds",n[a]=l+"Milliseconds",n)[s],h=s===u?this.$D+(e-this.$W):e;if(s===c||s===d){var b=this.clone().set(f,1);b.$d[m](h),b.init(),this.$d=b.set(f,Math.min(this.$D,b.daysInMonth())).$d}else m&&this.$d[m](h);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[$.p(t)]()},p.add=function(a,l){var f,m=this;a=Number(a);var h=$.p(l),b=function(t){var e=w(m);return $.w(e.date(e.date()+Math.round(t*a)),m)};if(h===c)return this.set(c,this.$M+a);if(h===d)return this.set(d,this.$y+a);if(h===u)return b(1);if(h===s)return b(7);var v=(f={},f[o]=e,f[i]=n,f[r]=t,f)[h]||1,p=this.$d.getTime()+a*v;return $.w(p,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||m;var a=t||"YYYY-MM-DDTHH:mm:ssZ",r=$.z(this),o=this.$H,i=this.$m,u=this.$M,s=n.weekdays,c=n.months,l=function(t,n,r,o){return t&&(t[n]||t(e,a))||r[n].substr(0,o)},d=function(t){return $.s(o%12||12,t,"0")},f=n.meridiem||function(t,e,n){var a=t<12?"AM":"PM";return n?a.toLowerCase():a},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:$.s(u+1,2,"0"),MMM:l(n.monthsShort,u,c,3),MMMM:l(c,u),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,s,2),ddd:l(n.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(o),HH:$.s(o,2,"0"),h:d(1),hh:d(2),a:f(o,i,!0),A:f(o,i,!1),m:String(i),mm:$.s(i,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:r};return a.replace(b,(function(t,e){return e||h[t]||r.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(a,f,m){var h,b=$.p(f),v=w(a),p=(v.utcOffset()-this.utcOffset())*e,j=this-v,O=$.m(this,v);return O=(h={},h[d]=O/12,h[c]=O,h[l]=O/3,h[s]=(j-p)/6048e5,h[u]=(j-p)/864e5,h[i]=j/n,h[o]=j/e,h[r]=j/t,h)[b]||j,m?O:$.a(O)},p.daysInMonth=function(){return this.endOf(c).$D},p.$locale=function(){return g[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),a=M(t,e,!0);return a&&(n.$L=a),n},p.clone=function(){return $.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},v}(),_=k.prototype;return w.prototype=_,[["$ms",a],["$s",r],["$m",o],["$H",i],["$W",u],["$M",c],["$y",d],["$D",f]].forEach((function(t){_[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,k,w),t.$i=!0),w},w.locale=M,w.isDayjs=y,w.unix=function(t){return w(1e3*t)},w.en=g[O],w.Ls=g,w.p={},w}))},"5a71":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return s}));var a=n("6d75"),r=n("4360"),o=n("7e29"),i=function(t){return Object(a["a"])({method:"GET",url:Object(o["m"])(r["a"].state.flag),params:t})},u=function(t){return Object(a["a"])({method:"GET",url:"/comment",params:t})},s=function(t){return Object(a["a"])({method:"GET",url:"/comment/like",params:t})}},"600d":function(t,e,n){},"9ac7":function(t,e,n){"use strict";n("f366")},a2f5:function(t,e,n){},d242:function(t,e,n){"use strict";n.r(e);var a=n("7a23"),r={class:"video"},o=["src"];function i(t,e,n,i,u,s){var c=Object(a["Q"])("van-icon"),l=Object(a["Q"])("van-nav-bar"),d=Object(a["Q"])("VueDanmaku"),f=Object(a["Q"])("Data"),m=Object(a["Q"])("van-slider");return Object(a["G"])(),Object(a["i"])("div",r,[Object(a["m"])(l,{border:!1,onClickLeft:e[0]||(e[0]=function(t){return i.router.back()})},{left:Object(a["eb"])((function(){return[Object(a["m"])(c,{name:"arrow-left",color:"#fff",size:"24"})]})),_:1}),Object(a["m"])(d,{danmus:i.danmus,ref:"danmaku",loop:!0,class:"Danmaku",right:4,speeds:100,debounce:1e3,randomChannel:!0},null,8,["danmus"]),Object(a["j"])("video",{src:i.url,class:"controls",ref:"video",autoplay:"",onClick:e[1]||(e[1]=function(){return i.playstatus&&i.playstatus.apply(i,arguments)}),onTimeupdate:e[2]||(e[2]=function(){return i.onTimeupdate&&i.onTimeupdate.apply(i,arguments)}),onLoadedmetadata:e[3]||(e[3]=function(){return i.loadedmetadata&&i.loadedmetadata.apply(i,arguments)}),onEnded:e[4]||(e[4]=function(){return i.ended&&i.ended.apply(i,arguments)})},null,40,o),i.icon?(Object(a["G"])(),Object(a["g"])(c,{key:0,name:"play",onClick:i.play,color:"#fff",size:"50",class:"play"},null,8,["onClick"])):Object(a["h"])("",!0),Object(a["m"])(f,{data:i.datas,attrs:i.attrs.id},null,8,["data","attrs"]),Object(a["m"])(m,{modelValue:i.value,"onUpdate:modelValue":e[5]||(e[5]=function(t){return i.value=t}),onChange:i.onChange,"active-color":"red","button-size":"15",class:"slider",min:"0",max:i.duration},null,8,["modelValue","onChange","max"])])}var u=n("7580"),s=(n("96cf"),n("d3b7"),n("159b"),n("093a")),c=n("5c40"),l=n("6c02"),d=Object(a["n"])({components:{},props:{danmus:{type:Array,required:!0,default:()=>[]},channels:{type:Number,default:0},autoplay:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},useSlot:{type:Boolean,default:!1},debounce:{type:Number,default:400},randomChannel:{type:Boolean,default:!1},speeds:{type:Number,default:200},fontSize:{type:Number,default:18},top:{type:Number,default:4},right:{type:Number,default:0},extraStyle:{type:String,default:""}},emits:["done"],setup(t,{emit:e,slots:n}){const{danmus:r,channels:o,autoplay:i,loop:u,useSlot:s,debounce:c,randomChannel:l,speeds:d,fontSize:f,top:m,right:h,extraStyle:b}=Object(a["X"])(t);Object(a["D"])(()=>{D()}),Object(a["A"])(()=>{G()});let v=Object(a["M"])(document.createElement("div")),p=Object(a["M"])(document.createElement("div"));const j=Object(a["M"])(0),O=Object(a["M"])(0);let g=0;const y=Object(a["M"])([]),M=Object(a["M"])(!1),w=Object(a["M"])(0),$=Object(a["M"])(!1),k=Object(a["M"])({}),_=Object(a["K"])({channels:0,autoplay:!0,loop:!1,useSlot:!1,debounce:100,randomChannel:!1}),C=Object(a["K"])({height:0,fontSize:18,speeds:200,top:4,right:0});function D(){S(),x(),_.autoplay&&T()}function S(){j.value=v.value.offsetWidth,O.value=v.value.offsetHeight}function x(){r.value.forEach(t=>{y.value.push(t)}),_.channels=o.value,_.autoplay=i.value,_.loop=u.value,_.useSlot=s.value,_.debounce=c.value,_.randomChannel=l.value,C.fontSize=f.value,C.speeds=d.value,C.top=m.value,C.right=h.value}function T(){M.value=!1,g||(g=setInterval(()=>Y(),c.value))}function Y(){!M.value&&y.value.length&&(w.value>y.value.length-1?(_.loop&&(w.value=0,L()),e("done")):L())}function L(){const t=u.value?w.value%y.value.length:w.value;let e=document.createElement("div");_.useSlot?e=z(t).$el:(e.innerHTML=y.value[t],e.setAttribute("style",b.value),e.style.fontSize=C.fontSize+"px",e.style.lineHeight=C.fontSize+"px"),e.classList.add("dm"),p.value.appendChild(e),Object(a["v"])(()=>{C.height&&_.channels||(C.height=e.offsetHeight,_.channels||(_.channels=Math.floor(O.value/(C.height+C.top))));let n=H(e);if(n>=0){const a=e.offsetWidth,r=C.height,o=j.value/C.speeds;e.classList.add("move"),e.style.animationDuration=o+"s",e.style.top=n*(r+C.top)+"px",e.style.width=a+C.right+"px",e.style.setProperty("--dm-left-offset",`-${j.value}px`),e.dataset.index=""+t,e.addEventListener("animationend",()=>{p.value.removeChild(e)}),e.classList.length>0&&w.value++}else e.classList.length>0&&p.value.removeChild(e)})}function H(t){let e=[...Array(_.channels).keys()];_.randomChannel&&(e=e.sort(()=>.5-Math.random()));for(let n of e){const e=k.value[n];if(!e||!e.length)return k.value[n]=[t],t.addEventListener("animationend",()=>k.value[n].splice(0,1)),n%_.channels;for(let a=0;a<e.length;a++){const r=E(e[a])-10;if(r<=.88*(t.offsetWidth-e[a].offsetWidth)||r<=0)break;if(a===e.length-1)return k.value[n].push(t),t.addEventListener("animationend",()=>k.value[n].splice(0,1)),n%_.channels}}return-1}function z(t){const e=Object(a["f"])({render(){return Object(a["p"])("div",{},[n.dm({danmu:y.value[t],index:t})])}}),r=e.mount(document.createElement("div"));return r}function E(t){const e=t.offsetWidth||parseInt(t.style.width),n=t.getBoundingClientRect().right||p.value.getBoundingClientRect().right+e;return p.value.getBoundingClientRect().right-n}function V(){clearInterval(g),g=0}function G(){V(),w.value=0}function I(){C.height=0,D()}function N(){k.value={},p.value.innerHTML="",M.value=!0,$.value=!1,G(),x()}function Q(){M.value=!0}function B(t){const e=w.value%y.value.length;y.value.splice(e,0,t)}function W(t){y.value.push(t)}function R(t){_.channels=t}function U(){return!M.value}function A(){$.value=!1}function J(){$.value=!0}function X(){S();const t=p.value.getElementsByClassName("dm");for(let e=0;e<t.length;e++);}return Object(a["bb"])(()=>t.danmus,t=>y.value=[...t]),{container:v,dmContainer:p,hidden:$,paused:M,setChannels:R,getPlayState:U,resize:X,play:T,pause:Q,stop:N,show:A,hide:J,reset:I,add:B,push:W}}});const f={ref:"container",class:"vue-danmaku"};function m(t,e,n,r,o,i){return Object(a["G"])(),Object(a["g"])("div",f,[Object(a["m"])("div",{ref:"dmContainer",class:["danmus",{show:!t.hidden},{paused:t.paused}]},null,2),Object(a["P"])(t.$slots,"default")],512)}function h(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}var b=".vue-danmaku {\n  position: relative;\n  overflow: hidden;\n}\n.vue-danmaku .danmus {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  -webkit-transition: all 0.3s;\n  transition: all 0.3s;\n}\n.vue-danmaku .danmus.show {\n  opacity: 1;\n}\n.vue-danmaku .danmus.paused .dm.move {\n  animation-play-state: paused;\n}\n.vue-danmaku .danmus .dm {\n  position: absolute;\n  right: 0;\n  font-size: 20px;\n  color: #fff;\n  white-space: pre;\n  transform: translateX(100%);\n}\n.vue-danmaku .danmus .dm.move {\n  will-change: transform;\n  animation-name: moveLeft;\n  animation-timing-function: linear;\n  animation-play-state: running;\n}\n.vue-danmaku .danmus .dm.pause {\n  animation-play-state: paused;\n  z-index: 10;\n}\n@keyframes moveLeft {\n  from {\n    transform: translateX(100%);\n  }\n  to {\n    transform: translateX(var(--dm-left-offset));\n  }\n}\n@-webkit-keyframes moveLeft {\n  from {\n    -webkit-transform: translateX(100%);\n  }\n  to {\n    -webkit-transform: translateX(var(--dm-left-offset));\n  }\n}";h(b),d.render=m,d.__file="src/lib/Danmaku.vue";var v=d,p=(n("b0c0"),function(t){return Object(a["J"])("data-v-51e046f1"),t=t(),Object(a["H"])(),t}),j={class:"data"},O={class:"describe"},g={class:"user"},y={class:"number van-multi-ellipsis--l2 title"},M={class:"number"},w={class:"icons"},$={class:"item"},k={class:"number"},_={class:"item"},C={class:"number"},D={class:"item"},S={class:"number"},x={class:"item"},T=p((function(){return Object(a["j"])("span",{class:"number"},"收藏",-1)}));function Y(t,e,n,r,o,i){var u=Object(a["Q"])("van-image"),s=Object(a["Q"])("van-button"),c=Object(a["Q"])("van-icon"),l=Object(a["Q"])("Commnts"),d=Object(a["Q"])("van-popup");return Object(a["G"])(),Object(a["i"])("div",j,[Object(a["j"])("div",O,[Object(a["j"])("div",g,[Object(a["m"])(u,{width:"40",height:"40",round:"",fit:"cover",src:r.attrs.attrs.length>8?r.attrs.data.creator.avatarUrl:r.attrs.data.data.cover},null,8,["src"]),Object(a["j"])("span",{class:"number username",onClick:e[0]||(e[0]=function(t){return r.router.push({name:"user",params:{id:r.attrs.data.creator.userId}})})},Object(a["V"])(r.attrs.attrs.length>8?r.attrs.data.creator.nickname:r.attrs.data.data.artistName),1),Object(a["m"])(s,{type:"primary",color:r.attrs.data.creator.followed?"#ccc":"red",size:"mini",disabled:!!r.attrs.data.creator.followed,icon:r.attrs.data.creator.followed?"success":"add-o",round:""},{default:Object(a["eb"])((function(){return[Object(a["l"])(Object(a["V"])(r.attrs.data.creator.followed?"已关注":"关注"),1)]})),_:1},8,["color","disabled","icon"])]),Object(a["j"])("div",y,Object(a["V"])(r.attrs.attrs.length>8?r.attrs.data.data.title:r.attrs.data.data.name),1),Object(a["j"])("span",M,Object(a["V"])(r.playCount(r.attrs.attrs.length>8?r.attrs.data.data.playTime:r.attrs.data.data.playCount))+"次观看",1)]),Object(a["j"])("div",w,[Object(a["j"])("div",$,[Object(a["m"])(c,{name:"good-job",color:"#fff",size:"35",class:"play"}),Object(a["j"])("span",k,Object(a["V"])(r.jobCount(r.attrs.attrs.length>8?r.attrs.data.data.praisedCount:r.attrs.data.data.subCount)),1)]),Object(a["j"])("div",_,[Object(a["m"])(c,{name:"chat",color:"#fff",size:"35",class:"play",onClick:r.tocommnts},null,8,["onClick"]),Object(a["j"])("span",C,Object(a["V"])(r.jobCount(r.attrs.data.data.commentCount)),1)]),Object(a["j"])("div",D,[Object(a["m"])(c,{name:"share",color:"#fff",size:"35",class:"play"}),Object(a["j"])("span",S,Object(a["V"])(r.jobCount(r.attrs.data.data.shareCount)),1)]),Object(a["j"])("div",x,[Object(a["m"])(c,{name:"add",color:"#fff",size:"35",class:"play"}),T])]),Object(a["m"])(d,{show:r.show,"onUpdate:show":e[1]||(e[1]=function(t){return r.show=t}),position:"bottom",style:{height:"70%"},round:""},{default:Object(a["eb"])((function(){return[Object(a["m"])(l,{attrs:r.attrs},null,8,["attrs"])]})),_:1},8,["show"])])}var L=function(t){return Object(a["J"])("data-v-7e658ae4"),t=t(),Object(a["H"])(),t},H={class:"commnts"},z={class:"title"},E={class:"conaim"},V={class:"content"},G={class:"top"},I={class:"left"},N=["onClick"],Q={class:"time"},B={class:"right"},W=L((function(){return Object(a["j"])("div",{class:"van-hairline--bottom"},null,-1)})),R=Object(a["l"])("评论"),U={class:"btn"},A=Object(a["l"])("听说爱评论的粉丝很多");function J(t,e,n,r,o,i){var u=Object(a["Q"])("van-loading"),s=Object(a["Q"])("van-image"),c=Object(a["Q"])("van-icon"),l=Object(a["Q"])("van-list"),d=Object(a["Q"])("van-button"),f=Object(a["Q"])("van-field"),m=Object(a["Q"])("van-cell-group"),h=Object(a["Q"])("van-popup");return Object(a["G"])(),Object(a["i"])("div",H,[Object(a["j"])("div",z,"评论("+Object(a["V"])(r.comments.total)+")",1),Object(a["j"])("div",E,[Object(a["m"])(l,{loading:r.loading,"onUpdate:loading":e[1]||(e[1]=function(t){return r.loading=t}),finished:r.finished,"finished-text":"没有更多了",onLoad:r.onLoad},{default:Object(a["eb"])((function(){return[(Object(a["G"])(!0),Object(a["i"])(a["a"],null,Object(a["O"])(r.comments.comment,(function(n,o){return Object(a["G"])(),Object(a["i"])("div",{class:"item",key:o},[Object(a["m"])(s,{width:"30px",height:"30px",round:"",fit:"cover",src:n.user.avatarUrl},{loading:Object(a["eb"])((function(){return[Object(a["m"])(u,{type:"spinner",size:"10",color:"#000"})]})),_:2},1032,["src"]),Object(a["j"])("div",V,[Object(a["j"])("div",G,[Object(a["j"])("div",I,[Object(a["j"])("div",{class:"name",onClick:function(t){return r.router.push({name:"user",params:{id:n.user.userId}})}},Object(a["V"])(n.user.nickname),9,N),Object(a["j"])("div",Q,Object(a["V"])(r.data(n.time)),1)]),Object(a["j"])("div",B,[Object(a["l"])(Object(a["V"])(r.playCount(n.likedCount))+" ",1),Object(a["m"])(c,{size:"25",name:n.liked?"good-job":"good-job-o",onClick:function(t){return r.islike(n)}},null,8,["name","onClick"])])]),Object(a["j"])("div",{class:"bottom",onClick:e[0]||(e[0]=function(e){return t.show=!t.show})},Object(a["V"])(n.content),1)]),W])})),128))]})),_:1},8,["loading","finished","onLoad"])]),Object(a["m"])(h,{show:r.shows,"onUpdate:show":e[3]||(e[3]=function(t){return r.shows=t}),position:"bottom",style:{height:"10%"}},{default:Object(a["eb"])((function(){return[Object(a["m"])(m,{inset:""},{default:Object(a["eb"])((function(){return[Object(a["m"])(f,{modelValue:r.message,"onUpdate:modelValue":e[2]||(e[2]=function(t){return r.message=t}),rows:"1",autosize:"",clickable:"",hairline:"",type:"textarea",onClickRightIcon:r.sendcommit,placeholder:"听说爱评论的粉丝很多"},{"right-icon":Object(a["eb"])((function(){return[Object(a["m"])(d,{size:"small",type:"primary",round:""},{default:Object(a["eb"])((function(){return[R]})),_:1})]})),_:1},8,["modelValue","onClickRightIcon"])]})),_:1})]})),_:1},8,["show"]),Object(a["j"])("div",U,[Object(a["m"])(d,{type:"primary",size:"large",round:"",onClick:e[4]||(e[4]=function(t){return r.shows=!r.shows})},{default:Object(a["eb"])((function(){return[A]})),_:1})])])}var X=n("0bd7"),K=n("5a71"),F=n("18df"),P=n("5502"),Z=n("626a"),q=n("7e29"),tt={name:"videoid",setup:function(t,e){var n=e.attrs,r=Object(a["M"])(!1),o=Object(a["M"])(!1),i=Object(a["M"])(""),c=Object(P["b"])(),d=Object(a["M"])(!1),f=Object(l["d"])(),m=Object(a["K"])({comment:[],total:0,offset:1}),h=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(JSON.parse(localStorage.getItem("cookie"))){t.next=2;break}return t.abrupt("return",f.push("/login"));case 2:return t.next=4,Object(K["b"])({t:1,type:n.attrs.attrs.length>8?5:1,id:n.attrs.attrs,content:i.value});case 4:e=t.sent,a=e.data,200===a.code?(d.value=!d.value,i.value="",m.comment.unshift(a.comment),Object(Z["a"])("评论成功")):(d.value=!d.value,i.value="",Dialog.alert({title:a.data.dialog.title,message:a.data.dialog.subtitle,confirmButtonText:a.data.dialog.buttonMsg}).then((function(){window.location=a.data.dialog.buttonUrl})));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(JSON.parse(localStorage.getItem("cookie"))){t.next=2;break}return t.abrupt("return",f.push("/login"));case 2:return t.next=4,Object(K["c"])({id:n.attrs.attrs,cid:e.commentId,t:e.liked?0:1,type:n.attrs.attrs.length>8?5:1});case 4:a=t.sent,a.data,e.liked?(e.liked=!e.liked,e.likedCount--):(e.liked=!e.liked,e.likedCount++);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,a,i,u,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(n.attrs.attrs.length>8)){t.next=11;break}return t.next=3,Object(s["g"])({limit:10,id:n.attrs.attrs,offset:20*(m.offset-1)});case 3:a=t.sent,i=a.data,m.total=i.total,(e=m.comment).push.apply(e,Object(X["a"])(i.comments)),r.value=!1,i.comments.length?m.offset++:o.value=!0,t.next=19;break;case 11:return t.next=13,Object(s["c"])({limit:10,id:n.attrs.attrs,offset:20*(m.offset-1)});case 13:c=t.sent,l=c.data,m.total=l.total,(u=m.comment).push.apply(u,Object(X["a"])(l.comments)),r.value=!1,l.comments.length?m.offset++:o.value=!0;case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{loading:r,finished:o,message:i,store:c,shows:d,onLoad:v,comments:m,playCount:q["h"],data:F["c"],sendcommit:h,islike:b,router:f}}},et=(n("e7db"),n("6b0d")),nt=n.n(et);const at=nt()(tt,[["render",J],["__scopeId","data-v-7e658ae4"]]);var rt=at,ot=function(){var t=Object(l["d"])(),e=Object(l["c"])(),n=Object(P["b"])();return{router:t,route:e,store:n}},it=ot,ut={name:"videoid",components:{Commnts:rt},setup:function(t,e){var n=e.attrs,r=Object(a["M"])(!1),o=it(),i=o.router,u=o.store,s=Object(a["K"])({creator:{},followed:{}});Object(a["cb"])((function(){n.attrs.length>8?s.creator=n.data.creator:(s.followed=n.data.artists,n.data.artists)}));var c=function(){u.dispatch("setflag",5),r.value=!0};return{attrs:n,playCount:q["h"],store:u,router:i,tocommnts:c,show:r,jobCount:q["f"],artists:s,MyHooks:it}}};n("9ac7");const st=nt()(ut,[["render",Y],["__scopeId","data-v-51e046f1"]]);var ct=st,lt={name:"videoid",components:{VueDanmaku:v,Data:ct},setup:function(t,e){var n=e.attrs,r=Object(a["K"])({data:{},creator:{},vid:"",artists:null}),o=Object(a["M"])(0),i=function(t){f.value.currentTime=t},d=Object(a["M"])(""),f=Object(a["M"])(null),m=Object(a["M"])(null),h=Object(l["d"])(),b=Object(a["M"])(!1),v=Object(a["M"])([]),p=Object(a["M"])(0),j=function(){f.value.paused&&4===f.value.readyState?Object(c["B"])((function(){f.value.play(),b.value=!b.value,m.value.play()})):Object(c["B"])((function(){f.value.pause(),b.value=!b.value,m.value.pause()}))},O=function(){b.value=!b.value,Object(c["B"])((function(){m.value.stop()}))},g=function(t){p.value=t.target.duration},y=function(){Object(c["B"])((function(){f.value.play()})),b.value=!b.value},M=function(t){o.value=t.target.currentTime};return Object(c["J"])(Object(u["a"])(regeneratorRuntime.mark((function t(){var e,a,o,i,u,c,l,f,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(n.id.length>8)){t.next=21;break}return t.next=3,Object(s["h"])({id:n.id});case 3:return e=t.sent,a=e.data,t.next=7,Object(s["j"])({id:n.id});case 7:return o=t.sent,t.next=10,Object(s["g"])({id:n.id,limit:20});case 10:i=t.sent,u=[],i.data.comments.forEach((function(t){u.push(t.content)})),v.value=u,r.data=a.data,r.creator=a.data.creator,r.vid=a.data.vid,d.value=o.data.urls[0].url,t.next=39;break;case 21:return t.next=23,Object(s["d"])({mvid:n.id});case 23:return c=t.sent,t.next=26,Object(s["e"])({id:n.id});case 26:return l=t.sent,t.next=29,Object(s["c"])({id:n.id,limit:100});case 29:f=t.sent,r.data=c.data.data,d.value=l.data.data.url,d.value,m=[],f.data.comments.forEach((function(t){m.push(t.content)})),v.value=m,r.vid=c.data.vid,r.artists=c.data.data.artists[0];case 39:case"end":return t.stop()}}),t)})))),{datas:r,url:d,video:f,router:h,danmus:v,danmaku:m,playstatus:j,icon:b,play:y,onChange:i,value:o,onTimeupdate:M,loadedmetadata:g,duration:p,attrs:n,ended:O}}};n("ec11");const dt=nt()(lt,[["render",i],["__scopeId","data-v-7b20abd1"]]);e["default"]=dt},e7db:function(t,e,n){"use strict";n("a2f5")},ec11:function(t,e,n){"use strict";n("600d")},f366:function(t,e,n){}}]);
//# sourceMappingURL=chunk-5f97fbfe.3222cbb1.js.map