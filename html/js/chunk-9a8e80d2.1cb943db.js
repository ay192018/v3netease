(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a8e80d2"],{"035f":function(e,t,n){},1840:function(e,t,n){},"5e04":function(e,t,n){"use strict";n("b0c0"),n("99af");var c=n("7a23"),s={class:"playall"},a={key:1,class:"songslist auto"},r=["onClick"],i={class:"left"},o={class:"index"},l={class:"data"},u={class:"songname van-ellipsis"},b={class:"songtitle van-ellipsis"},d={class:"icons"};function j(e,t,n,j,O,g){var p=Object(c["Q"])("van-loading"),f=Object(c["Q"])("van-icon"),m=Object(c["Q"])("nut-backtop");return Object(c["G"])(),Object(c["i"])("div",s,[!1===j.load?(Object(c["G"])(),Object(c["g"])(p,{key:0,type:"spinner",size:"80px",class:"loading"})):(Object(c["G"])(),Object(c["i"])("div",a,[(Object(c["G"])(!0),Object(c["i"])(c["a"],null,Object(c["O"])(j.allsongs,(function(e,t){return Object(c["G"])(),Object(c["i"])("div",{class:"item",key:t,onClick:function(e){return j.play(t)}},[Object(c["j"])("div",i,[Object(c["j"])("div",o,Object(c["V"])(t+1),1),Object(c["j"])("div",l,[Object(c["j"])("div",u,Object(c["V"])(e.name),1),Object(c["j"])("div",b,Object(c["V"])("".concat(e.ar[0].name,"--").concat(e.name)),1)])]),Object(c["j"])("div",d,[e.mv?(Object(c["G"])(),Object(c["g"])(f,{key:0,name:"tv-o",size:"20",onClick:Object(c["hb"])((function(t){return j.router.push({name:"video",params:{id:e.mv}})}),["stop"]),class:"tv"},null,8,["onClick"])):Object(c["h"])("",!0),Object(c["m"])(f,{name:"ellipsis",size:"20"})])],8,r)})),128)),Object(c["m"])(m,{bottom:150,right:50,duration:3e3})]))])}var O=n("7580"),g=(n("96cf"),n("d3b7"),n("159b"),n("a15b"),{}),p=n("7e29"),f=n("23e3"),m=n("6c02"),v=n("5502"),h=n("626a"),y=n("cd4f"),k={mixins:[g],name:"playlistid",setup:function(e,t){var n=t.attrs,s=t.emit,a=Object(c["M"])([]),r=Object(c["M"])([]),i=Object(m["d"])(),o=Object(v["b"])(),l=Object(c["M"])(!1);Object(c["cb"])(Object(O["a"])(regeneratorRuntime.mark((function e(){var t,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.songsdata.trackIds.forEach((function(e){a.value.push(e.id)})),!b){e.next=7;break}return e.next=4,Object(f["d"])({ids:b.value.join()});case 4:t=e.sent,c=t.data,200===c.code?(l.value=!0,r.value=c.songs,s("length",r.value.length)):h["a"].fail("加载失败,也许歌曲太多了");case 7:case"end":return e.stop()}}),e)}))));var u=function(e){Object(p["i"])(e,o,c["v"],h["a"],r.value,y["b"])},b=Object(c["e"])((function(){return a.value}));return{allsongs:r,playCount:p["h"],play:u,myMixin:g,load:l,router:i,playaudiorule:p["i"]}}},w=(n("edcd"),n("6b0d")),x=n.n(w);const C=x()(k,[["render",j],["__scopeId","data-v-51fe518a"]]);t["a"]=C},a15b:function(e,t,n){"use strict";var c=n("23e7"),s=n("e330"),a=n("44ad"),r=n("fc6a"),i=n("a640"),o=s([].join),l=a!=Object,u=i("join",",");c({target:"Array",proto:!0,forced:l||!u},{join:function(e){return o(r(this),void 0===e?",":e)}})},a1da:function(e,t,n){"use strict";n.r(t);n("b0c0"),n("a4d3"),n("e01a");var c=n("7a23"),s=function(e){return Object(c["J"])("data-v-66b8d30e"),e=e(),Object(c["H"])(),e},a={class:"songdata"},r=["src"],i={class:"Songcontent"},o={class:"left"},l={class:"count"},u={class:"right info"},b={class:"userdatas"},d=Object(c["l"])("关注"),j={class:"params"},O={class:"title"},g=s((function(){return Object(c["j"])("div",{class:"playallinfo"},"播放全部",-1)})),p={class:"wrapper"},f={class:"block"},m={style:{"text-align":"center"}},v=s((function(){return Object(c["j"])("br",null,null,-1)})),h={class:"titless"},y=s((function(){return Object(c["j"])("br",null,null,-1)})),k=s((function(){return Object(c["j"])("div",{class:"van-hairline--bottom",style:{width:"95vw",margin:"0 auto","margin-top":"30px","margin-bottom":"20px"}},null,-1)})),w={style:{width:"95vw",height:"auto",margin:"0 auto","margin-top":"50px","margin-bottom":"20px",color:"#dfdfdf"}},x=Object(c["l"])(" 标签: ");function C(e,t,n,s,C,I){var z=Object(c["Q"])("van-icon"),V=Object(c["Q"])("van-nav-bar"),G=Object(c["Q"])("van-loading"),_=Object(c["Q"])("van-image"),Q=Object(c["Q"])("van-button"),R=Object(c["Q"])("van-overlay"),L=Object(c["Q"])("Playall");return Object(c["G"])(),Object(c["g"])(c["d"],{name:"slide-fade"},{default:Object(c["eb"])((function(){return[Object(c["j"])("div",{class:"index",onScroll:t[6]||(t[6]=function(){return s.scroll&&s.scroll.apply(s,arguments)})},[Object(c["m"])(V,{border:!1,fixed:"",onClickLeft:s.onClickLeft,title:s.title?s.songsdata.songs.name:"歌单"},{left:Object(c["eb"])((function(){return[Object(c["m"])(z,{name:"arrow-left",size:"23",color:"#ccc"})]})),right:Object(c["eb"])((function(){return[Object(c["m"])(z,{name:"ellipsis",size:"23",color:"#ccc"})]})),_:1},8,["onClickLeft","title"]),Object(c["j"])("div",a,[Object(c["j"])("img",{class:"img",src:s.songsdata.songs.coverImgUrl,alt:""},null,8,r),Object(c["j"])("div",i,[Object(c["j"])("div",o,[Object(c["m"])(_,{width:"130",height:"130",radius:"15",src:s.songsdata.songs.coverImgUrl,onClick:t[0]||(t[0]=function(e){return s.show=!0})},{loading:Object(c["eb"])((function(){return[Object(c["m"])(G,{type:"spinner",size:"20",color:"#000"})]})),_:1},8,["src"]),Object(c["j"])("span",l,Object(c["V"])(s.playCount(s.songsdata.songs.playCount)),1)]),Object(c["j"])("div",u,[Object(c["j"])("div",{class:"titless",onClick:t[1]||(t[1]=function(e){return s.show=!0})},Object(c["V"])(s.songsdata.songs.name),1),Object(c["j"])("div",b,[Object(c["m"])(_,{width:"25",height:"25",fit:"cover",radius:"50%",src:s.songsdata.creator.avatarUrl},{loading:Object(c["eb"])((function(){return[Object(c["m"])(G,{type:"spinner",size:"10",color:"#000"})]})),_:1},8,["src"]),Object(c["j"])("p",{class:"username",onClick:t[2]||(t[2]=function(e){return s.router.push({name:"user",params:{id:s.songsdata.creator.userId}})})},Object(c["V"])(s.songsdata.creator.nickname),1),s.songsdata.creator.userId!==s.store.state.profile.userId?(Object(c["G"])(),Object(c["g"])(Q,{key:0,type:"primary",color:"red",size:"mini",icon:"add-o",round:""},{default:Object(c["eb"])((function(){return[d]})),_:1})):Object(c["h"])("",!0)]),Object(c["j"])("div",{class:"describe van-ellipsis",onClick:t[3]||(t[3]=function(e){return s.show=!0})},Object(c["V"])(s.songsdata.songs.description),1)])])]),Object(c["j"])("div",j,[Object(c["j"])("div",null,[Object(c["m"])(Q,{type:"primary",disabled:s.songsdata.creator.userId===s.store.state.profile.userId,size:"mini"},{default:Object(c["eb"])((function(){return[Object(c["m"])(z,{name:s.songsdata.songs.subscribed||s.songsdata.creator.userId===s.store.state.profile.userId?"success":"add-o",type:"primary",onClick:s.issubscrib,color:"#323233",size:"20"},null,8,["name","onClick"])]})),_:1},8,["disabled"]),Object(c["j"])("div",null,Object(c["V"])(s.playCount(s.songsdata.songs.subscribedCount)),1)]),Object(c["j"])("div",{onClick:t[4]||(t[4]=function(){return s.tocommnts&&s.tocommnts.apply(s,arguments)})},[Object(c["m"])(z,{name:"chat-o",size:"20"}),Object(c["j"])("div",null,Object(c["V"])(s.playCount(s.songsdata.songs.commentCount)),1)]),Object(c["j"])("div",null,[Object(c["m"])(z,{name:"share-o",size:"20"}),Object(c["j"])("div",null,Object(c["V"])(s.playCount(s.songsdata.songs.shareCount)),1)])]),Object(c["j"])("div",O,[Object(c["m"])(z,{name:"play-circle-o",size:"28",color:"red"}),g,Object(c["j"])("div",null,"("+Object(c["V"])(s.playCount(s.songsdata.length))+"首)",1)]),Object(c["m"])(R,{show:s.show,onClick:t[5]||(t[5]=function(e){return s.show=!1}),"z-index":"9999","lock-scroll":!1},{default:Object(c["eb"])((function(){return[Object(c["j"])("div",p,[Object(c["j"])("div",f,[Object(c["j"])("div",m,[Object(c["m"])(_,{width:"100vw",height:"100vh",style:{filter:"blur(40px)",left:"0",position:"absolute","z-index":"-1"},fit:"cover",src:s.songsdata.songs.coverImgUrl},null,8,["src"]),Object(c["m"])(_,{width:"130",height:"130",radius:"15",style:{"margin-top":"80px","margin-bottom":"30px"},src:s.songsdata.songs.coverImgUrl},null,8,["src"]),v,Object(c["j"])("span",h,Object(c["V"])(s.songsdata.songs.name),1),y,k]),Object(c["j"])("div",w,[x,(Object(c["G"])(!0),Object(c["i"])(c["a"],null,Object(c["O"])(s.songsdata.tags,(function(e,t){return Object(c["G"])(),Object(c["i"])("span",{class:"label",key:t},Object(c["V"])(e),1)})),128))]),(Object(c["G"])(!0),Object(c["i"])(c["a"],null,Object(c["O"])(s.songsdata.description,(function(e,t){return Object(c["G"])(),Object(c["i"])("p",{key:t,style:{color:"#dfdfdf","margin-left":"10px"}},Object(c["V"])(e),1)})),128))])])]})),_:1},8,["show"]),Object(c["m"])(L,{songsdata:s.songsdata,onLength:s.length},null,8,["songsdata","onLength"])],32)]})),_:1})}var I=n("7580"),z=(n("ac1f"),n("1276"),n("96cf"),n("5e04")),V=n("23e3"),G=n("5502"),_=n("7e29"),Q=n("6c02"),R=n("75e6"),L=n("626a"),M={name:"playlistid",components:{Playall:z["a"]},setup:function(e,t){var n=t.attrs,s=Object(c["K"])({songs:{},creator:{},trackIds:[],length:0,time:null,tags:[],description:""}),a=Object(c["M"])(!1),r=Object(Q["d"])(),i=Object(Q["c"])(),o=Object(G["b"])(),l=Object(c["M"])(!1),u=JSON.parse(localStorage.getItem("profile")),b=function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!s.songs.subscribed){e.next=4;break}R["a"].confirm({confirmButtonText:"取消收藏",message:"确定要取消收藏该歌单吗?"}).then(Object(I["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(V["h"])({t:s.songs.subscribed?2:1,id:s.creator.userId});case 2:t=e.sent,t.data,s.songs.subscribed=!s.songs.subscribed,s.songs.subscribed?Object(L["a"])("歌单已收藏"):Object(L["a"])("取消收藏");case 6:case"end":return e.stop()}}),e)})))).catch((function(){})),e.next=10;break;case 4:return e.next=6,Object(V["h"])({t:s.songs.subscribed?2:1,id:s.creator.userId});case 6:t=e.sent,t.data,s.songs.subscribed=!s.songs.subscribed,s.songs.subscribed?Object(L["a"])("歌单已收藏"):Object(L["a"])("取消收藏");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(e){e.target.scrollTop>80?l.value=!0:l.value=!1},j=function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.dispatch("setflag",2),r.push({name:"comments",params:{id:n.id}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){r.back()},g=function(e){s.length=e};return Object(c["D"])(Object(I["a"])(regeneratorRuntime.mark((function e(){var t,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.dispatch("setplaylistID",n.id),e.next=3,Object(V["g"])({id:n.id,offset:1});case 3:if(t=e.sent,c=t.data,e.prev=5,s.songs=c.playlist,s.creator=c.playlist.creator,s.trackIds=c.playlist.trackIds,s.tags=c.playlist.tags,c.playlist.description){e.next=12;break}return e.abrupt("return");case 12:s.description=c.playlist.description.split("\n"),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),L["a"].fail("加载失败,歌曲也许太多了");case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))),{onClickLeft:O,songsdata:s,playCount:_["h"],router:r,route:i,scroll:d,store:o,length:g,attrs:n,tocommnts:j,show:a,cookie:u,issubscrib:b,title:l}}},U=(n("eb4c"),n("6b0d")),J=n.n(U);const S=J()(M,[["render",C],["__scopeId","data-v-66b8d30e"]]);t["default"]=S},eb4c:function(e,t,n){"use strict";n("035f")},edcd:function(e,t,n){"use strict";n("1840")}}]);
//# sourceMappingURL=chunk-9a8e80d2.1cb943db.js.map