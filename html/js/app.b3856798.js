(function(e){function t(t){for(var a,c,i=t[0],s=t[1],u=t[2],l=0,d=[];l<i.length;l++)c=i[l],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);b&&b(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var i=n[c];0!==o[i]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},c={app:0},o={app:0},r=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-089c94e1":"a45e12aa","chunk-0911de4f":"f456d496","chunk-1f6a01a5":"dc30cff8","chunk-2844e71c":"c4306006","chunk-2d0ae8fc":"cc5f2e85","chunk-3b16ea78":"45ec88c2","chunk-23a92288":"2766cfff","chunk-4045ca9b":"902d3bae","chunk-51780c94":"84a0ac54","chunk-5f292c0a":"5c1c3da8","chunk-5f97fbfe":"3222cbb1","chunk-a9084636":"17af80a8","chunk-c03fbc1e":"658c10e0","chunk-d786745c":"03de3edf"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-089c94e1":1,"chunk-0911de4f":1,"chunk-1f6a01a5":1,"chunk-2844e71c":1,"chunk-3b16ea78":1,"chunk-23a92288":1,"chunk-4045ca9b":1,"chunk-51780c94":1,"chunk-5f292c0a":1,"chunk-5f97fbfe":1,"chunk-a9084636":1,"chunk-c03fbc1e":1,"chunk-d786745c":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-089c94e1":"d6717706","chunk-0911de4f":"30a5444b","chunk-1f6a01a5":"93b1003b","chunk-2844e71c":"7b59fe64","chunk-2d0ae8fc":"31d6cfe0","chunk-3b16ea78":"825bbf8b","chunk-23a92288":"8fa49b68","chunk-4045ca9b":"e9262db3","chunk-51780c94":"56b3b68f","chunk-5f292c0a":"a745a8a8","chunk-5f97fbfe":"c9eccb57","chunk-a9084636":"a6591b50","chunk-c03fbc1e":"1f42a4d0","chunk-d786745c":"5e026510"}[e]+".css",o=s.p+a,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var u=r[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===a||l===o)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var a=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete c[e],b.parentNode.removeChild(b),n(r)},b.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(b)})).then((function(){c[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=r);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(b);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+c+")",d.name="ChunkLoadError",d.type=a,d.request=c,n[1](d)}o[e]=void 0}};var b=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var b=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0463":function(e,t,n){"use strict";n("4940")},"04e7":function(e,t,n){},"162e":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),c={class:"layout"};function o(e,t,n,o,r,i){var s=Object(a["Q"])("van-tabbar-item"),u=Object(a["Q"])("van-tabbar"),l=Object(a["Q"])("router-view");return Object(a["G"])(),Object(a["g"])(a["d"],{name:"slide-fade"},{default:Object(a["eb"])((function(){return[Object(a["j"])("div",c,[Object(a["m"])(u,{modelValue:o.active,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.active=e}),"active-color":"#ee0a24","z-index":"-99"},{default:Object(a["eb"])((function(){return[(Object(a["G"])(!0),Object(a["i"])(a["a"],null,Object(a["O"])(o.routerlist,(function(e,t){return Object(a["G"])(),Object(a["g"])(s,{key:t,to:e.router,icon:e.iconname},{default:Object(a["eb"])((function(){return[Object(a["l"])(Object(a["V"])(e.routername),1)]})),_:2},1032,["to","icon"])})),128))]})),_:1},8,["modelValue"]),Object(a["m"])(l)])]})),_:1})}var r=n("6c02"),i={components:{Audio:Audio},name:"layout",setup:function(){var e=Object(r["c"])(),t=Object(a["M"])(),n=Object(a["K"])([{router:"/",iconname:"home-o",routername:"发现"},{router:"/my",iconname:"service-o",routername:"我的"},{router:"/follow",iconname:"friends-o",routername:"关注"},{router:"/Videosquare",iconname:"live",routername:"视频"}]);return Object(a["bb"])((function(){return e}),(function(e,n){switch(e.path){case"/":t.value=0;break;case"/my":t.value=1;break;case"/follow":t.value=2;break;case"/Videosquare":t.value=3;break;default:t.value=0}}),{deep:!0,immediate:!0}),{active:t,routerlist:n}}},s=(n("5d6f"),n("6b0d")),u=n.n(s);const l=u()(i,[["render",o],["__scopeId","data-v-c5b2cb08"]]);t["default"]=l},"1afa":function(e,t,n){},2142:function(e,t,n){"use strict";n("04e7")},"21bd":function(e,t,n){},"23e3":function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d}));var a=n("6d75"),c=function(e){return Object(a["a"])({method:"GET",url:"/playlist/detail",params:e})},o=function(e){return Object(a["a"])({method:"GET",url:"song/detail",params:e})},r=function(e){return Object(a["a"])({method:"GET",url:"/lyric",params:e})},i=function(e){return Object(a["a"])({method:"GET",url:"/album",params:e})},s=function(e){return Object(a["a"])({method:"GET",url:"/album/detail",params:e})},u=function(e){return Object(a["a"])({method:"GET",url:"/playlist/subscribe",params:e})},l=function(e){return Object(a["a"])({method:"GET",url:"/playmode/intelligence/list",params:e})},d=function(e){return Object(a["a"])({method:"GET",url:"/check/music",params:e})}},4360:function(e,t,n){"use strict";var a=n("0bd7"),c=(n("a434"),n("5502"));t["a"]=Object(c["a"])({state:{songlist:[],isplay:!1,audio:null,curret:null,playmodel:0,profile:JSON.parse(localStorage.getItem("profile"))||{},flag:0,videolist:[],videocurret:0,audioshow:!1,playlistID:null,theme:"dark"},mutations:{setisplay:function(e){e.isplay=!e.isplay},setaudio:function(e,t){e.audio=t},setsonglist:function(e,t){e.songlist=t},setcurret:function(e,t){e.curret=t},setprofile:function(e,t){e.profile=t},setflag:function(e,t){e.flag=t},setplaymodel:function(e,t){e.playmodel=t},setvideolist:function(e,t){e.videolist=t},setvideocurret:function(e,t){e.videocurret=t},setaudioshow:function(e){var t=e.audioshow;t=!t},setplaylistID:function(e,t){e.playlistID=t},setremove:function(e,t){e.songlist.splice(t,1)},pushsonglist:function(e,t){var n;(n=e.songlist).push.apply(n,Object(a["a"])(t))},changetheme:function(e,t){e.theme=t}},actions:{setisplay:function(e){e.commit("setisplay")},setaudio:function(e,t){e.commit("setaudio",t)},setsonglist:function(e,t){e.commit("setsonglist",t)},setsetcurret:function(e,t){e.commit("setcurret",t)},setprofile:function(e,t){e.commit("setprofile",t)},setflag:function(e,t){e.commit("setflag",t)},setplaymodel:function(e,t){e.commit("setplaymodel",t)},setvideocurret:function(e,t){e.commit("setvideocurret",t)},setaudioshow:function(e){var t=e.commit;t("setaudioshow")},setplaylistID:function(e,t){var n=e.commit;n("setplaylistID",t)},setremove:function(e,t){var n=e.commit;n("setremove",t)},pushsonglist:function(e,t){var n=e.commit;n("pushsonglist",t)},changetheme:function(e,t){var n=e.commit;n("changetheme",t)}},modules:{}})},4940:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function c(e,t,n,c,o,r){var i=Object(a["Q"])("router-view");return Object(a["G"])(),Object(a["g"])(i,null,{default:Object(a["eb"])((function(e){var t=e.Component;return[Object(a["m"])(a["d"],{name:"slide-fade"},{default:Object(a["eb"])((function(){return[c.route.meta.keepAlive?(Object(a["G"])(),Object(a["g"])(a["b"],{key:0,max:5,include:""},[(Object(a["G"])(),Object(a["g"])(Object(a["S"])(t),{class:"child-view"}))],1024)):(Object(a["G"])(),Object(a["g"])(Object(a["S"])(t),{key:1,class:"child-view"}))]})),_:2},1024),"/login"!==c.route.path?(Object(a["G"])(),Object(a["g"])(a["b"],{key:0},[(Object(a["G"])(),Object(a["g"])(Object(a["S"])("Audio")))],1024)):Object(a["h"])("",!0)]})),_:1})}n("33d1"),n("ea98");var o=n("162e"),r=(n("99af"),n("b0c0"),["src"]),i={class:"controls"},s={class:"left"},u={class:"songname van-ellipsis"},l={class:"right"};function d(e,t,n,c,o,d){var b=Object(a["Q"])("van-loading"),f=Object(a["Q"])("van-image"),p=Object(a["Q"])("van-icon"),m=Object(a["Q"])("Info"),h=Object(a["Q"])("van-popup"),j=Object(a["Q"])("Playlist");return Object(a["G"])(),Object(a["i"])("div",{class:"audio",onClick:t[11]||(t[11]=function(){return c.showPopup&&c.showPopup.apply(c,arguments)})},[Object(a["j"])("audio",{ref:"audio",onTimeupdate:t[0]||(t[0]=function(){return c.onTimeupdate&&c.onTimeupdate.apply(c,arguments)}),onError:t[1]||(t[1]=function(){return c.error&&c.error.apply(c,arguments)}),src:0!==c.useStore().state.songlist.length?"https://music.163.com/song/media/outer/url?id=".concat(c.store.state.songlist[c.store.state.curret].id,".mp3"):"",onPlaying:t[2]||(t[2]=function(){return c.playing&&c.playing.apply(c,arguments)}),onEnded:t[3]||(t[3]=function(){return c.ended&&c.ended.apply(c,arguments)}),onWaiting:t[4]||(t[4]=function(){return c.waiting&&c.waiting.apply(c,arguments)}),onLoadedmetadata:t[5]||(t[5]=function(){return c.loadedmetadata&&c.loadedmetadata.apply(c,arguments)}),onCanplay:t[6]||(t[6]=function(){return c.canplay&&c.canplay.apply(c,arguments)})},null,40,r),Object(a["j"])("div",i,[Object(a["j"])("div",s,[Object(a["m"])(f,{width:"6vh",height:"6vh",round:"",fit:"cover",class:Object(a["w"])(["rotateimg",c.store.state.isplay&&c.store.state.audio.played&&4===c.store.state.audio.readyState?"active":""]),src:0!==c.useStore().state.songlist.length?c.useStore().state.songlist[c.useStore().state.curret].al.picUrl:"http://p3.music.126.net/tBTNafgjNnTL1KlZMt7lVA==/18885211718935735.jpg"},{loading:Object(a["eb"])((function(){return[Object(a["m"])(b,{type:"spinner",size:"10",color:"#000"})]})),_:1},8,["class","src"]),Object(a["j"])("span",u,Object(a["V"])(0!==c.useStore().state.songlist.length?"".concat(c.store.state.songlist[c.store.state.curret].name,"-").concat(c.store.state.songlist[c.store.state.curret].ar[0].name):"网易云音乐"),1)]),Object(a["j"])("div",l,[Object(a["m"])(p,{name:c.useStore().state.isplay?"pause-circle-o":"play-circle-o",size:"28",onClick:Object(a["hb"])(c.play,["stop"])},null,8,["name","onClick"]),Object(a["m"])(p,{name:"bars",size:"28",onClick:t[7]||(t[7]=Object(a["hb"])((function(e){return c.playlist=!c.playlist}),["stop"]))})])]),Object(a["m"])(h,{show:c.show,"onUpdate:show":t[9]||(t[9]=function(e){return c.show=e}),position:"bottom",style:{height:"100%"},teleport:"body"},{default:Object(a["eb"])((function(){return[Object(a["m"])(m,{show:c.show,onChangeshow:c.changeshow,currentTime:c.currentTime,duration:c.duration,play:c.play,modelValue:c.currentTime,"onUpdate:modelValue":t[8]||(t[8]=function(e){return c.currentTime=e}),onPlaystate:c.playstate},null,8,["show","onChangeshow","currentTime","duration","play","modelValue","onPlaystate"])]})),_:1},8,["show"]),Object(a["m"])(h,{show:c.playlist,"onUpdate:show":t[10]||(t[10]=function(e){return c.playlist=e}),position:"bottom",style:{height:"70%",width:"95%",margin:"0 0 0 10px"},teleport:"body",round:""},{default:Object(a["eb"])((function(){return[Object(a["m"])(j)]})),_:1},8,["show"])])}n("b680");var b={class:"info"},f={class:"components"},p={class:"time"},m={class:"time"};function h(e,t,n,c,o,r){var i=Object(a["Q"])("van-icon"),s=Object(a["Q"])("van-nav-bar"),u=Object(a["Q"])("van-image"),l=Object(a["Q"])("van-loading"),d=Object(a["Q"])("van-slider");return Object(a["G"])(),Object(a["i"])("div",b,[Object(a["m"])(s,{border:!1,fixed:!0,title:"".concat(c.store.state.songlist[c.store.state.curret].name,"-").concat(c.store.state.songlist[c.store.state.curret].ar[0].name),onClickLeft:c.changeshow,onClickRight:c.onClickRight},{left:Object(a["eb"])((function(){return[Object(a["m"])(i,{name:"arrow-down",color:"#323233",size:"32"})]})),right:Object(a["eb"])((function(){return[Object(a["m"])(i,{name:"share-o",size:"32",color:"#323233"})]})),_:1},8,["title","onClickLeft","onClickRight"]),Object(a["m"])(u,{width:"100vw",height:"100vh",fit:"cover",class:"bgimg",src:c.store.state.songlist[c.store.state.curret].al.picUrl},null,8,["src"]),Object(a["fb"])(Object(a["m"])(u,{width:"200px",height:"200px",round:"",fit:"cover",class:Object(a["w"])(["rotateimg",c.store.state.isplay&&c.store.state.audio.played&&4==c.store.state.audio.readyState?"active":""]),src:c.store.state.songlist[c.store.state.curret].al.picUrl,onClick:t[0]||(t[0]=function(e){return c.lyricsshow=!c.lyricsshow})},{loading:Object(a["eb"])((function(){return[Object(a["m"])(l,{type:"spinner",size:"20",color:"#000"})]})),_:1},8,["class","src"]),[[a["ab"],!c.lyricsshow]]),Object(a["fb"])(Object(a["j"])("div",{class:"lyrics",onClick:t[1]||(t[1]=function(e){return c.lyricsshow=!c.lyricsshow})},[(Object(a["G"])(!0),Object(a["i"])(a["a"],null,Object(a["O"])(c.lyric.value,(function(e,t){return Object(a["G"])(),Object(a["i"])("p",{key:t,class:Object(a["w"])(c.attrs.currentTime>=c.lyric.key[t]&&c.attrs.currentTime<c.lyric.key[t+1]?"actives":"")},Object(a["V"])(e[1]),3)})),128))],512),[[a["ab"],c.lyricsshow]]),Object(a["j"])("ul",f,[Object(a["j"])("li",null,[Object(a["m"])(i,{name:"like-o",size:"32",color:"rgb(50,50,51)"}),Object(a["m"])(i,{name:"down",size:"28",color:"rgb(50,50,51)"}),Object(a["m"])(i,{name:"chat-o",size:"32",color:"rgb(50,50,51)",onClick:c.tocommnts},null,8,["onClick"]),Object(a["m"])(i,{name:"ellipsis",size:"32",color:"rgb(50,50,51)"})]),Object(a["j"])("li",null,[Object(a["j"])("div",p,Object(a["V"])(c.realFormatSecond(c.attrs.currentTime)),1),Object(a["m"])(d,{class:"time",modelValue:c.value,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return c.value=e}),c.modelvalue],onChange:c.onChange,"button-size":"12",min:0,max:c.attrs.duration},null,8,["modelValue","onChange","max","onUpdate:modelValue"]),Object(a["j"])("div",m,Object(a["V"])(c.realFormatSecond(c.attrs.duration)),1)]),Object(a["j"])("li",null,[0===c.store.state.playmodel?(Object(a["G"])(),Object(a["g"])(i,{key:0,name:"replay",size:"28",color:"rgb(50,50,51)",onClick:c.playstyle},null,8,["onClick"])):1===c.store.state.playmodel?(Object(a["G"])(),Object(a["g"])(i,{key:1,name:"circle",size:"32",color:"rgb(50,50,51)",onClick:c.playstyle},null,8,["onClick"])):2===c.store.state.playmodel?(Object(a["G"])(),Object(a["g"])(i,{key:2,name:"exchange",size:"32",color:"rgb(50,50,51)",onClick:c.playstyle},null,8,["onClick"])):(Object(a["G"])(),Object(a["g"])(i,{key:3,name:"like-o",size:"32",color:"rgb(50,50,51)",onClick:c.playstyle},null,8,["onClick"])),Object(a["m"])(i,{name:"arrow-left",size:"32",color:"rgb(50,50,51)",onClick:t[3]||(t[3]=function(e){return c.switchsong(-1)})}),Object(a["m"])(i,{name:c.store.state.isplay?"pause-circle-o":"play-circle-o",size:"52",color:"rgb(50,50,51)",onClick:t[4]||(t[4]=function(e){return c.attrs.play()})},null,8,["name"]),Object(a["m"])(i,{name:"arrow",size:"32",color:"rgb(50,50,51)",onClick:t[5]||(t[5]=function(e){return c.switchsong(1)})}),Object(a["m"])(i,{name:"bars",size:"32",color:"rgb(50,50,51)",onClick:t[6]||(t[6]=Object(a["hb"])((function(e){return c.emit("playstate")}),["stop"]))})])])])}var j=n("2fe6"),O=n("7580"),y=(n("a9e3"),n("96cf"),n("23e3")),g=n("7e29"),v=n("d6e4"),k=n("626a"),w=n("5502"),C=n("6c02"),T={setup:function(e,t){var n,c=t.attrs,o=t.emit,r=Object(w["b"])(),i=Object(a["M"])(0),s=Object(a["K"])({value:null,key:[]}),u=Object(C["d"])(),l=Object(a["e"])((function(){return r.state.songlist[r.state.curret].id})),d=Object(a["M"])(!1),b=function(){r.dispatch("setflag",0),u.push({name:"comments",params:{id:r.state.songlist[r.state.curret].id}})};Object(a["bb"])((function(){return l}),function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(y["e"])({id:t.value});case 2:a=e.sent,a.data;case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),{deep:!0});var f=function(){o("changeshow",!c.show)};Object(a["bb"])((function(){return c.currentTime}),(function(){i.value=Number(c.currentTime),document.querySelector(".actives")&&(document.querySelector(".lyrics").scrollTop=document.querySelector(".actives").offsetTop-150)})),Object(a["bb"])((function(){return l.value}),function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t){var n,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(y["f"])({id:t});case 2:n=e.sent,a=n.data,c=Object(g["g"])(a),s.value=c.result,s.key=c.key;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{immediate:!0});var p=function(e){if(r.state.songlist.length!==r.state.curret+e){if(0>r.state.curret+e)return Object(v["a"])({background:"#7232dd",message:"没有上一首咯"}),void documenM;r.dispatch("setsetcurret",r.state.curret+e),Object(a["v"])((function(){r.state.audio.play()}))}else Object(v["a"])({background:"#7232dd",message:"没有下一首咯"})},m=function(){0===r.state.playmodel?(r.dispatch("setplaymodel",1),Object(v["a"])({background:"pink",message:"随机播放"})):1===r.state.playmodel?(r.dispatch("setplaymodel",2),r.state.audio.loop=!0,Object(v["a"])({background:"#ff6700",message:"循环播放"})):2===r.state.playmodel?(r.state.audio.loop=!1,r.dispatch("setplaymodel",3),Object(v["a"])({background:"#ff6700",message:"心动模式"})):(r.dispatch("setplaymodel",0),Object(v["a"])({background:"#ff6700",message:"列表循环"}))},h=function(){Object(k["a"])("分享事件")},T=function(e){},S=function(e){r.state.audio.currentTime=e};return n={playstyle:m,changeshow:f,onClickRight:h,attrs:c,store:r,value:i,onChange:S,router:u},Object(j["a"])(n,"attrs",c),Object(j["a"])(n,"realFormatSecond",g["k"]),Object(j["a"])(n,"switchsong",p),Object(j["a"])(n,"modelvalue",T),Object(j["a"])(n,"lyricsshow",d),Object(j["a"])(n,"lyric",s),Object(j["a"])(n,"debounce",g["c"]),Object(j["a"])(n,"tocommnts",b),Object(j["a"])(n,"emit",o),Object(j["a"])(n,"playId",l),n}},S=(n("63d9"),n("6b0d")),G=n.n(S);const z=G()(T,[["render",h],["__scopeId","data-v-40324ab1"]]);var A=z,_={class:"playlist"},x={class:"title"},V=Object(a["l"])(" 播放列表 "),E={class:"num"},M={class:"icon"},P={class:"model"},I={class:"list"},Q={class:"content"},q=["onClick"],U={class:"songname"},F=Object(a["l"])("- ");function L(e,t,n,c,o,r){var i=Object(a["Q"])("van-icon");return Object(a["G"])(),Object(a["i"])("div",_,[Object(a["j"])("h3",x,[V,Object(a["j"])("span",E,"("+Object(a["V"])(c.playlist.length)+") ",1)]),Object(a["j"])("div",M,[Object(a["j"])("div",P,[0===c.store.state.playmodel?(Object(a["G"])(),Object(a["g"])(i,{key:0,name:"replay",size:"15",color:"#bfbfbf"})):1===c.store.state.playmodel?(Object(a["G"])(),Object(a["g"])(i,{key:1,name:"circle",size:"15",color:"#bfbfbf"})):2===c.store.state.playmodel?(Object(a["G"])(),Object(a["g"])(i,{key:2,name:"exchange",size:"15",color:"#bfbfbf"})):(Object(a["G"])(),Object(a["g"])(i,{key:3,name:"like-o",size:"15",color:"#bfbfbf"})),Object(a["l"])(" "+Object(a["V"])(c.playstyle),1)]),Object(a["j"])("div",I,[Object(a["m"])(i,{name:"down",size:"20",color:"#bfbfbf"}),Object(a["m"])(i,{name:"add-o",color:"#bfbfbf",size:"20"}),Object(a["m"])(i,{name:"delete-o",size:"20",color:"#bfbfbf",onClick:c.deletes},null,8,["onClick"])])]),Object(a["j"])("div",Q,[(Object(a["G"])(!0),Object(a["i"])(a["a"],null,Object(a["O"])(c.playlist,(function(e,t){return Object(a["G"])(),Object(a["i"])("div",{class:"item",key:t,onClick:function(e){return c.play(t)}},[Object(a["j"])("div",{class:Object(a["w"])(["van-ellipsis itemtitle",{active:c.store.state.curret===t}])},[c.store.state.curret===t?(Object(a["G"])(),Object(a["g"])(i,{key:0,name:"music-o",color:"red",size:"18"})):Object(a["h"])("",!0),Object(a["j"])("span",U,Object(a["V"])(e.name),1),F,Object(a["j"])("span",{class:Object(a["w"])(["singer",{active:c.store.state.curret===t}])},Object(a["V"])(e.ar[0].name),3)],2),Object(a["m"])(i,{name:"cross",color:"#bfbfbf",size:"20",onClick:Object(a["hb"])((function(e){return c.remove(t)}),["stop"])},null,8,["onClick"])],8,q)})),128))])])}var N=n("75e6"),R={name:"playist",setup:function(){var e=Object(w["b"])(),t=Object(a["e"])((function(){return e.state.songlist})),n=Object(a["e"])((function(){return e.state.songlist[e.state.curret].id})),c=function(t){e.state.songlist.length&&e.state.audio.played&&t===e.state.curret&&show.value||(k["a"].loading({message:"加载中...",forbidClick:!0,loadingType:"spinner"}),e.state.audio.paused?(e.dispatch("setsetcurret",t),show.value=!show.value,Object(a["v"])((function(){e.state.audio.play(),e.dispatch("setisplay"),e.state.isplay&&4==e.state.audio.readyState&&k["a"].clear({clearAll:!0})}))):(Object(a["v"])((function(){e.dispatch("setisplay"),e.state.audio.pause()})),e.dispatch("setsetcurret",t),Object(a["v"])((function(){e.state.audio.play(),e.state.audio.played&&(e.dispatch("setisplay"),k["a"].clear({clearAll:!0}))}))))},o=function(){N["a"].confirm({message:"确定要清空播放列表吗？"}).then((function(){e.dispatch("setsonglist",[])})).catch((function(){}))},r=Object(a["e"])((function(){return 0===e.state.playmodel?"列表循环":1===e.state.playmodel?"随机播放":2===e.state.playmodel?"单曲循环":"心动模式"})),i=function(t){e.dispatch("setremove",t)};return{playlist:t,store:e,play:c,remove:i,playstyle:r,deletes:o,playId:n,playaudiorule:g["i"]}}};n("a033");const D=G()(R,[["render",L],["__scopeId","data-v-acfb92a2"]]);var B=D,J=n("cd4f"),K={name:"Audio",components:{Info:A,Playlist:B},setup:function(e,t){t.emit;var n=Object(a["M"])(null),c=Object(a["M"])(0),o=Object(a["M"])(0),r=Object(w["b"])(),i=Object(a["M"])(!1),s=function(){r.state.songlist.length&&(J["b"].value=!0)},u=function(){i.value=!i.value},l=function(e){J["b"].value=e},d=function(){k["a"].clear()},b=function(){r.dispatch("setisplay"),r.state.isplay&&4==r.state.audio.readyState?r.state.audio.play():r.state.audio.pause()},f=function(){Object(a["v"])((function(){r.dispatch("setisplay"),r.state.audio.pause()})),r.state.songlist.length<r.state.curret+2?k["a"].fail("没有下一首咯"):(k["a"].loading({message:"加载中...",forbidClick:!0,loadingType:"spinner"}),0===r.state.playmodel?r.commit("setcurret",r.state.curret+1):1===r.state.playmodel?r.commit("setcurret",Object(g["j"])(0,r.state.songlist.length-1)):r.commit("setcurret",r.state.curret),Object(a["v"])((function(){r.state.audio.play(),r.state.audio.played&&(r.dispatch("setisplay"),k["a"].clear({clearAll:!0}))})))},p=function(e){!1===r.state.isplay&&r.dispatch("setisplay")},m=function(){k["a"].loading({message:"加载中...",forbidClick:!0,loadingType:"spinner"})},h=function(e){o.value=e.target.duration},j=function(){0!==r.state.songlist.length&&(k["a"].fail("此歌曲暂不能播放"),r.dispatch("setisplay"),Object(a["v"])((function(){r.state.audio.pause()})),r.dispatch("setsetcurret",r.state.curret+1),r.dispatch("setisplay"),Object(a["v"])((function(){r.state.audio.play()})))};Object(a["cb"])((function(){r.dispatch("setaudio",n)}));var O=function(e){c.value=e.target.currentTime.toFixed(2)};return{play:b,onTimeupdate:O,audio:n,useStore:w["b"],ended:f,random:g["j"],store:r,error:j,currentTime:c,show:J["b"],showPopup:s,changeshow:l,playing:p,waiting:m,loadedmetadata:h,duration:o,playlist:i,canplay:d,playstate:u}}};n("0463");const H=G()(K,[["render",d]]);var W=H,Z=n("f465"),X={components:{Audio:W,Layout:o["default"]},name:"App",setup:function(){var e=Object(C["c"])(),t=Object(w["b"])(),n=Object(Z["o"])(),c=n.width,o=function(){k["a"].fail("请切换手机模式浏览！！！")};return Object(a["bb"])((function(){return c.value}),(function(e){e>500&&Object(g["c"])(o,500)}),{immediate:!0}),Object(a["bb"])(e,(function(e){switch(t.state.isplay&&("v"===e.path.at(1)&&"o"===e.path.at(5)||"/login"===e.path)&&(t.dispatch("setisplay",!t.state.isplay),t.state.audio.pause()),e.path){case"/":Object(a["v"])((function(){Object(g["b"])()}));break;case"/login":break;case"/my":Object(a["v"])((function(){Object(g["b"])()}));break;case"/follow":Object(g["b"])();break;case"/Videosquare":Object(g["b"])();break;default:Object(a["v"])((function(){Object(g["e"])()}))}})),{route:e,store:t,width:c}}};n("2142");const Y=G()(X,[["render",c],["__scopeId","data-v-5cb53abb"]]);var $=Y,ee=(n("d3b7"),n("3ca3"),n("ddb0"),n("ac1f"),n("1276"),[{path:"/",name:"layout",meta:{keepAlive:!0},component:function(){return Promise.resolve().then(n.bind(null,"162e"))},children:[{path:"/",name:"find",component:function(){return n.e("chunk-2844e71c").then(n.bind(null,"9f44"))},meta:{keepAlive:!0}},{path:"/my",name:"my",component:function(){return n.e("chunk-5f292c0a").then(n.bind(null,"9639"))},meta:{keepAlive:!0}},{path:"/Videosquare",name:"Videosquare",component:function(){return n.e("chunk-0911de4f").then(n.bind(null,"7b79"))},props:!0,meta:{transition:"slide-fade",keepAlive:!0}},{path:"/follow",name:"follow",component:function(){return Promise.all([n.e("chunk-3b16ea78"),n.e("chunk-23a92288")]).then(n.bind(null,"ceb8"))},meta:{transition:"slide-fade",keepAlive:!0}}]},{path:"/albumlist:id",name:"albumlist",component:function(){return n.e("chunk-51780c94").then(n.bind(null,"87da"))},props:!0,meta:{transition:"slide-fade"}},{path:"/songsdetails:id",name:"songsdetails",component:function(){return n.e("chunk-a9084636").then(n.bind(null,"a1da"))},props:!0,meta:{transition:"slide-fade"}},{path:"/comments:id",name:"comments",component:function(){return n.e("chunk-1f6a01a5").then(n.bind(null,"5892"))},props:!0},{path:"/login",name:"login",component:function(){return n.e("chunk-089c94e1").then(n.bind(null,"dc3f"))},meta:{transition:"slide-fade"}},{path:"/search",name:"search",component:function(){return n.e("chunk-d786745c").then(n.bind(null,"efe3"))},meta:{transition:"slide-fade",keepAlive:!0}},{path:"/video:id",name:"video",component:function(){return n.e("chunk-5f97fbfe").then(n.bind(null,"d242"))},props:!0,meta:{transition:"slide-fade"}},{path:"/user:id",name:"user",component:function(){return Promise.all([n.e("chunk-3b16ea78"),n.e("chunk-4045ca9b")]).then(n.bind(null,"b1b0"))},props:!0,meta:{transition:"slide-fade"}},{path:"/ranking",name:"ranking",component:function(){return n.e("chunk-2d0ae8fc").then(n.bind(null,"0b1e"))},meta:{transition:"slide-fade",keepAlive:!0}},{path:"/mymessage",name:"mymessage",component:function(){return n.e("chunk-c03fbc1e").then(n.bind(null,"a15d"))},meta:{transition:"slide-fade",keepAlive:!0}}]),te=Object(C["a"])({mode:"history",history:Object(C["b"])(),routes:ee});te.afterEach((function(e,t){var n=e.path.split("/").length,a=t.path.split("/").length;e.meta.transitionName=n<a?"slide-right":"slide-left"})),te.beforeEach((function(e,t,n){if("/login"===e.path){if(null!==JSON.parse(localStorage.getItem("cookie")))return!1;n()}else n()}));var ne=te,ae=n("4360"),ce=(n("7dc4"),n("499a"),n("2440")),oe=n("b650"),re=n("7744"),ie=n("ad06"),se=n("44bf"),ue=n("e41f"),le=n("565f"),de=n("772a"),be=n("f253"),fe=n("d961"),pe=n("8ad4"),me=n("1a23"),he=n("8f80"),je=n("ab2c"),Oe=n("543e"),ye=n("6e47"),ge=n("58e6"),ve=n("48bd"),ke=n("c36e"),we=n("471a"),Ce=n("f0ca"),Te=n("2bdd"),Se=n("7278"),Ge=n("5596"),ze=n("2830"),Ae=n("6b41"),_e=n("21ab"),xe=n("2bb1"),Ve=n("0b33"),Ee=n("5e46"),Me=n("ac28"),Pe=n("2ed4"),Ie=n("34e9"),Qe=n("7d5e"),qe=(n("157a"),n("895c"));n("8302"),n("77ed"),n("1afa"),n("21bd");Object(a["f"])($).use(ae["a"]).use(ne).use(ce["a"],{lazyComponent:!0}).use(oe["a"]).use(re["a"]).use(ie["a"]).use(se["a"]).use(ue["a"]).use(le["a"]).use(de["a"]).use(be["a"]).use(fe["a"]).use(pe["a"]).use(me["a"]).use(he["a"]).use(je["a"]).use(Oe["a"]).use(ye["a"]).use(ge["a"]).use(ve["a"]).use(ke["a"]).use(we["a"]).use(Ce["a"]).use(Te["a"]).use(Se["a"]).use(Ge["a"]).use(ze["a"]).use(Ae["a"]).use(_e["a"]).use(xe["a"]).use(Ve["a"]).use(Ee["a"]).use(Me["a"]).use(Pe["a"]).use(Ie["a"]).use(Qe["a"]).use(qe["a"]).mount("#app")},"5d6f":function(e,t,n){"use strict";n("ee04")},"63d9":function(e,t,n){"use strict";n("6fee")},"6d75":function(e,t,n){"use strict";n("d3b7");var a=n("bc3a"),c=n.n(a),o=c.a.create({baseURL:"/api",timeout:5e3,params:{cookie:localStorage.getItem("cookie"),withCredentials:!0},headers:{"Content-Type":"application/json;charset=UTF-8"}});o.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),t["a"]=o},"6fee":function(e,t,n){},7355:function(e,t,n){},"7dc4":function(e,t,n){},"7e29":function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"l",(function(){return h})),n.d(t,"i",(function(){return j})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return y}));var a=n("2d58"),c=n("ac84"),o=n("90a6"),r=(n("b680"),n("99af"),n("fb6a"),n("ac1f"),n("1276"),n("d3b7"),n("159b"),n("b0c0"),n("4660")),i=function(e){return e>1e8?(e=(e/1e8).toFixed(2),"".concat(e,"亿")):e>1e4?(e=(e/1e4).toFixed(2),"".concat(e," 万")):e},s=function(e){return e>1e3?(e=(e/1e3).toFixed(1),"".concat(e,"k")):e},u=function(e){var t=Object(o["a"])(e);if("number"===t||"string"===t){e=parseInt(e);var n=Math.floor(e/3600);e-=3600*n;var a=Math.floor(e/60);return e-=60*a,"".concat(("0"+a).slice(-2),":").concat(("0"+e).slice(-2))}return"00:00"},l=function(e,t){var n=Math.floor(Math.random()*(e-t)+t);return n},d=function(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}()},b=function(){document.querySelector(".audio").style.bottom="50px"},f=function(){document.querySelector(".audio").style.bottom=0},p=function(e){var t=e.lrc.lyric,n=t.split("\n"),a=[],c="",o="",r=[],i=[];return n.forEach((function(e){""!=e&&a.push(e)})),n=a,n.forEach((function(e){c=e.split("]")[0],o=e.split("]")[1];var t=c.slice(1).split(":");r.push([60*parseInt(t[0],10)+parseFloat(t[1]),o]),i.push(60*parseInt(t[0],10)+parseFloat(t[1]))})),{result:r,key:i}},m=function(e){return 0===e?"/comment/music":2===e?"/comment/playlist":5===e?"/comment/video":6===e?"/comment/ablmu":void 0},h=function(e){return 18===e?"分享单曲":19===e?"分享专辑":17===e||28===e?"分享电台节目":22===e?"转发":39===e?"发布视频":35===e?"":13===e?"分享歌单":24===e?"分享专栏文章":57===e?"发布Mlog":"分享视频"},j=function(e,t,n,a,c,o){t.state.songlist.length&&t.state.audio.played&&e===t.state.curret&&o.value||(a.loading({message:"加载中...",forbidClick:!0,loadingType:"spinner"}),t.state.audio.paused?(t.dispatch("setsonglist",c),t.dispatch("setsetcurret",e),o.value=!o.value,n((function(){t.state.audio.play(),t.dispatch("setisplay"),t.state.isplay&&4==t.state.audio.readyState&&a.clear({clearAll:!0})}))):(n((function(){t.dispatch("setisplay"),t.state.audio.pause()})),t.dispatch("setsonglist",c),t.dispatch("setsetcurret",e),n((function(){t.state.audio.play(),t.state.audio.played&&(t.dispatch("setisplay"),a.clear({clearAll:!0}))}))))},O=Object(a["a"])((function e(t,n,a,o){Object(c["a"])(this,e),this.al=t,this.name=n,this.ar=a,this.id=o})),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11e4;for(var t in r["a"])for(var n in r["a"][t])if(n==e)return r["a"][t][n]}},a033:function(e,t,n){"use strict";n("7355")},cd4f:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var a=n("7a23"),c=Object(a["M"])(!1),o=Object(a["M"])(!1),r=(Object(a["M"])(!1),Object(a["M"])(!1))},ee04:function(e,t,n){}});
//# sourceMappingURL=app.b3856798.js.map