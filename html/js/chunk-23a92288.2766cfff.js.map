{"version":3,"sources":["webpack:///./src/views/follow/components/reuse.vue?086d","webpack:///./src/views/follow/index.vue?7749","webpack:///./src/components/Recentplay/index.vue?49ac","webpack:///./src/views/follow/index.vue","webpack:///./src/views/follow/components/reuse.vue","webpack:///./src/hooks/container.js","webpack:///./src/views/follow/components/reuse.vue?601e","webpack:///./src/components/Recentplay/index.vue","webpack:///./src/components/Recentplay/index.vue?6a19","webpack:///./src/views/follow/index.vue?b593"],"names":["class","title","border","right","show","showPopover","theme","checked","offset","actions","onSelect","reference","name","color","size","cookie","ref","description","round","type","router","push","position","style","left-text","right-text","onClickLeft","onClickRight","inset","message","rows","autosize","placeholder","song","item","index","key","width","height","fit","radius","src","al","picUrl","label","ar","plain","hairline","icon","openMusic","ChooseMusic","cancel","value","list","close","loading","finished","finished-text","onLoad","Dynamiclist","activeItem","info","commentCount","likedCount","deletes","showShare","select","options","teleport","safe-area-inset-top","changeshow","itemActive","components","Item","ItemDynamic","setup","props","expose","store","lasttime","id","data","pagesize","i","event","Object","defineProperties","json","JSON","parse","length","user","userId","state","profile","flat","evId","code","splice","getevent","__exports__","attrs","pushDynamic","emit","Reuse","Recentplay","onload","text","msg","unshift","success","action","uid","allData","localStorage","getItem","render"],"mappings":"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","file":"js/chunk-23a92288.2766cfff.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./reuse.vue?vue&type=style&index=0&id=63f451ce&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=f195951a&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=0f38d2ea&lang=less&scoped=true\"","<script>\nimport Reuse from './components/reuse.vue';\nimport { computed, nextTick, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport { Toast } from 'vant';\nimport { Dynamiclist } from '@/hooks/container.js';\nimport { checked } from '@/hooks/status.js';\nimport { getresource } from '@/api/dynamic.js';\nimport { getrecord } from '@/api/user.js';\nimport Recentplay from '@/components/Recentplay/';\nexport default {\n  name: 'follow',\n  components: {\n    Reuse,\n    Recentplay,\n  },\n  setup(props, { attrs }) {\n    const router = useRouter();\n    const showPopover = ref(false);\n    const show = ref(false);\n    const ChooseMusic = ref(false);\n    const message = ref('');\n    const value = ref('');\n    const onload = ref(null);\n    const store = useStore();\n    const list = ref([]);\n    const song = ref([]);\n    // 通过 actions 属性来定义菜单选项\n    const actions = [\n      { text: '发图文', icon: 'newspaper-o' },\n      { text: '发视频', icon: 'play-circle-o' },\n      { text: '录声音', icon: 'bullhorn-o' },\n    ];\n    const onClickLeft = () => (show.value = !show.value);\n    const onClickRight = async () => {\n      if (message.value === '' || song.value.length === 0) {\n        return Toast('歌曲或内容不能为空哦');\n      }\n      const { data } = await getresource({\n        id: song.value[0].song.id,\n        msg: message.value,\n      });\n      data.event;\n      Dynamiclist.value.unshift(data.event);\n      Dynamiclist.value;\n\n      Toast.success('发布成功');\n\n      /*    onload.value.onload();\n       */\n      show.value = !show.value;\n      message.value = '';\n      song.value = [];\n    };\n    const onSelect = (action) => {\n      if (action.text === '发图文') {\n        show.value = !show.value;\n      }\n    };\n    const openMusic = async () => {\n      ChooseMusic.value = !ChooseMusic.value;\n      const { data } = await getrecord({\n        uid: store.state.profile.userId,\n        type: 0,\n      });\n\n      if (data.code === 200) {\n        list.value = data.allData;\n      }\n    };\n    const cancel = () => {\n      ChooseMusic.value = !ChooseMusic.value;\n    };\n    const cookie = computed(() => {\n      return JSON.parse(localStorage.getItem('cookie'));\n    });\n    const push = (item) => {\n      song.value.push(item);\n    };\n    const close = () => {\n      ChooseMusic.value = !ChooseMusic.value;\n    };\n    return {\n      cookie,\n      router,\n      actions,\n      onSelect,\n      showPopover,\n      checked,\n      show,\n      onClickLeft,\n      onClickRight,\n      message,\n      ChooseMusic,\n      openMusic,\n      cancel,\n      value,\n      list,\n      song,\n      push,\n      close,\n      onload,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.follow {\n  box-sizing: border-box;\n  .bottom-button {\n    width: 160px;\n    height: 40px;\n  }\n}\n.release {\n  width: 45px;\n  height: 25px;\n}\n.Release-bottom {\n  width: 100%;\n  height: 15vh;\n\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  .top {\n    height: 50%;\n    display: flex;\n    justify-content: space-around;\n    .topic {\n      height: 25px;\n      color: #7591b9;\n      border: #7591b9 1px solid;\n    }\n  }\n  .bottom {\n    .icons {\n      width: 50%;\n\n      display: flex;\n      justify-content: space-around;\n    }\n  }\n  ::v-deep(.van-cell__title) > span {\n    overflow: hidden;\n    white-space: nowrap;\n  }\n}\n.Recentlyitem {\n  padding: 5px;\n  margin-top: 3px;\n  display: flex;\n  align-items: center;\n}\n</style>\n\n<template>\n  <div class=\"follow animate__fadeIn animate__animated\">\n    <van-nav-bar title=\"动态\" :border=\"false\">\n      <template #right>\n        <van-popover\n          v-model:show=\"showPopover\"\n          :theme=\"checked ? 'dark' : 'light'\"\n          :offset=\"[-40, 0]\"\n          :actions=\"actions\"\n          @select=\"onSelect\"\n        >\n          <template #reference><van-icon name=\"add\" color=\"red\" size=\"30\" /> </template>\n        </van-popover>\n      </template>\n    </van-nav-bar>\n    <Reuse v-if=\"cookie\" ref=\"onload\" />\n    <van-empty description=\"请登录\" v-else>\n      <van-button round type=\"danger\" class=\"bottom-button\" @click=\"router.push('/login')\">登录</van-button>\n    </van-empty>\n  </div>\n  <van-popup v-model:show=\"show\" position=\"bottom\" :style=\"{ height: '100%' }\">\n    <van-nav-bar\n      title=\"发图文\"\n      left-text=\"取消\"\n      right-text=\"按钮\"\n      @click-left=\"onClickLeft\"\n      @click-right=\"onClickRight\"\n      :border=\"false\"\n    >\n      <template #right>\n        <van-button round type=\"primary\" class=\"release\" size=\"20\" color=\"red\">发布</van-button>\n      </template>\n    </van-nav-bar>\n    <van-cell-group inset>\n      <van-field v-model=\"message\" rows=\"1\" autosize type=\"textarea\" placeholder=\"和村民们分享你的生活把\" />\n    </van-cell-group>\n    <div class=\"Recentlyitem\" v-for=\"(item, index) in song\" :key=\"index\">\n      <div>\n        <van-image width=\"50\" height=\"50\" fit=\"cover\" radius=\"15\" :src=\"item.song.al.picUrl\" />\n      </div>\n      <van-cell :title=\"item.song.name\" :label=\"item.song.ar[0].name\" />\n    </div>\n    <div class=\"Release-bottom\">\n      <div class=\"top\">\n        <van-button plain hairline round type=\"primary\" class=\"topic\" size=\"mini\">\n          <template #icon> 话题 <van-icon name=\"arrow\" size=\"15\" /> </template>\n        </van-button>\n        <van-button plain hairline round type=\"primary\" class=\"topic\" size=\"mini\">\n          <template #icon> 话题 <van-icon name=\"arrow\" size=\"15\" /> </template>\n        </van-button>\n        <van-button plain hairline round type=\"primary\" class=\"topic\" size=\"mini\">\n          <template #icon> 话题 <van-icon name=\"arrow\" size=\"15\" /> </template>\n        </van-button>\n        <van-button plain hairline round type=\"primary\" class=\"topic\" size=\"mini\">\n          <template #icon> 话题 <van-icon name=\"arrow\" size=\"15\" /> </template>\n        </van-button>\n      </div>\n      <div class=\"van-hairline--top\"></div>\n      <div class=\"bottom\">\n        <div class=\"icons\">\n          <van-icon size=\"25\" name=\"music-o\" @click=\"openMusic\" />\n          <van-icon size=\"25\" name=\"photo-o\" />\n          <van-icon size=\"25\" name=\"bullhorn-o\" />\n          <van-icon size=\"25\" name=\"question-o\" />\n        </div>\n      </div>\n    </div>\n  </van-popup>\n  <van-popup v-model:show=\"ChooseMusic\" position=\"bottom\" :style=\"{ height: '100%' }\">\n    <van-nav-bar title=\"选择音乐\" left-text=\"取消\" @click-left=\"cancel\" :border=\"false\"> </van-nav-bar>\n    <van-search v-model=\"value\" placeholder=\"搜索用户\" />\n    <Recentplay :list=\"list\" @push=\"push\" @close=\"close\" />\n  </van-popup>\n</template>\n","<script>\r\nimport { getevent, gettopic, gettopics } from '@/api/user.js';\r\nimport Item from './item.vue';\r\nimport { Dynamiclist } from '@/hooks/container.js';\r\nimport { onMounted } from '@vue/runtime-core';\r\nimport ItemDynamic from './itemDynamic.vue';\r\nimport { getdelates } from '@/api/dynamic.js';\r\nimport { ref, provide } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { Toast } from 'vant';\r\nexport default {\r\n  components: { Item, ItemDynamic },\r\n  name: 'reuse',\r\n  setup(props, { expose }) {\r\n    const loading = ref(false);\r\n    const finished = ref(false);\r\n    const store = useStore();\r\n    const showShare = ref(false);\r\n    const show = ref(false);\r\n    const itemActive = ref(null);\r\n    const lasttime = ref(-1);\r\n    const options = ref([\r\n      [\r\n        { name: '微信', icon: 'wechat' },\r\n        { name: '朋友圈', icon: 'wechat-moments' },\r\n        { name: '微博', icon: 'weibo' },\r\n        { name: 'QQ', icon: 'qq' },\r\n      ],\r\n      [\r\n        { name: '复制链接', icon: 'link' },\r\n        { name: '分享海报', icon: 'poster', index: null, id: null },\r\n        { name: '二维码', icon: 'qrcode' },\r\n        { name: '小程序码', icon: 'weapp-qrcode' },\r\n      ],\r\n    ]);\r\n\r\n    onMounted(async () => {\r\n      const { data } = await gettopic();\r\n      const res = await gettopics();\r\n    });\r\n    const onLoad = async () => {\r\n      const { data } = await getevent({\r\n        pagesize: 5,\r\n        lasttime: lasttime.value,\r\n      });\r\n      for (let i in data.event) {\r\n        Object.defineProperties(data.event[i], {\r\n          json: {\r\n            value: JSON.parse(data.event[i].json),\r\n          },\r\n        });\r\n      }\r\n\r\n      Dynamiclist.value.push(...data.event);\r\n\r\n      loading.value = false;\r\n\r\n      if (data.event.length) {\r\n        lasttime.value = data.lasttime;\r\n      } else {\r\n        finished.value = true;\r\n      }\r\n    };\r\n    expose({\r\n      onLoad,\r\n    });\r\n    const changeshow = () => (show.value = !show.value);\r\n    const activeItem = (item) => {\r\n      itemActive.value = item;\r\n      show.value = !show.value;\r\n    };\r\n    const deletes = (item, index) => {\r\n      if (item.user.userId === store.state.profile.userId) {\r\n        options.value.flat()[5].name = '删除';\r\n        options.value.flat()[5].index = index;\r\n        options.value.flat()[5].id = item.id;\r\n        options.value.flat()[5].icon =\r\n          'https://img1.baidu.com/it/u=2198873381,3249768272&fm=253&fmt=auto&app=138&f=JPG?w=500&h=500';\r\n      } else {\r\n        options.value.flat()[5].name = '分享海报';\r\n        options.value.flat()[5].icon = 'poster';\r\n        options.value.flat()[5].index = null;\r\n      }\r\n\r\n      showShare.value = !showShare.value;\r\n    };\r\n    const select = async (name) => {\r\n      if (name.name === '删除') {\r\n        const { data } = await getdelates({\r\n          evId: name.id,\r\n        });\r\n        if (data.code === 200) {\r\n          Toast('删除成功');\r\n        }\r\n        Dynamiclist.value.splice(name.index, 1);\r\n        showShare.value = !showShare.value;\r\n      }\r\n    };\r\n\r\n    return {\r\n      getevent,\r\n      Dynamiclist,\r\n      options,\r\n      showShare,\r\n      onLoad,\r\n      loading,\r\n      finished,\r\n      lasttime,\r\n      show,\r\n      changeshow,\r\n      itemActive,\r\n      activeItem,\r\n      Dynamiclist,\r\n      deletes,\r\n      select,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.content {\r\n  width: 100%;\r\n  padding: 5px;\r\n  height: 83vh;\r\n  box-sizing: border-box;\r\n  overflow-y: auto;\r\n  .itemmargin {\r\n    margin: 35px 0;\r\n    .ziliao {\r\n      width: 86vw;\r\n      float: right;\r\n      margin: 5px 0;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      .bottomitem {\r\n        color: #bfbfbf;\r\n        font-size: 13px;\r\n\r\n        .icon {\r\n          margin-right: 5px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"content\">\r\n    <van-list v-model:loading=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\"\r\n      ><div v-for=\"(item, index) in Dynamiclist\" :key=\"index\" class=\"itemmargin\">\r\n        <Item :item=\"item\" />\r\n\r\n        <!--    <div class=\"\">{{ item.json.song }}</div> -->\r\n        <div class=\"ziliao\">\r\n          <div class=\"bottomitem\"><van-icon size=\"15\" class=\"icon\" name=\"revoke\" />转发</div>\r\n          <div class=\"bottomitem\">\r\n            <van-icon size=\"18\" class=\"icon\" name=\"chat-o\" @click=\"activeItem(item)\" />{{ item.info.commentCount }}\r\n          </div>\r\n          <div class=\"bottomitem\"><van-icon size=\"18\" class=\"icon\" name=\"good-job-o\" />{{ item.info.likedCount }}</div>\r\n          <van-icon name=\"ellipsis\" size=\"20\" @click.stop=\"deletes(item, index)\" />\r\n        </div>\r\n        <div class=\"van-hairline--bottom\"></div>\r\n      </div>\r\n      <van-share-sheet\r\n        v-model:show=\"showShare\"\r\n        title=\"立即分享给好友\"\r\n        @select=\"select\"\r\n        :options=\"options\"\r\n        teleport=\"body\"\r\n      />\r\n      <van-popup\r\n        v-model:show=\"show\"\r\n        position=\"right\"\r\n        safe-area-inset-top\r\n        :style=\"{ height: '100%', width: '100%' }\"\r\n        teleport=\"body\"\r\n        ><ItemDynamic @changeshow=\"changeshow\" :item=\"itemActive\"\r\n      /></van-popup>\r\n    </van-list>\r\n  </div>\r\n</template>\r\n","import { ref } from 'vue';\r\nexport const Dynamiclist = ref([]);\r\n\r\n","import { render } from \"./reuse.vue?vue&type=template&id=63f451ce&scoped=true\"\nimport script from \"./reuse.vue?vue&type=script&lang=js\"\nexport * from \"./reuse.vue?vue&type=script&lang=js\"\n\nimport \"./reuse.vue?vue&type=style&index=0&id=63f451ce&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\HTML工程\\\\项目\\\\v3netease-main\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-63f451ce\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"Recentplay\">\r\n    最近播放\r\n    <div class=\"Recentlyitem\" @click=\"pushDynamic(item)\" v-for=\"(item, index) in attrs.list\" :key=\"index\">\r\n      <div>\r\n        <van-image width=\"50\" height=\"50\" fit=\"cover\" radius=\"15\" :src=\"item.song.al.picUrl\" />\r\n      </div>\r\n      <van-cell :title=\"item.song.name\" :label=\"item.song.ar[0].name\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  setup(props, { attrs, emit }) {\r\n    const pushDynamic = (item) => {\r\n      emit('push', item);\r\n      emit('close');\r\n    };\r\n    return {\r\n      attrs,\r\n      pushDynamic,\r\n      emit,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.Recentplay {\r\n  height: 84vh;\r\n  overflow-y: auto;\r\n\r\n  padding: 5px;\r\n  .Recentlyitem {\r\n    margin-top: 3px;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=0f38d2ea&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0f38d2ea&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\HTML工程\\\\项目\\\\v3netease-main\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f38d2ea\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=f195951a&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=f195951a&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\HTML工程\\\\项目\\\\v3netease-main\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f195951a\"]])\n\nexport default __exports__"],"sourceRoot":""}